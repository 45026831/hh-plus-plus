// ==UserScript==
// @name            Hentai Heroes++ BDSM version
// @description     Adding things here and there in the Hentai Heroes game. Also supports HHCore-based games such as GH and CxH.
// @version         1.6.1
// @match           https://*.hentaiheroes.com/*
// @match           https://nutaku.haremheroes.com/*
// @match           https://*.gayharem.com/*
// @match           https://*.comixharem.com/*
// @run-at          document-body
// @namespace       https://github.com/45026831/hh-plus-plus
// @updateURL       https://raw.githubusercontent.com/45026831/hh-plus-plus/main/dist/hh-plus-plus.meta.js
// @downloadURL     https://raw.githubusercontent.com/45026831/hh-plus-plus/main/dist/hh-plus-plus.user.js
// @grant           none
// @author          45026831(Numbers)
// ==/UserScript==

// The changelog can be found at https://raw.githubusercontent.com/45026831/hh-plus-plus/main/CHANGELOG

/**
 * SPECIAL THANKS:
 *
 * Code contributions
 * - Raphael
 * - 1121
 * - Sluimerstand
 * - shal
 * - Tom208
 * - test_anon
 * - BenBrazke
 * - randomfapper34
 * - Orange
 * - zoopokemon
 * - Ia1nn
 * - and many more over the years!
 *
 * Translations
 *
 * De:
 * - Bellanaris
 * - shal
 * - holymolly
 * - bla
 *
 * Fr:
 * - Tom208
 * - test_anon
 * - sygfried01
 * - Uxio
 *
 * Es:
 * - Vampi
 * - Sozan
 * - Reisen
 * - Dogurasu53
 * - holymolly
 *
 * It:
 * - Daniel/Danutaku
 * - holymolly
 * 
 * Ru:
 * - FinderKeeper
 */

// WARNING: This file has been generated, DO NOT EDIT.
window.HHPlusPlus={};

window.HHPlusPlus={},(()=>{var a={971:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'.hh-plus-plus-config-button{position:absolute;right:15px;cursor:pointer;background-size:contain;background-image:var(--config-button-icon)}.hh-plus-plus-config-button:after{content:"++";position:absolute;width:auto;bottom:-3px;right:-5px;text-shadow:0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000;-moz-transform:rotate(0.05deg)}.hh-plus-plus-config-panel{display:none;height:470px;width:900px;position:absolute;top:70px;right:63px;z-index:100;border-style:solid;border-image-slice:1;border-width:4px;background:var(--config-panel-background);border-image-source:var(--config-border-image-source);box-shadow:var(--config-panel-box-shadow)}.hh-plus-plus-config-panel.shown{display:block}.hh-plus-plus-config-panel .group-panel{display:none;position:absolute;top:54px;width:889px;height:405px}.hh-plus-plus-config-panel .group-panel.shown{display:block}.hh-plus-plus-config-panel .group-panel .panel-contents{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;width:100%;height:auto;padding-left:10px;padding-right:10px;gap:10px}.hh-plus-plus-config-panel .config-setting{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;border-radius:6px;border:1px solid #aaa;padding:7px;font-size:14px;background:var(--config-setting-background)}.hh-plus-plus-config-panel .config-setting.has-subsettings{grid-row-end:span 2}.hh-plus-plus-config-panel .config-setting.enabled{border:1px solid var(--config-setting-border)}.hh-plus-plus-config-panel .base-setting{display:flex}.hh-plus-plus-config-panel .base-setting span{flex:1}.hh-plus-plus-config-panel .sub-settings{font-size:12px;margin-top:8px}.hh-plus-plus-config-panel .sub-settings label{display:flex;align-items:center;margin-bottom:6px}.hh-plus-plus-config-panel .sub-settings label span{flex:1}.hh-plus-plus-config-panel .sub-settings label input{margin-left:0}.hh-plus-plus-config-panel .sub-settings label input[disabled]{background-color:initial;box-shadow:unset;-webkit-box-shadow:unset}.close-config-panel{position:absolute;display:block;background-size:cover;background-image:var(--cross-icon);height:37px;width:41px;top:6px;right:6px;cursor:pointer}@media(min-width: 1026px){.hh-plus-plus-config-button{height:35px;width:35px;top:56px}.hh-plus-plus-config-button:after{font-size:26px;height:20px;line-height:20px}}@media(max-width: 1025px){.hh-plus-plus-config-button{height:64px;width:64px;top:85px}.hh-plus-plus-config-button:after{font-size:46px;height:40px;line-height:46px}}',""]);const s=t},476:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#leagues .matchRating{text-shadow:1px 1px 0 #000,-1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000;font-size:18px}@media(min-width: 1026px){#leagues .matchRating{text-align:center;line-height:25px}}@media(max-width: 1025px){#leagues .matchRating{margin-left:75px;line-height:0px}#leagues .matchRating br{display:none}}#leagues .average-lvl{text-align:center}#leagues .gridWrapper{margin-top:-42px;display:grid;grid-template-columns:1fr 1fr;grid-gap:24px;z-index:0}#leagues .player_block .team-hexagon-container .icon{z-index:1}.probabilityTable tr{line-height:16px;color:#fff}.probabilityTable tr:nth-of-type(odd){background-color:rgba(0,0,0,.2)}.probabilityTable tr:nth-of-type(even)[data-tint=w]{background-color:#66cd0028}.probabilityTable tr:nth-of-type(even)[data-tint=l]{background-color:#ff2f2f28}.probabilityTable .plus{color:#66cd00}.probabilityTable .minus{color:#ff2f2f}.probabilityTable .close{color:orange}#season-arena .matchRating{text-align:center;margin-left:10px;text-shadow:1px 1px 0 #000,-1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000;line-height:28px;font-size:16px}#season-arena .plus{color:#66cd00}#season-arena .minus{color:#ff2f2f}#season-arena .close{color:orange}#season-arena .season_arena_block.opponent .hero_team{padding:0px}#season-arena .gridWrapper{margin-top:-26px;display:grid;grid-template-columns:1fr 1fr;grid-gap:24px;z-index:0}#season-arena .average-lvl{text-align:center}#pre-battle .plus{color:#66cd00}#pre-battle .minus{color:#ff2f2f}#pre-battle .close{color:orange}#pre-battle .gridWrapper{display:grid;grid-template-columns:1fr 1fr;width:100%}#pre-battle .matchRating{text-align:center;font-size:16px}#pre-battle .fighter-team .team-hexagon-container .average-lvl{text-align:center;margin-top:0px;line-height:26px}",""]);const s=t},171:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#club_champions_body_table td.impression div{line-height:1.2;font-size:.9rem}#club_champions_body_table td.impression .shard{height:1rem;width:1rem;display:inline-block;background-size:140%;background-position:center}#club_champions_body_table .script-participant-count{display:block;position:absolute;top:15px;left:500px}#members .non-participant td{color:#ffa07a}.inner_club_tables.club_champions_participants_container>.lead_table_view .nicescroll-rails{right:5px !important}.champions-middle__girl-selection .green-tick-icon.script-pose-match{margin-left:35px;filter:hue-rotate(-45deg)}.champions-bottom__ticket-amount{width:145px}.champions-bottom__ticket-amount.right{text-align:left !important}",""]);const s=t},673:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".slot.reward_sum{margin-right:5px;border:2px solid #fff}.slot.reward_sum img{display:inline;width:60%;height:60% !important;margin:0px !important}.shards_girl_ico.reward_sum{position:relative;float:none;width:40px;height:40px;margin-right:5px}.shards_girl_ico.reward_sum img{width:100%;height:100% !important;margin:0px !important}.shards_girl_ico.reward_sum .shards{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-moz-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:unset;-moz-justify-content:unset;-ms-justify-content:unset;justify-content:unset;-ms-flex-pack:unset;-webkit-align-content:unset;-moz-align-content:unset;-ms-align-content:unset;align-content:unset;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-align-self:unset;-moz-align-self:unset;-ms-align-self:unset;align-self:unset;width:100%;height:20px;margin:-36px 0 0}.shards_girl_ico.reward_sum span.shard{top:45px;left:5px;width:20px;height:20px}.shards_girl_ico.reward_sum p{position:absolute;padding-left:20px;color:#80058b;text-shadow:1px 1px 0 #fff,-1px 1px 0 #fff,-1px -1px 0 #fff,1px -1px 0 #fff;top:-18px;font-size:8px;line-height:2;margin:40px 0 0 -4px}",""]);const s=t},217:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'.script-fight-a-villain-menu-overlay{display:none;background-color:#0808087a;position:absolute;top:0;left:0;width:100%;height:100%;z-index:9}.script-fight-a-villain-menu-overlay.shown{display:block}.script-fight-a-villain-menu-container{display:none;align-items:center;justify-content:center;color:#fff;width:1040px;height:585px;z-index:10;font-size:16px;pointer-events:none}.script-fight-a-villain-menu-container.shown{display:flex}.script-fight-a-villain-menu-container .script-fight-a-villain-menu{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-auto-flow:row;grid-gap:.3em;padding:.5em;border-radius:5px;border-width:5px;border-style:solid;border-color:#cccccc42;background-color:#080808f5;pointer-events:all}.script-fight-a-villain-menu-container .script-fight-a-villain-menu.width-1{grid-template-columns:1fr}.script-fight-a-villain-menu-container .script-fight-a-villain-menu.width-2{grid-template-columns:1fr 1fr}.script-fight-a-villain-menu-container .script-fight-a-villain-menu.width-3{grid-template-columns:1fr 1fr 1fr}.script-fight-a-villain-menu-container .script-fight-a-villain-menu.width-4{grid-template-columns:1fr 1fr 1fr 1fr}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain{text-decoration:none;color:unset;background-color:#cccccc5a;display:block;padding:.2em;border-radius:.3em}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain:hover{background-color:#cccccc72}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.all-obtained{background-color:#cccccc32}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.all-obtained:hover{background-color:#cccccc72}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.common{background-color:#8d8e9fad}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.common:hover{background-color:#b4b5c9ad}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.rare{background-color:#23b56b70}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.rare:hover{background-color:#2bdf8470}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.epic{background-color:#ffb24470}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.epic:hover{background-color:#ffc97b70}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.legendary{background-color:#9150bf8a}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.eventTroll.legendary:hover{background-color:#9150bfd6}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.mythicEventTroll{background-color:#ec003970}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain.mythicEventTroll:hover{background-color:#ff003e70}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-top{display:flex;justify-content:space-between}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-icon{width:2.5rem;height:auto}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-name-and-drops{flex:1;padding-left:.5em;padding-right:.5em;display:flex;flex-direction:column}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-name{font-size:.75em}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-drops{display:flex}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-drop{display:block;width:1.3em;height:auto}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-gem-drop-container{width:1.5em;position:relative;display:flex;flex-direction:column;align-items:center}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-gem-drop-amount{position:absolute;bottom:-0.5em;font-size:.9em;text-shadow:1px 1px 0 #000,-1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-world img{width:1.5em;height:auto;display:block}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-world:hover{filter:drop-shadow(0px 0px 3px #fff)}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-bottom{display:grid;grid-template-columns:3fr 1fr 1fr 1fr;grid-gap:.2em}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-bottom .girl_ico{position:relative;width:fit-content}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-bottom .girl_ico.obtained{border-color:#75b400}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-bottom .girl_ico.obtained::after{content:" ";position:absolute;background-image:var(--girl-ico-tick);background-size:contain;background-repeat:no-repeat;display:block;width:1em;height:1em;top:0;right:0}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-bottom .girl_ico img{width:2em;height:auto}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-bottom .girl_ico .shard-count{position:absolute;text-align:center;display:block;width:100%;font-size:.7em;bottom:-0.125em;color:#80058b;text-shadow:1px 1px 0 #fff,-1px 1px 0 #fff,-1px -1px 0 #fff,1px -1px 0 #fff;font-weight:var(--troll-menu-font-weight)}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-bottom .girl_ico .shard-count .shard{height:1.4em;width:1.2em;display:inline-block;background-size:140%;background-position:center}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-tier{display:flex;flex-direction:column}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-tier-title{font-size:.7em;display:block;width:100%;height:1.3em;border-bottom:1px solid #fff;margin-bottom:.2em}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-tier-girls{display:grid;grid-gap:.2em}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-tier-girls.tier1{grid-template-columns:1fr 1fr 1fr}.script-fight-a-villain-menu-container .script-fight-a-villain-menu .menu-villain-tier-girls.event{grid-template-columns:1fr}#contains_all>header [type=fight] .bar-wrapper{cursor:pointer}',""]);const s=t},995:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".gemStock{display:block;position:absolute;background-size:contain;height:34px;width:34px;z-index:30;background-image:var(--gem-stock-icon)}#shops_right #girls_list>.gemStock{top:-12px;left:38px}@media(max-width: 1025px){#shops_right #girls_list>.gemStock{top:-1px}}#harem_whole #harem_right>.gemStock{top:4px;right:200px}@media(max-width: 1025px){#harem_whole #harem_right>.gemStock{top:92px;right:62px}}.gemStock-table img{height:25px;width:25px}",""]);const s=t},893:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#hh_comix #harem_left .girls_list.grid_view div[girl] .right .salary .loading .over.count{font-weight:bold}",""]);const s=t},31:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'.harem-info-panel{display:none;background-color:#080808f5;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-weight:400;position:absolute;bottom:50px;left:10px;z-index:20;border-radius:5px;border-width:5px;border-style:solid;border-color:#cccccc42;padding:16px;grid-gap:10px;grid-template-columns:auto auto auto}.harem-info-panel .summary-block{display:inline-block;width:280px}.harem-info-panel .summary-block.general-summary{width:250px}.harem-info-panel.visible{display:grid}.harem-info-panel h1{font-size:1.2em}.harem-info-panel-toggle{display:block;position:absolute;height:32px;width:32px;background-size:contain;bottom:15px;left:6px;cursor:pointer}.harem-info-panel-toggle:hover{filter:drop-shadow(0px 0px 1px gold)}.harem-info-panel .to-max-label{margin-top:-6px}.harem-info-panel .summary-grid{display:grid;grid-gap:6px;list-style:none;padding-left:0px;margin-block-end:0px}.harem-info-panel .summary-grid li{display:inline-block;background:#cccccc42;border-radius:5px;padding-right:7px;line-height:20px;margin-left:10px}.harem-info-panel .summary-grid li>span{display:flex;justify-content:space-between;align-items:center;margin-left:-10px}.harem-info-panel .summary-grid .fire_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid .nature_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid .stone_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid .sun_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid .water_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid .darkness_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid .light_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid .psychic_element_icn{display:inline-block;width:20px;height:20px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid [carac]::before{width:20px;height:20px}.harem-info-panel .summary-grid .rarity-icon{display:inline-block;height:20px;width:20px;font-family:"Carter One","Alegreya Sans",Montserrat}.harem-info-panel .summary-grid .rarity-icon.starting{background-color:#ccc}.harem-info-panel .summary-grid .rarity-icon .initial{display:inline-block;width:100%;text-align:center;line-height:20px;position:absolute;top:0px;left:0px;vertical-align:middle;color:#fff;text-shadow:0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000;-moz-transform:rotate(0.05deg)}.harem-info-panel .summary-grid.caracs-summary{grid-template-columns:1fr 1fr 1fr}.harem-info-panel .summary-grid.rarity-summary{grid-auto-flow:column;grid-template-rows:auto auto}.harem-info-panel .summary-grid.elements-summary{grid-template-columns:1fr 1fr 1fr 1fr}.harem-info-panel .summary-grid.xp-aff-summary{grid-template-columns:1fr 1fr}.harem-info-panel .summary-grid.xp-aff-summary .xp-aff-label{display:inline-block;height:20px;padding-left:7px;font-family:"Carter One","Alegreya Sans",Montserrat}.harem-info-panel .summary-grid.xp-aff-summary .xp-aff-label.unlocked-scenes-icon{height:40px;width:40px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid.xp-aff-summary li{margin-left:0px}.harem-info-panel .summary-grid.xp-aff-summary li>span{margin-left:0px}.harem-info-panel .summary-grid.xp-aff-summary li>span>span:last-child{text-align:right}.harem-info-panel .summary-grid.salary-summary{grid-template-columns:1fr}.harem-info-panel .summary-grid.salary-summary .salary-label::before{height:40px;width:40px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid.salary-summary li{margin-left:0px}.harem-info-panel .summary-grid.salary-summary li>span{margin-left:0px}.harem-info-panel .summary-grid.upgrade-costs{grid-template-columns:1fr;margin-block-start:.3em;margin-block-end:.5em}.harem-info-panel .summary-grid.upgrade-costs .cost-value{text-align:right}.harem-info-panel .summary-grid.upgrade-costs .cost-value [cur]{white-space:nowrap}.harem-info-panel .summary-grid.upgrade-costs .cost-value [cur]::before{height:18px;width:18px}.harem-info-panel .summary-grid.upgrade-costs .affection-label{display:inline-block;height:40px;width:40px;background-size:contain;background-repeat:no-repeat}.harem-info-panel .summary-grid.upgrade-costs li{margin-left:0px}.harem-info-panel .summary-grid.upgrade-costs li>span{margin-left:0px}.harem-info-panel .summary-grid.gems-summary,.harem-info-panel .summary-grid.gems-stock{grid-template-columns:1fr 1fr 1fr 1fr;margin-block-start:0px}.harem-info-panel .summary-grid.gems-summary .gem-icon,.harem-info-panel .summary-grid.gems-stock .gem-icon{display:inline-block;height:20px;width:20px;background-size:contain}.harem-info-panel .summary-grid.gems-summary{font-size:10px}.harem-info-panel .summary-grid.gems-stock{font-size:12px;margin-block-end:1em}.harem-info-panel .to-max-combi .upgrade-costs{margin-block-end:6px}.harem-info-panel .restock-info,.harem-info-panel .market-warning{color:#aaa;font-size:10px;margin-block-start:.3em}#harem_left{z-index:1}.harem-info-overlay-bg{display:none;width:100vw;height:100%;position:absolute;top:0px;left:0px;z-index:19}.harem-info-overlay-bg.visible{display:block}#harem_whole .WikiLinkDialogbox a{text-decoration:none;color:#24a0ff !important}#harem_right .WikiLink a{text-decoration:none}#harem_right .WikiLink a:hover h3{text-shadow:0 0 2px #000,0 0 4px #fff}.scene-costs-tooltip [cur]::before{height:18px;width:18px}',""]);const s=t},636:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".script-hide-claimed{display:none}#events .nc-panel-body .script-hide-claimed{display:none}",""]);const s=t},527:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"@media(max-width: 1025px){.rotate_device{display:none !important}}",""]);const s=t},279:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".script-home-timer{color:#999;margin-top:-5px}#homepage>a>.position>span{height:auto;min-height:26px}@media(max-width: 1025px){#homepage>a>.position>span{height:auto;min-height:44px}}@media(max-width: 1025px){#homepage>a[rel=pachinko]>.position>span{width:140px}}@media(min-width: 1026px){#homepage>a[rel=pachinko]>.position>span{width:110px}}@media(max-width: 1025px){#homepage>a[rel=shop]>.position>span{width:130px}}@media(min-width: 1026px){#homepage>a[rel=shop]>.position>span{width:100px}}#homepage>a[rel=clubs]{top:148px;left:151px}@media(max-width: 1025px){#homepage>a[rel=clubs]{top:128px;left:194px;z-index:1}}#homepage>a[rel=clubs]>.position{width:auto;left:44px}@media(max-width: 1025px){#homepage>a[rel=clubs]>.position>span{width:130px}}@media(min-width: 1026px){#homepage>a[rel=clubs]>.position>span{width:100px}}#homepage>a[rel=leaderboard]{height:167px}@media(max-width: 1025px){#homepage>a[rel=sex-god-path] .position{top:84px}}.champions_flat_icn{background-image:var(--champions-icon)}.pantheon_flat_icn{background-image:var(--pantheon-icon)}.script-home-shortcut-container{display:flex;height:30px;margin-top:-38px;margin-bottom:8px;justify-content:center}@media(max-width: 1025px){.script-home-shortcut-container{height:40px;margin-top:-48px}}.script-home-shortcut{width:30px;height:30px;margin-left:3px;margin-right:3px}@media(max-width: 1025px){.script-home-shortcut{width:40px;height:40px;margin-left:4px;margin-right:4px}}.script-home-shortcut .clubChampions_flat_icn,.script-home-shortcut .champions_flat_icn,.script-home-shortcut .pantheon_flat_icn{height:16px;width:16px;background-size:contain;background-repeat:no-repeat;background-position:center}@media(max-width: 1025px){.script-home-shortcut .clubChampions_flat_icn,.script-home-shortcut .champions_flat_icn,.script-home-shortcut .pantheon_flat_icn{height:22px;width:22px}}#home_missions_bar-script{position:absolute;top:395px;left:595px;font-size:11px}#home_missions_bar-script .backbar{top:20px;height:7px;width:140px;overflow:hidden}#home_missions_bar-script .text{top:9px;width:150px}",""]);const s=t},613:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".script-player-row-container{font-size:14px;width:90%;margin:auto;padding-right:10px}.leaderboard_row_active{padding:1px}",""]);const s=t},72:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'#leagues_middle .league_end_in{line-height:16px}.scriptLeagueInfo{display:block;float:right;margin-right:9px}@media(min-width: 1026px){.scriptLeagueInfo{font-size:13px}}@media(max-width: 1025px){.scriptLeagueInfo{position:absolute;right:300px;top:-20px;font-size:14px}}.scriptLeagueInfoIcon{position:relative;top:1px;display:inline-block;height:16px;width:16px;font-size:10px;border-radius:5px;margin-left:6px;margin-right:2px;text-shadow:0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000;-moz-transform:rotate(0.05deg)}.scriptLeagueInfoIcon:after{display:block;position:relative;top:2px;left:0;width:100%;text-align:center}.scriptLeagueInfoIcon.top4{background:var(--legendary-bg);background-size:cover}.scriptLeagueInfoIcon.top4:after{content:"4"}.scriptLeagueInfoIcon.top15{background-color:#ffb244}.scriptLeagueInfoIcon.top15:after{content:"15"}.scriptLeagueInfoIcon.top30{background-color:#23b56b}.scriptLeagueInfoIcon.top30:after{content:"30"}.hh_tooltip_new em{color:#fff}#leagues_middle .leagues_middle_header .leagues_girl_reward_container{right:9px;top:-35px}#beaten_opponents{position:absolute;padding-left:5px;padding-right:5px;background:none;border:none;cursor:pointer}@media(min-width: 1026px){#beaten_opponents{height:28px;top:-40px;left:10px}}@media(max-width: 1025px){#beaten_opponents{height:32px;z-index:1;right:517px}}#hide_beaten{position:relative}#hide_beaten img{width:auto}@media(min-width: 1026px){#hide_beaten img{height:20px}}@media(max-width: 1025px){#hide_beaten img{height:26px}}#leagues_middle>.leagues_table.lead_table>.lead_table_view table .square-avatar-wrapper .classLeague{position:absolute;display:flex;left:-38px;top:6px;width:100%;justify-content:flex-end}@media(max-width: 1025px){#leagues_middle>.leagues_table.lead_table>.lead_table_view table .square-avatar-wrapper .classLeague{left:-66px;top:17px}}#leagues_middle>.leagues_table.lead_table>.lead_table_view table .square-avatar-wrapper .classLeague img.theme-icon{flex:0 1 0%;height:17px;width:17px;border:none;position:initial}@media(max-width: 1025px){#leagues_middle>.leagues_table.lead_table>.lead_table_view table .square-avatar-wrapper .classLeague img.theme-icon{height:25px;width:25px}}#leagueStats table,#oldLeagueStats table{margin-left:auto;margin-right:auto}#leagueStats table tr td:first-child,#oldLeagueStats table tr td:first-child{text-align:right}#leagueStats table tr td:last-child,#oldLeagueStats table tr td:last-child{text-align:left}.individualDisplaySwitch{position:absolute}.individualDisplaySwitch input{display:none}.individualDisplaySwitch input+span{color:#d08467;padding:5px;cursor:pointer}.individualDisplaySwitch input:checked+span,.individualDisplaySwitch input:hover+span{color:#fff}@media(min-width: 1026px){.individualDisplaySwitch{top:-33px;left:90px}}@media(max-width: 1025px){.individualDisplaySwitch{top:10px;left:335px;font-size:16px}}',""]);const s=t},759:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'#shops label.equip_filter{background:transparent}#shops #inventory label.equip_filter{width:32px;position:absolute;top:-6px}label.equip_filter input{height:32px;width:32px;display:block;padding:0px}label.equip_filter::before{content:" ";display:block;position:absolute;height:100%;width:100%;background-position:center;background-size:24px;background-repeat:no-repeat;background-image:var(--filter-icon);pointer-events:none}.equip_filter_box{position:absolute;bottom:0px;left:-215px;width:200px;height:-moz-fit-content;height:fit-content;z-index:3;border-radius:8px 10px 10px 8px;background-color:#1e261e;box-shadow:rgba(255,255,255,.73) 0px 0px;padding:5px;border:1px solid #ffa23e}#shops #inventory .equip_filter_box label{background:transparent;width:auto;margin:0px}.grid-selector{width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:16px}.grid-selector:last-child{margin-bottom:0px}.grid-selector input{display:none}.grid-selector .selector-options{width:-moz-fit-content;width:fit-content;display:grid;grid-gap:2px}.grid-selector .selector-options img{height:32px;width:32px;margin:2px}.grid-selector .selector-options div{height:28px;width:28px;margin:4px;border-radius:5px}.grid-selector .clear-selector{width:-moz-fit-content;width:fit-content;margin-right:5px}.grid-selector .clear-selector img{height:36px;width:36px}#shops #inventory .grid-selector input:checked+label,#shops #inventory .grid-selector input:hover+label{background-color:#fff8}#inventory .armor .slot .favorite-toggle{position:absolute;display:none;height:32px;width:32px;top:0px;right:0px;background-size:22px;background-repeat:no-repeat;background-position:center;z-index:1;border-top-right-radius:5px;border-bottom-left-radius:5px}#inventory .armor .slot:hover .favorite-toggle[data-is-favorite=false],#inventory .armor .slot .favorite-toggle[data-is-favorite=true]{display:block}#inventory .armor .slot .favorite-toggle[data-is-favorite=false]{background-image:var(--star-icon-white);opacity:.7}#inventory .armor .slot .favorite-toggle[data-is-favorite=true]{background-color:rgba(30,38,30,.7);background-image:var(--star-icon-orange)}#inventory .armor .slot.filtered_out{display:none}',""]);const s=t},546:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'#arena_filter_box label.head-group{display:block;position:relative;left:-5px;z-index:15;margin-bottom:-8px;margin-top:-3px !important;padding-left:7px;font-size:14px;font-weight:400;letter-spacing:.22px;text-align:left !important;color:#ffb827;background:transparent;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000,-2px -2px 5px rgba(255,159,0,.4),2px -2px 5px rgba(255,159,0,.4),-2px 2px 5px rgba(255,159,0,.4),2px 2px 5px rgba(255,159,0,.4),0 0 10px rgba(255,159,0,.4)}#shops #girls_list .g1>div>.number{left:0 !important}#shops label.girl_filter{background:transparent}#shops label.girl_filter input{height:32px;width:32px;display:block;padding:0px}#shops label.girl_filter::before{content:" ";display:block;position:absolute;height:100%;width:100%;background-position:center;background-size:24px;background-repeat:no-repeat;background-image:var(--filter-icon);pointer-events:none}#arena_filter_box .button-group{display:flex}#shops label.clear_girl_filter{background:transparent}#shops label.clear_girl_filter input{height:36px;width:36px;display:block;padding:0px}#shops label.clear_girl_filter::before{content:" ";display:block;position:absolute;height:36px;width:36px;background-color:#fff;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:24px;mask-size:24px;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-image:var(--cross-icon);mask-image:var(--cross-icon);pointer-events:none}#arena_filter_box{position:absolute;left:-215px;width:200px;height:-moz-fit-content;height:fit-content;z-index:3;border-radius:8px 10px 10px 8px;background-color:#1e261e;box-shadow:rgba(255,255,255,.73) 0px 0px;padding:5px;border:1px solid #ffa23e}.team-selection{position:absolute;left:0px;bottom:-208px;width:400px;height:fit-content;border-radius:8px 10px 10px 8px;background-color:#1e261e;box-shadow:rgba(255,255,255,.73) 0px 0px;padding:5px;border:1px solid #ffa23e;z-index:10;padding-bottom:16px}.teams-grid-container{display:grid;grid-template-columns:auto auto auto auto;grid-row-gap:1rem;padding:.4rem .9rem .4rem .9rem;margin-right:-1rem}.teams-grid-container>img{border-radius:.4rem}.close-team-selection{position:absolute;display:block;background-size:cover;background-image:var(--cross-icon);height:32px;width:35px;top:-16px;right:-17px;cursor:pointer}[rel=select-team]{width:100%;height:36px;padding-top:5px}.theme-icons{position:absolute;bottom:-10px}.theme-icon{width:26px}@media(min-width: 1026px){label.girl_filter{position:absolute;left:-2px;top:-12px}#arena_filter_box{top:-230px}}@media(max-width: 1025px){label.girl_filter{position:absolute;left:-2px;top:0px}#arena_filter_box{top:-218px}}',""]);const s=t},829:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#shops #inventory button[rel=sell].hidden{display:none}#shops #inventory .hide-sell-toggle{width:-moz-fit-content;width:fit-content;padding:1px 14px}@media(min-width: 1026px){#shops #inventory .hide-sell-toggle{margin-top:-28px}}@media(max-width: 1025px){#shops #inventory .hide-sell-toggle{margin-top:0;position:absolute;bottom:-32px;right:24px}#shops #inventory .hide-sell-toggle input{height:22px;width:22px}}",""]);const s=t},849:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'.marketInfoIcon{height:18px;width:18px;border-radius:50%;cursor:help;background:var(--info-icon) center/65% 65% no-repeat,linear-gradient(180deg, #0af 0, #068 50%, #057 51%, #0af 100%)}#shops #equiped div.sub_block .hero_stats>[hero=carac1]{position:relative}#shops #equiped div.sub_block .hero_stats>[hero=carac1] .statInfo{position:absolute;left:-19px;top:6px}#shops #equiped div.sub_block .hero_stats>[hero=carac1] .statInfo:hover+.statToolTip{display:block}#shops #equiped div.sub_block .hero_stats>[hero=carac2]{position:relative}#shops #equiped div.sub_block .hero_stats>[hero=carac2] .statInfo{position:absolute;left:-19px;top:6px}#shops #equiped div.sub_block .hero_stats>[hero=carac2] .statInfo:hover+.statToolTip{display:block}#shops #equiped div.sub_block .hero_stats>[hero=carac3]{position:relative}#shops #equiped div.sub_block .hero_stats>[hero=carac3] .statInfo{position:absolute;left:-19px;top:6px}#shops #equiped div.sub_block .hero_stats>[hero=carac3] .statInfo:hover+.statToolTip{display:block}.inventoryInfo{position:absolute;top:0px;right:0px}#shops #equiped div.sub_block .hero_stats>div>.statToolTip,.inventoryToolTip{display:none;position:absolute;z-index:99;border:1px solid #a2c3d7;border-radius:8px;box-shadow:0px 0px 4px 0px rgba(0,0,0,.1);padding:3px 7px 4px 7px;background-color:#f2f2f2;font-size:11px;line-height:16px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;color:#057;font-weight:normal}.statToolTip{width:240px}.statToolTip table{width:100%}.statToolTip table tr td:last-child{text-align:right}.statToolTip table tr td:first-child{font-weight:bold}.inventoryToolTip{right:0px;bottom:220px;text-align:right}.inventoryInfo:hover+.inventoryToolTip{display:block}.inventoryToolTip b{font-weight:bold}.inventoryToolTip .hudSC_mix_icn{display:inline-block;height:17px;width:11px;background-size:11px}',""]);const s=t},334:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'#shops #girls_list .g1 .girl-ico>div .bar-wrap[rel=xp] .over,#shops #girls_list .g1 .girl-ico>div .bar-wrap[rel=aff] .over,#shops #girls_list .g1 .girl-ico>div .bar-wrap.maxed[rel=aff] div{font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;font-weight:600;text-shadow:0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000;-moz-transform:rotate(0.05deg)}',""]);const s=t},433:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#missions .missions_wrap .mission_object.mission_entry.common{background:#ffffff20}#missions .missions_wrap .mission_object.mission_entry.rare{background:#32bc4f30}#missions .missions_wrap .mission_object.mission_entry.epic{background:#ffb24440}#missions .missions_wrap .mission_object.mission_entry.legendary{background:#6ebeff40}",""]);const s=t},255:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"@media(max-width: 1025px){#new_battle .new-battle-container{margin-top:12px}}",""]);const s=t},738:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"@media(max-width: 1025px){#tower_of_fame{background:#222}}",""]);const s=t},348:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".collect_img{display:none !important}",""]);const s=t},136:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#new_battle #new-battle-skip-btn{position:relative;top:388px;z-index:20}",""]);const s=t},774:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"a.availableGirl{text-decoration:none}a.availableGirl:hover{color:#fff}.availableGirls{font-size:12px;line-height:16px;text-shadow:1px 1px 0 #000,-1px 1px 0 #000,-1px -1px 0 #000,1px -1px 0 #000;overflow:hidden;height:82px;padding-left:20px;padding-right:20px}#playzone-replace-info .cover{height:226px}#playzone-replace-info .cover .pachinko_img{height:153px}#playzone-replace-info .cover .pachinko_img img{left:96px;margin-left:auto;margin-right:auto;width:215px}#playzone-replace-info .cover h3.shadow-text{top:118px}#playzone-replace-info .cover p{position:relative}#playzone-replace-info .graduation{font-size:10px}",""]);const s=t},40:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".pop-quick-nav{display:flex;justify-content:space-between;width:303px;position:absolute;bottom:3px;right:15px}@media(max-width: 1025px){.pop-quick-nav{width:316px;bottom:14px;right:9px}}.pop-quick-nav-prev,.pop-quick-nav-next{background-size:contain;height:20px;width:20px}.pop-quick-nav-prev{transform:scaleX(-1)}.script-girl-class{position:relative;top:-73px;right:-47px}.script-girl-class::before{width:17px;height:17px}",""]);const s=t},786:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#new_battle .new-battle-girl-container{height:450px;margin-top:-40px}",""]);const s=t},520:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,'body>div>header{padding-top:8px}body>div>header img.new_notif{top:8px}body>div>header [type=fight]+div.currency{margin-left:437px}body>div>header div[rel=xp]{position:absolute;top:0;left:0;width:100%}body>div>header div[rel=xp] [hero=xp],body>div>header div[rel=xp] [hero=xp_sep],body>div>header div[rel=xp] [hero=xp_max]{display:none}body>div>header div[rel=xp] div[rel=level]{position:absolute;top:8px;left:111px;width:36px;z-index:150;text-align:center;pointer-events:none}body>div>header div[rel=xp] div[rel=level] div[hero=level]{margin-top:9px}body>div>header div[rel=xp] .bar-wrapper{width:100%;height:11px;margin:0px;box-shadow:none;border-radius:0px;border:0}body>div>header div[rel=xp] .bar-wrapper .bar{height:100%}body>div>header div[rel=xp] .bar-wrapper .bar:after{height:100%;width:101%;left:0px}body>div>header div[rel=xp] .bar-wrapper .over{left:0px;right:0px;top:-1px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;line-height:11px}body>div>header div[rel=xp] .bar-wrapper .over span{font-size:12px;text-shadow:0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000;-moz-transform:rotate(0.05deg)}#hh_comix body>div>header div[rel=xp] .bar-wrapper .over span{font-weight:normal}body>div>header .promo_fight_discount_text,body>div>header .promo_profile_discount_text,body>div>header .promo_quest_discount_text{top:38px}body>div>header .promo_quest_discount_text{left:119px}@media(max-width: 1025px){body>div>header .promo_quest_discount_text{left:199px}}body>div>header .promo_fight_discount_text{left:237px}@media(max-width: 1025px){body>div>header .promo_fight_discount_text{left:308px}}body>div>header .promo_profile_discount_text{left:44px;top:46px}@media(max-width: 1025px){body>div>header .promo_profile_discount_text{left:116px;top:67px !important}}body>div>header .script-pop-timer{text-decoration:none;color:#fff;margin-top:22px;margin-left:-114px;width:114px}body>div>header .script-pop-timer .hh_bar{height:20px}body>div>header .script-pop-timer .backbar{width:114px;height:7px;overflow:hidden}body>div>header .script-pop-timer .text{font-size:10px;top:3px;pointer-events:none}body>div>header .script-booster-status{display:grid;grid-gap:3px;grid-template-columns:repeat(6, 1fr);margin-top:9px;margin-left:6px}body>div>header .script-booster-status .circular-progress{position:relative;height:24px;width:24px}body>div>header .script-booster-status .circular-progress .green{background-color:#01d10b}body>div>header .script-booster-status .circular-progress .yellow{background-color:#ffc400}body>div>header .script-booster-status .circular-progress .red{background-color:red}body>div>header .script-booster-status .circular-progress .slot{position:absolute;height:20px;width:20px;top:2px;left:2px;z-index:6}body>div>header .script-booster-status .circular-progress .slot.empty{cursor:inherit !important}body>div>header .script-booster-status .circular-progress .empty+.circle{box-shadow:none}body>div>header .script-booster-status .circular-progress .empty+.circle .circle-bar{background-color:transparent}body>div>header .script-booster-status .circular-progress .circle{height:100%;width:100%;border-radius:7px;box-shadow:0px 0px 5px #000,0px 0px 4px #000,0px 0px 3px #000,0px 0px 2px #000}body>div>header .script-booster-status .circular-progress .circle-bar{position:absolute;height:100%;width:100%;background-color:#000000bf;clip-path:polygon(0% 0%, 0% 100%, 50% 100%, 50% 0%);border-radius:7px;overflow:hidden}body>div>header .script-booster-status .circular-progress .circle-bar .progress{position:absolute;height:200%;width:200%;top:-50%;left:-50%;clip-path:polygon(50% -50%, 150% -50%, 150% 150%, 50% 150%)}body>div>header .script-booster-status .circular-progress .circle-bar.right{transform:rotate(180deg);z-index:3}body>div>header .script-booster-status .circular-progress .circle-bar.left .progress{z-index:1}body>div>header div.currency{margin-left:6px;margin-top:4px;width:116px;height:36px}body>div>header div.currency .hudSC_mix_icn,body>div>header div.currency .hudHC_mix_icn{left:6px;right:auto;height:16px;width:16px;background-size:contain}body>div>header div.currency .hudSC_mix_icn{top:2px}body>div>header div.currency .hudHC_mix_icn{top:auto;bottom:2px}body>div>header div.currency [hero=soft_currency]{display:none}body>div>header div.currency .scriptMoneyContainer{margin-left:-1px}@media(max-width: 1025px){body>div>header div.currency .scriptMoneyContainer{position:absolute;top:2px;left:40px;font-size:16px}}body>div>header div.currency div[hero=soft_currency],body>div>header div.currency div[hero=hard_currency],body>div>header div.currency .scriptMoneyContainer{position:absolute;left:28px;font-size:12px}body>div>header div.currency div[hero=soft_currency],body>div>header div.currency .scriptMoneyContainer{top:1px}body>div>header div.currency div[hero=hard_currency]{bottom:1px}body>div>header div.currency plus{top:0;right:-10px}body>div>header #blessings-button{margin-left:20px;margin-top:4px}body>div>header>div.energy_counter a{text-decoration:none}body>div>header>div.energy_counter[type=quest] .bar-wrapper,body>div>header>div.energy_counter[type=fight] .bar-wrapper{width:87px;height:36px;margin:4px 0 0 18px}body>div>header>div.energy_counter[type=quest] .bar-wrapper .bar:after,body>div>header>div.energy_counter[type=fight] .bar-wrapper .bar:after{height:100%;left:-1px}body>div>header>div.energy_counter[type=quest] .bar-wrapper .over,body>div>header>div.energy_counter[type=fight] .bar-wrapper .over{flex-direction:column;align-content:flex-start;align-items:flex-start;justify-content:flex-start;padding-left:11px;padding-top:1px}body>div>header>div.energy_counter[type=quest] .bar-wrapper .over .energy_counter_amount,body>div>header>div.energy_counter[type=fight] .bar-wrapper .over .energy_counter_amount{font-size:8px}body>div>header>div.energy_counter[type=quest] .bar-wrapper .over .energy_counter_amount span[energy],body>div>header>div.energy_counter[type=fight] .bar-wrapper .over .energy_counter_amount span[energy]{font-size:12px}body>div>header>div.energy_counter[type=quest] .bar-wrapper .over [rel=count_txt],body>div>header>div.energy_counter[type=fight] .bar-wrapper .over [rel=count_txt]{font-size:7px;margin-left:-9px}body>div>header>div.energy_counter[type=quest] .bar-wrapper .over [rel=count_txt]>[rel=count],body>div>header>div.energy_counter[type=fight] .bar-wrapper .over [rel=count_txt]>[rel=count]{font-size:10px;line-height:13px}body>div>header>div.energy_counter[type=quest] .bar-wrapper .over span,body>div>header>div.energy_counter[type=fight] .bar-wrapper .over span{font-size:8px}body>div>header>div.energy_counter plus{right:-14px}body>div>header>div.energy_counter .energy_counter_icon span{position:absolute;top:9px;left:16px;z-index:36}body>div>header>div.energy_counter .energy_counter_icon span.hudKiss_mix_icn,body>div>header>div.energy_counter .energy_counter_icon span.hudWorship_mix_icn{height:20px;width:20px;background-size:contain;top:4px}body>div>header>div.energy_counter .energy_counter_icon span.hudChallenge_mix_icn{height:20px;width:20px;background-size:contain;background-position:center;background-repeat:no-repeat;background-image:var(--challenge-token-icon);filter:drop-shadow(0px 2px 0px #000000bf);left:-123px;top:23px}body>div>header>div.energy_counter .energy_counter_icon span.hudBattlePts_mix_icn{left:2px}body>div>header>div.energy_counter .energy_counter_icon span.hudEnergy_mix_icn{left:8px}body>div>header>div.energy_counter .energy_counter_icon span.hudWorship_mix_icn{left:2px}body>div>header>div.energy_counter[type=kiss] .bar-wrapper,body>div>header>div.energy_counter[type=challenge] .bar-wrapper,body>div>header>div.energy_counter[type=worship] .bar-wrapper{width:114px;height:16px}body>div>header>div.energy_counter[type=kiss] .bar-wrapper .bar:after,body>div>header>div.energy_counter[type=challenge] .bar-wrapper .bar:after,body>div>header>div.energy_counter[type=worship] .bar-wrapper .bar:after{left:3px}body>div>header>div.energy_counter[type=kiss] .bar-wrapper .over,body>div>header>div.energy_counter[type=challenge] .bar-wrapper .over,body>div>header>div.energy_counter[type=worship] .bar-wrapper .over{font-size:8px}body>div>header>div.energy_counter[type=kiss] .bar-wrapper .over span,body>div>header>div.energy_counter[type=challenge] .bar-wrapper .over span,body>div>header>div.energy_counter[type=worship] .bar-wrapper .over span{font-size:8px}body>div>header>div.energy_counter[type=kiss] .bar-wrapper .over span[energy],body>div>header>div.energy_counter[type=challenge] .bar-wrapper .over span[energy],body>div>header>div.energy_counter[type=worship] .bar-wrapper .over span[energy]{font-size:12px;line-height:16px}body>div>header>div.energy_counter[type=kiss] .bar-wrapper .over [rel=count_txt],body>div>header>div.energy_counter[type=challenge] .bar-wrapper .over [rel=count_txt],body>div>header>div.energy_counter[type=worship] .bar-wrapper .over [rel=count_txt]{font-size:8px}body>div>header>div.energy_counter[type=kiss] .bar-wrapper .over [rel=count_txt]>[rel=count],body>div>header>div.energy_counter[type=challenge] .bar-wrapper .over [rel=count_txt]>[rel=count],body>div>header>div.energy_counter[type=worship] .bar-wrapper .over [rel=count_txt]>[rel=count]{font-size:9px;line-height:12px}@media(min-width: 1026px){body>div>header>div.energy_counter[type=kiss] .bar-wrapper .over,body>div>header>div.energy_counter[type=challenge] .bar-wrapper .over,body>div>header>div.energy_counter[type=worship] .bar-wrapper .over{justify-content:space-between}body>div>header>div.energy_counter[type=kiss] .bar-wrapper .over .energy_counter_amount,body>div>header>div.energy_counter[type=challenge] .bar-wrapper .over .energy_counter_amount,body>div>header>div.energy_counter[type=worship] .bar-wrapper .over .energy_counter_amount{margin-left:14px}}body>div>header>div.energy_counter[type=kiss] .bar-wrapper,body>div>header>div.energy_counter[type=worship] .bar-wrapper{margin-top:6px}body>div>header>div.energy_counter[type=worship] .bar-wrapper{margin-left:11px}body>div>header>div.energy_counter[type=challenge] .bar-wrapper{margin-left:-114px;margin-top:24px}body>div>header>div.script-bar-spacer{margin:12px 0 0 27px}body>div>header>div.script-bar-spacer[type=kiss],body>div>header>div.script-bar-spacer[type=challenge],body>div>header>div.script-bar-spacer[type=worship]{width:114px;height:15px}body>div>header>div.script-bar-spacer[type=kiss],body>div>header>div.script-bar-spacer[type=worship]{margin-top:6px}body>div>header>div.script-bar-spacer[type=worship]{margin-left:11px}body>div>header>div.script-bar-spacer[type=challenge]{margin-left:-114px;margin-top:24px}#contains_all>nav>[rel=open]{top:12px}body#hh_comix>div>header div[rel=xp] div[rel=level] div[hero=level]{margin-top:17px !important}body#hh_comix>div>header div[rel=xp] .bar-wrapper .over span{font-weight:400 !important}@media(min-width: 1026px){#homepage .social_links{margin-top:-30px}}.script-booster-status-item .season_rewards_tier_info,.script-booster-status-item .item-price{display:none}#contests>div>div.right_part img{height:286px;margin-top:-74px}@media(max-width: 1025px){body>div>header>a.hh_logo,body>div>header a#chat_btn,body>div>header>div[rel=avatar]{margin-top:4px}body>div>header div[rel=xp] div[rel=level]{left:154px;top:4px}body>div>header div[rel=xp] div[rel=level]>div{flex-direction:column}body>div>header div[rel=xp] div[rel=level] div[hero=level]{margin-top:32px}body>div>header plus{top:4px;border-radius:8px;width:44px;height:60px;right:-20px}body>div>header plus[disabled]{border-radius:8px}body>div>header plus .hudPlus_mix_icn{width:24px;height:24px;background-size:contain}body>div>header div.energy_counter[type=quest] .energy_counter_icon span.hudEnergy_mix_icn,body>div>header div.energy_counter[type=quest] .energy_counter_icon span.hudBattlePts_mix_icn,body>div>header div.energy_counter[type=fight] .energy_counter_icon span.hudEnergy_mix_icn,body>div>header div.energy_counter[type=fight] .energy_counter_icon span.hudBattlePts_mix_icn{left:8px;top:8px}body>div>header div.energy_counter[type=quest] .energy_counter_icon span.hudBattlePts_mix_icn,body>div>header div.energy_counter[type=fight] .energy_counter_icon span.hudBattlePts_mix_icn{left:0px}body>div>header div.energy_counter[type=quest] .bar-wrapper,body>div>header div.energy_counter[type=fight] .bar-wrapper{height:60px;width:80px;margin-left:14px}body>div>header div.energy_counter[type=quest] .bar-wrapper .bar:after,body>div>header div.energy_counter[type=fight] .bar-wrapper .bar:after{left:-8px}body>div>header div.energy_counter[type=quest] .bar-wrapper .over,body>div>header div.energy_counter[type=fight] .bar-wrapper .over{padding-left:4px;margin-left:2px;padding-top:2px}body>div>header div.energy_counter[type=quest] .bar-wrapper .over .energy_counter_amount,body>div>header div.energy_counter[type=fight] .bar-wrapper .over .energy_counter_amount{margin-left:8px}body>div>header div.energy_counter[type=quest] .bar-wrapper .over .energy_counter_amount span[energy],body>div>header div.energy_counter[type=fight] .bar-wrapper .over .energy_counter_amount span[energy]{display:block;font-size:16px}body>div>header div.energy_counter[type=quest] .bar-wrapper .over [rel=count_txt],body>div>header div.energy_counter[type=fight] .bar-wrapper .over [rel=count_txt]{margin-top:6px;margin-left:0px}body>div>header div.energy_counter[type=quest] .bar-wrapper .over [rel=count_txt] [rel=count],body>div>header div.energy_counter[type=fight] .bar-wrapper .over [rel=count_txt] [rel=count]{display:block;font-size:10px}body>div>header div.energy_counter .energy_counter_icon span.hudKiss_mix_icn{top:9px;left:20px}body>div>header div.energy_counter .energy_counter_icon span.hudWorship_mix_icn{top:9px;left:6px}body>div>header div.energy_counter .energy_counter_icon span.hudChallenge_mix_icn{left:-119px;top:40px}body>div>header div.energy_counter .energy_counter_icon span.hudBattlePts_mix_icn{left:0px;top:8px}body>div>header div.energy_counter .energy_counter_icon span.hudEnergy_mix_icn{left:8px;top:8px}body>div>header div.energy_counter[type=kiss] .bar-wrapper,body>div>header div.energy_counter[type=challenge] .bar-wrapper,body>div>header div.energy_counter[type=worship] .bar-wrapper{height:26px}body>div>header div.energy_counter[type=kiss] .bar-wrapper .bar:after,body>div>header div.energy_counter[type=challenge] .bar-wrapper .bar:after,body>div>header div.energy_counter[type=worship] .bar-wrapper .bar:after{left:-2px;width:calc(100% + 9px)}body>div>header div.energy_counter[type=kiss] .bar-wrapper .over,body>div>header div.energy_counter[type=challenge] .bar-wrapper .over,body>div>header div.energy_counter[type=worship] .bar-wrapper .over{flex-direction:row;justify-content:space-between;margin-left:14px}body>div>header div.energy_counter[type=kiss] .bar-wrapper .over span[energy],body>div>header div.energy_counter[type=challenge] .bar-wrapper .over span[energy],body>div>header div.energy_counter[type=worship] .bar-wrapper .over span[energy]{font-size:16px}body>div>header div.energy_counter[type=kiss] .bar-wrapper .over [rel=count_txt]>[rel=count],body>div>header div.energy_counter[type=challenge] .bar-wrapper .over [rel=count_txt]>[rel=count],body>div>header div.energy_counter[type=worship] .bar-wrapper .over [rel=count_txt]>[rel=count]{line-height:9px;font-size:10px}body>div>header div.energy_counter[type=kiss] .bar-wrapper{margin-left:26px}body>div>header div.energy_counter[type=challenge] .bar-wrapper{margin-top:36px}body>div>header .script-pop-timer{margin-top:42px}body>div>header .script-booster-status{grid-template-columns:1fr 1fr 1fr}body>div>header div.currency{height:60px}body>div>header div.currency div[hero=soft_currency],body>div>header div.currency .scriptMoneyContainer,body>div>header div.currency .hudSC_mix_icn{top:10px}body>div>header div.currency div[hero=hard_currency],body>div>header div.currency .hudHC_mix_icn{bottom:10px}body>div>header img.new_notif.daily-reward-notif{left:24px}body>div>header #blessings-button{height:60px;border-radius:8px}#contains_all>nav>[rel=open]{height:60px;width:60px}#homepage .social_links{display:grid;grid-template-columns:1fr 1fr}#homepage .social_links .redirect.comix,#homepage .social_links .redirect.gay,#homepage .social_links .redirect.hentai{margin-left:0}body#hh_comix>div>header div[rel=xp] div[rel=level]{top:8px}body#hh_comix>div>header div[rel=xp] div[rel=level] div[hero=level]{margin-top:40px !important}}',""]);const s=t},573:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".script-shard-count{font-size:.75rem;display:block;text-align:center;width:100%;position:absolute;bottom:-0.125rem;color:#80058b;text-shadow:1px 1px 0 #fff,-1px 1px 0 #fff,-1px -1px 0 #fff,1px -1px 0 #fff}.club_champions_rewards_container .script-shard-count{bottom:auto;top:-0.1875rem}.leagues_girl_reward_container .script-shard-count{font-size:.6rem}.script-shard-count .shard{height:1rem;width:1rem;margin-left:-0.25rem;display:inline-block;background-size:140%;background-position:center}.club_champions_rewards_container .shards_girl_ico,.leagues_girl_reward_container .girl_ico{position:relative}#season-arena .season_arena_block.opponent .opponent_rewards .arena-rewards-list.script-has-girl-reward .slot{width:30px}#season-arena .season_arena_block.opponent .opponent_rewards .arena-rewards-list.script-has-girl-reward .slot>img{height:auto}#season-arena .season_arena_block.opponent .opponent_rewards .arena-rewards-list.script-has-girl-reward .slot.slot_gems>img{margin-left:1px}#season-arena .season_arena_block.opponent .opponent_rewards .arena-rewards-list.script-has-girl-reward .slot.slot_season_affection_girl p:nth-child(2),#season-arena .season_arena_block.opponent .opponent_rewards .arena-rewards-list.script-has-girl-reward .slot.slot_season_xp_girl p:nth-child(2){font-size:12px}",""]);const s=t},59:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,".scriptSeasonStatsTooltip{font-size:12px;color:#fff}.scriptSeasonStatsTooltip table{margin-left:auto;margin-right:auto}.scriptSeasonStatsTooltip table tr td:first-child{text-align:right}.scriptSeasonStatsTooltip table tr td:last-child{text-align:left}.scriptSeasonStats{color:#8ec3ff;font-size:16px}#seasons_tab_title .scriptSeasonStats{margin-left:54px}.hero .scriptSeasonStats{margin-left:15px}",""]);const s=t},73:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var i=a(81),t=a.n(i),i=a(645),t=a.n(i)()(t());t.push([e.id,"#arena_filter_box{position:absolute;width:275px;right:408px;z-index:99;border-radius:8px 10px 10px 8px;background-color:#1e261e;box-shadow:rgba(255,255,255,.73) 0px 0px;padding:5px;border:1px solid #ffa23e}@media(max-width: 1025px){#arena_filter_box{top:98px}}@media(min-width: 1026px){#arena_filter_box{top:66px}}.change-team-panel #filter_girls{display:none}.change-team-panel #arena_filter{height:32px;width:32px;padding:0;float:left}@media(max-width: 1025px){.change-team-panel #arena_filter{margin-top:5px}}.change-team-panel #arena_filter .filter_mix_icn{display:block;height:32px;width:24px;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:var(--filter-icon);margin:auto}@media(max-width: 1025px){#edit-team-page .change-team-panel.harem-panel{margin-top:17px}}",""]);const s=t},645:e=>{"use strict";e.exports=function(i){var d=[];return d.toString=function(){return this.map(function(e){var t="",a=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),a&&(t+="@layer".concat(0<e[5].length?" ".concat(e[5]):""," {")),t+=i(e),a&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},d.i=function(e,t,a,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var n={};if(a)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(n[o]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);a&&n[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(0<c[5].length?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),t&&(c[2]&&(c[1]="@media ".concat(c[2]," {").concat(c[1],"}")),c[2]=t),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),d.push(c))}},d}},81:e=>{"use strict";e.exports=function(e){return e[1]}},296:(e,t,a)=>{function v(){return p.Date.now()}var s=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,i="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,a="object"==typeof self&&self&&self.Object===Object&&self,p=i||a||Function("return this")(),u=Object.prototype.toString,y=Math.max,_=Math.min;function x(e){var t=typeof e;return e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||!!(a=t)&&"object"==typeof a&&u.call(t)==n)return s;var t,a;if("string"!=typeof(e=x(e)?x(i="function"==typeof e.valueOf?e.valueOf():e)?i+"":i:e))return 0===e?e:+e;e=e.replace(r,"");var i=l.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):o.test(e)?s:+e}e.exports=function(i,a,e){var s,n,r,o,l,c,d=0,p=!1,u=!1,t=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function h(e){var t=s,a=n;return s=n=void 0,d=e,o=i.apply(a,t)}function m(e){var t=e-c;return void 0===c||a<=t||t<0||u&&r<=e-d}function g(){var e,t=v();if(m(t))return f(t);l=setTimeout(g,(t=a-((e=t)-c),u?_(t,r-(e-d)):t))}function f(e){return l=void 0,t&&s?h(e):(s=n=void 0,o)}function b(){var e=v(),t=m(e);if(s=arguments,n=this,c=e,t){if(void 0===l)return d=t=c,l=setTimeout(g,a),p?h(t):o;if(u)return l=setTimeout(g,a),h(c)}return void 0===l&&(l=setTimeout(g,a)),o}return a=w(a)||0,x(e)&&(p=!!e.leading,u="maxWait"in e,r=u?y(w(e.maxWait)||0,a):r,t="trailing"in e?!!e.trailing:t),b.cancel=function(){void 0!==l&&clearTimeout(l),s=c=n=l=void(d=0)},b.flush=function(){return void 0===l?o:f(v())},b}},379:e=>{"use strict";var c=[];function d(e){for(var t=-1,a=0;a<c.length;a++)if(c[a].identifier===e){t=a;break}return t}function o(e,t){for(var a={},i=[],s=0;s<e.length;s++){var n=e[s],r=t.base?n[0]+t.base:n[0],o=a[r]||0,l="".concat(r," ").concat(o);a[r]=o+1;o=d(l),n={css:n[1],media:n[2],sourceMap:n[3],supports:n[4],layer:n[5]};-1!==o?(c[o].references++,c[o].updater(n)):(n=function(t,e){var a=e.domAPI(e);return a.update(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer||a.update(t=e):a.remove()}}(n,t),t.byIndex=s,c.splice(s,0,{identifier:l,updater:n,references:1})),i.push(l)}return i}e.exports=function(e,n){var r=o(e=e||[],n=n||{});return function(e){e=e||[];for(var t=0;t<r.length;t++){var a=d(r[t]);c[a].references--}for(var e=o(e,n),i=0;i<r.length;i++){var s=d(r[i]);0===c[s].references&&(c[s].updater(),c.splice(s,1))}r=e}}},569:e=>{"use strict";var a={};e.exports=function(e,t){if(!(e=function(e){if(void 0===a[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}a[e]=t}return a[e]}(e)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,a)=>{"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(t){var a=t.insertStyleElement(t);return{update:function(e){!function(e,t,a){var i="";a.supports&&(i+="@supports (".concat(a.supports,") {")),a.media&&(i+="@media ".concat(a.media," {"));var s=void 0!==a.layer;s&&(i+="@layer".concat(0<a.layer.length?" ".concat(a.layer):""," {")),i+=a.css,s&&(i+="}"),a.media&&(i+="}"),a.supports&&(i+="}"),(a=a.sourceMap)&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(i,e,t.options)}(a,t,e)},remove:function(){var e;null!==(e=a).parentNode&&e.parentNode.removeChild(e)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},i={};function nl(e){var t=i[e];if(void 0!==t)return t.exports;t=i[e]={id:e,exports:{}};return a[e](t,t.exports,nl),t.exports}nl.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return nl.d(t,{a:t}),t},nl.d=(e,t)=>{for(var a in t)nl.o(t,a)&&!nl.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},nl.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),nl.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),nl.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";var e={};nl.r(e),nl.d(e,{champions:()=>je,common:()=>Me,config:()=>Le,contestSummary:()=>Ue,harem:()=>Ne,homeScreen:()=>Be,league:()=>Ge,market:()=>Ae,marketGirlsFilter:()=>Re,marketHideSellButton:()=>De,marketXPAff:()=>Pe,pachinkoNames:()=>Fe,resourceBars:()=>Oe,seasonStats:()=>ze,stConfig:()=>Ee,teamsFilter:()=>He,villain:()=>Ie,villainBreadcrumbs:()=>Ze});var t={};nl.r(t),nl.d(t,{champions:()=>it,common:()=>qe,config:()=>Ve,contestSummary:()=>lt,harem:()=>et,homeScreen:()=>nt,league:()=>tt,market:()=>Ye,marketGirlsFilter:()=>Xe,marketHideSellButton:()=>Qe,marketXPAff:()=>Je,pachinkoNames:()=>ot,resourceBars:()=>st,seasonStats:()=>rt,stConfig:()=>We,teamsFilter:()=>at,villain:()=>Ke,villainBreadcrumbs:()=>ct});var a={};nl.r(a),nl.d(a,{champions:()=>xt,common:()=>dt,config:()=>pt,contestSummary:()=>Tt,harem:()=>vt,homeScreen:()=>kt,league:()=>yt,market:()=>mt,marketGirlsFilter:()=>gt,marketHideSellButton:()=>bt,marketXPAff:()=>ft,pachinkoNames:()=>St,resourceBars:()=>wt,seasonStats:()=>$t,stConfig:()=>ut,teamsFilter:()=>_t,villain:()=>ht,villainBreadcrumbs:()=>Ct});var i={};nl.r(i),nl.d(i,{champions:()=>jt,common:()=>Mt,config:()=>Lt,contestSummary:()=>Ut,harem:()=>Nt,homeScreen:()=>Bt,league:()=>Gt,market:()=>At,marketGirlsFilter:()=>Rt,marketHideSellButton:()=>Dt,marketXPAff:()=>Pt,pachinkoNames:()=>Ft,resourceBars:()=>Ot,seasonStats:()=>zt,stConfig:()=>Et,teamsFilter:()=>Ht,villain:()=>It,villainBreadcrumbs:()=>Zt});var s={};nl.r(s),nl.d(s,{champions:()=>ia,common:()=>qt,config:()=>Vt,contestSummary:()=>la,harem:()=>ea,homeScreen:()=>na,league:()=>ta,market:()=>Yt,marketGirlsFilter:()=>Xt,marketHideSellButton:()=>Qt,marketXPAff:()=>Jt,pachinkoNames:()=>oa,resourceBars:()=>sa,seasonStats:()=>ra,stConfig:()=>Wt,teamsFilter:()=>aa,villain:()=>Kt,villainBreadcrumbs:()=>ca});var n={};nl.r(n),nl.d(n,{champions:()=>xa,common:()=>da,config:()=>pa,contestSummary:()=>Ta,harem:()=>va,homeScreen:()=>ka,league:()=>ya,market:()=>ma,marketGirlsFilter:()=>ga,marketHideSellButton:()=>ba,marketXPAff:()=>fa,pachinkoNames:()=>Sa,resourceBars:()=>wa,seasonStats:()=>$a,stConfig:()=>ua,teamsFilter:()=>_a,villain:()=>ha,villainBreadcrumbs:()=>Ca});var r={};nl.r(r),nl.d(r,{CxH:()=>qr,GH:()=>Zr,HH:()=>Ur});const o={HH:{homeDark:"rgba(32,3,7,.9)",homeBorder:"#ffb827",panelBorderGradient:"linear-gradient(180deg, #ffa23e, #c41b53)",panelBackground:"linear-gradient(to top,#572332 0,#572332 1%,#2c1e1c 100%)",panelInset:"inset 0 0 40px 15px #662034"},GH:{homeDark:"rgba(32,3,7,.9)",homeBorder:"#69daff",panelBorderGradient:"linear-gradient(180deg,#6a8cff,#8966ff)",panelBackground:"linear-gradient(to top,#84a 0,#2a2435 99%,#2a2435 100%)",panelInset:"inset 0 0 40px 15px rgb(131 55 245 / 60%)"},CxH:{homeDark:"#0f0b1d",homeBorder:"#33a7ff",panelBorderGradient:"linear-gradient(180deg, #33a7ff, #33a7ff)",panelBackground:"linear-gradient(180deg,#0f0b1d 0,#0d5c9d 90%,#0d5c9d 100%)",panelInset:"inset 0 0 40px 15px none"}};var l=e=>`HHPlusPlus${e}`;const f={CONFIG:l("Config"),GIRL_DICTIONARY:l("GirlDictionary"),TEAMS_DICTIONARY:l("TeamsDictionary"),EVENT_VILLAINS:l("EventVillains"),EVENT_TIME:l("EventTime"),MYTHIC_EVENT_VILLAINS:l("MythicEventVillains"),MYTHIC_EVENT_TIME:l("MythicEventTime"),SEASON_END_TIME:l("SeasonEndTime"),SEASON_STATS:l("SeasonStats"),OLD_SEASON_STATS:l("OldSeasonStats"),MARKET_INFO:l("MarketInfo"),MARKET_GIRLS_FILTER:l("ActiveMarketGirlFilter"),EQUIP_FAVORITES:l("EquipFavorites"),SELL_BUTTON_HIDDEN:l("SellButtonHidden"),LEAGUE_PLAYERS:l("LeaguePlayers"),LEAGUE_POINT_HISTORY:l("LeaguePointHistory"),LEAGUE_RESULTS:l("LeagueResults"),LEAGUE_SCORE:l("LeagueScore"),LEAGUE_TIME:l("LeagueTime"),LEAGUE_UNKNOWN:l("LeagueUnknown"),LEAGUE_PLAYERS_OLD:l("LeaguePlayersOld"),LEAGUE_POINT_HISTORY_OLD:l("LeaguePointHistoryOld"),LEAGUE_RESULTS_OLD:l("LeagueResultsOld"),LEAGUE_SCORE_OLD:l("LeagueScoreOld"),LEAGUE_TIME_OLD:l("LeagueTimeOld"),LEAGUE_UNKNOWN_OLD:l("LeagueUnknownOld"),FOUGHT_OPPONENTS_HIDDEN:l("FoughtOpponentsHidden"),TABLE_SHOW_INDIVIDUAL:l("TableShowIndividual"),TRACKED_TIMES:l("TrackedTimes"),BOOSTER_STATUS:l("BoosterStatus"),CLUB_STATUS:l("ClubStatus"),AVAILABLE_FEATURES:l("AvailableFeatures"),SIDEQUEST_STATUS:l("SidequestStatus")};let c,d,p,u,h,m,g,b,v=!0;const y=[];class _{static getHost(){return window.location.host}static getCDNHost(){return h=h||IMAGES_URL,h}static getPathname(){return window.location.pathname}static isCurrentPage(e){return _.getPathname().includes(e)}static hasSearch(e){return window.location.search.includes(e)}static isHH(){return void 0===c&&(c=!(_.isGH()||_.isCxH())),c}static isGH(){return void 0===d&&(d=["www.gayharem.com","nutaku.gayharem.com"].includes(_.getHost())),d}static isCxH(){return void 0===p&&(p=["www.comixharem.com","nutaku.comixharem.com"].includes(_.getHost())),p}static getGameKey(){return _.isHH()?"HH":_.isGH()?"GH":_.isCxH()?"CxH":void 0}static isNutakuKobans(){return void 0===u&&(u="nutaku"===HH_UNIVERSE),u}static $(e){return"string"==typeof e?window.$(e.replace(/\n/g,"").replace(/ {4}/g,"")):window.$(e)}static mediaMobile(e){return`@media only screen and (max-width: 1025px) {${e}}`}static mediaDesktop(e){return`@media only screen and (min-width: 1026px) {${e}}`}static getGirlDictionary(){var e;return m||(e=_.lsGet(f.GIRL_DICTIONARY),m=e?new Map(e):new Map),m}static setGirlDictionary(e){m=e,_.lsSet(f.GIRL_DICTIONARY,Array.from(m)),$(window).trigger("girl-dictionary:updated")}static getTeamsDictionary(){return g=g||_.lsGet(f.TEAMS_DICTIONARY),g}static setTeamsDictionary(e){g=e,_.lsSet(f.TEAMS_DICTIONARY,g)}static onAjaxResponse(s,n){$(document).ajaxComplete((e,t,a)=>{if(~a.data.search(s)&&t.responseText.length){var i=JSON.parse(t.responseText);if(i&&i.success)return n(i,a,t,e)}})}static lsGetRaw(e){return localStorage.getItem(e)}static lsGet(e){return JSON.parse(_.lsGetRaw(e))}static lsSetRaw(e,t){return localStorage.setItem(e,t)}static lsSet(e,t){return _.lsSetRaw(e,JSON.stringify(t))}static lsRm(e){return localStorage.removeItem(e)}static getWikiLink(e,t){e=e.replaceAll("/","-"),e="fr"===t?e.replaceAll("","-"):e.replaceAll("","");let a;return a=_.isGH()?`https://harem-battle.club/wiki/Gay-Harem/GH:${e}`:"fr"===t?`http://hentaiheroes.wikidot.com/${e}`:`https://harem-battle.club/wiki/Harem-Heroes/HH:${e}`,a}static getAwakeningThreshold(){if(!b&&v){let e,t,a,i;if(window.girls_requirement_amount){const n=Object.keys(girls_requirement_amount);e=n.find(e=>girls_requirement_amount[e]>high_level_girl_owned[e]),e&&(t=high_level_girl_owned[e],a=girls_requirement_amount[e])}else{var s;!window.awakening_requirements||0<(s=awakening_requirements.findIndex(({girls_required:e},t)=>e>high_level_girl_owned[t]))&&(e=awakening_requirements[s-1].cap_level,t=high_level_girl_owned[s],a=awakening_requirements[s].girls_required,i=s)}e?b={currentThreshold:e,currentThresholdOwned:t,currentThresholdMin:a,awakeningLevel:i}:v=!1}return b}static defer(e){y.push(e)}static runDeferred(){$(document).ready(()=>{y.forEach(e=>{try{e()}catch(e){console.error("Error in deferred function",e)}}),y.splice(0,y.length)})}}const T=_;window.HHPlusPlus.Helpers=_;let x,w;const k=e=>{e&&e.data&&e.data.shards&&(x=T.getGirlDictionary(),e.data.shards.forEach(({id_girl:e,value:t})=>{e=`${e}`;const a=x.get(e)||{};a.shards=Math.min(t,100),x.set(e,a)}),T.setGirlDictionary(x))},S=e=>{var e=e["rewards"];k(e)},C=e=>{const t=e["rewards"];t&&t.forEach(k)},M=e=>{var e=e["rewards"];if(e){const t=e["list"];t&&t.forEach(k)}};class L{static collect(){T.defer(()=>{w=!1,x=T.getGirlDictionary(),T.isCurrentPage("harem")&&L.collectFromHarem(),T.isCurrentPage("event")&&L.collectFromEventWidget(),T.isCurrentPage("clubs")&&L.collectFromClubChamp(),T.isCurrentPage("battle")&&L.collectFromBattleResult(),T.isCurrentPage("pachinko")&&L.collectFromPachinkoRewards(),T.isCurrentPage("activities")&&L.collectFromContestRewards(),T.isCurrentPage("champion")&&L.collectFromChampions(),T.isCurrentPage("home")&&L.collectFromRewardsQueue(),T.isCurrentPage("season")&&L.collectFromSeasons(),T.isCurrentPage("tower-of-fame")&&L.collectFromLeague(),w&&T.setGirlDictionary(x)})}static collectFromHarem(){$("#harem_whole").length&&Object.entries(girlsDataList).forEach(([e,t])=>{var{name:a,shards:i,class:s,rarity:n,nb_grades:t}=t,t={name:a,shards:void 0!==i?i:100,class:parseInt(s,10),rarity:n,grade:parseInt(t,10)};a&&(x.set(e,t),w=!0)})}static collectFromEventWidget(){eventGirls.forEach(({id_girl:e,name:t,shards:a,class:i,rarity:s})=>{void 0===a&&(a=100),t&&(x.set(e,{name:t,shards:a,class:parseInt(i,10),rarity:s}),w=!0)})}static collectFromClubChamp(){var e,t,a,i,s;window.clubChampionsData&&(s=clubChampionsData.reward["shards"],s&&s.length&&({id_girl:e,name:t,previous_value:a,girl_class:i,rarity:s}=s[0],x.set(e,{name:t,shards:a,class:parseInt(i,10),rarity:s}),w=!0))}static collectFromBattleResult(){T.onAjaxResponse(/action=do_(league|season|troll)_battles/i,S)}static collectFromPachinkoRewards(){T.onAjaxResponse(/action=play/i,S)}static collectFromContestRewards(){T.onAjaxResponse(/action=give_reward/i,S)}static collectFromChampions(){T.onAjaxResponse(/class=TeamBattle/i,e=>{var e=e["end"];e&&S(e)})}static collectFromRewardsQueue(){T.onAjaxResponse(/action=process_rewards_queue/i,C)}static collectFromSeasons(){T.onAjaxResponse(/action=claim/i,S)}static collectFromLeague(){T.onAjaxResponse(/action=claim_rewards/i,M)}}const E=L;const I=class{static collect(){T.isCurrentPage("teams")&&T.defer(()=>{const r={},o=[];$(".team-slot-container[data-is-empty=]").each((e,t)=>{var a=$(t).data("id-team"),i=$(t).find("img").attr("src"),s=$(t).find(".team-slot-themes-container img").map((e,t)=>$(t).attr("src")).toArray();const n=$(t).attr("class").replace(/\s+/g," ").split(" ");t=["mythic","legendary","epic","rare","common","starting"].find(e=>n.includes(e));r[a]={teamId:a,icon:i,iconRarity:t,themeIcons:s},o.push(a)}),o.forEach(e=>{const t=$(`.team-info-girls-container[data-id-team=${e}]`),a=[];t.find(".team-member-container").each((e,t)=>{t=$(t).data("girl-id");t&&a.push(`${t}`)}),r[e].girls=a});var e={teamsDict:r,teamIds:o};T.setTeamsDictionary(e)})}};class A{static collect(){T.defer(()=>{A.clean(),T.hasSearch("tab=event")&&A.collectFromEvent(f.EVENT_TIME,f.EVENT_VILLAINS),T.hasSearch("tab=mythic_event")&&A.collectFromEvent(f.MYTHIC_EVENT_TIME,f.MYTHIC_EVENT_VILLAINS)})}static clean(){var e=T.lsGetRaw(f.EVENT_TIME)||0,t=T.lsGetRaw(f.MYTHIC_EVENT_TIME)||0,a=server_now_ts;e<a&&(T.lsRm(f.EVENT_VILLAINS),T.lsRm(f.EVENT_TIME)),t<a&&(T.lsRm(f.MYTHIC_EVENT_VILLAINS),T.lsRm(f.MYTHIC_EVENT_TIME))}static collectFromEvent(e,t){var a=$("#contains_all #events .nc-panel-header .nc-pull-right #timer").data("seconds-until-event-end"),a=server_now_ts+a;T.lsSetRaw(e,a);const s=[];eventGirls.forEach(e=>{var{id_girl:t,source:a,rarity:e}=e;if("event_troll"===a.name){const i=a.anchor_source.url;a=i.match(/id_opponent=([0-9]+)/);a&&(a=a[1],s.push({id:t,troll:a,rarity:e}))}}),T.lsSet(t,s)}}const R=A,P={fights:0,victories:0,losses:0,won_mojo:0,lost_mojo:0};class D{static collect(){T.defer(()=>{D.migrate(),T.isCurrentPage("season")&&!T.isCurrentPage("season-arena")&&D.rollOverStats(),(T.isCurrentPage("season-arena")||T.isCurrentPage("battle"))&&D.collectFromBattle()})}static migrate(){var e;T.lsGetRaw(f.SEASON_STATS)||(e=T.lsGetRaw("SeasonStats"))&&T.lsSetRaw(f.SEASON_STATS,e)}static collectFromBattle(){T.onAjaxResponse(/action=do_season_battles/i,e=>{const t=e["rewards"];if(t&&t.data&&t.data.rewards){e=t.data.rewards.find(({type:e})=>"victory_points"===e);if(e){const a=T.lsGet(f.SEASON_STATS)||{...P};e=parseInt($(e.value).text(),10);a.fights+=1,0<e?(a.victories+=1,a.won_mojo+=e):(a.losses+=1,a.lost_mojo-=e),T.lsSet(f.SEASON_STATS,a)}}})}static rollOverStats(){var e,t=server_now_ts;(e=parseInt(T.lsGetRaw(f.SEASON_END_TIME)||"0",10))<t&&(T.lsSetRaw(f.OLD_SEASON_STATS,T.lsGetRaw(f.SEASON_STATS)),T.lsSet(f.SEASON_STATS,P),e=t+season_sec_untill_event_end,T.lsSetRaw(f.SEASON_END_TIME,e))}}const N=D,G=e=>{var t=(e=>{let t=0;return e<2e3?t=5+2*e:e<4e3?t=4005+4*(e-2e3):e<6e3?t=12005+6*(e-4e3):e<8e3?t=24005+8*(e-6e3):e<1e4?t=40005+10*(e-8e3):e<12e3?t=60005+12*(e-1e4):e<14e3?t=84005+14*(e-12e3):e<16e3&&(t=112005+16*(e-14e3)),t})(e);let a=0;return e<2e3?a=(7+t)/2*e:e<4e3?a=4012e3+(4009+t)/2*(e-2e3):e<6e3?a=20026e3+(12011+t)/2*(e-4e3):e<8e3?a=56042e3+(24013+t)/2*(e-6e3):e<1e4?a=12006e4+(40015+t)/2*(e-8e3):e<12e3?a=22008e4+(60017+t)/2*(e-1e4):e<14e3?a=364102e3+(84019+t)/2*(e-12e3):e<16e3&&(a=560126e3+(112021+t)/2*(e-14e3)),a},H={xp:"potion",aff:"gift",booster:"booster"},j=["xp","aff"],O=["xp","aff","booster"];var B=nl(296),z=nl.n(B);let F;const U=()=>{T.lsSet(f.MARKET_INFO,F)},Z=e=>"string"==typeof e?parseInt(e,10):e,q=e=>z()(e,200,{leading:!1,trailing:!0});class V{static collect(){T.isCurrentPage("shop")&&T.defer(()=>{F=T.lsGet(f.MARKET_INFO)||{};const t=q(async e=>{V.collectBuyableItemsOfType(e),U()}),a=q(async e=>{V.collectSellableItemsOfType(e),U(),$(document).trigger("market:inventory-updated")});var e=q(async()=>{V.collectEquipsList(),U(),$(document).trigger("market:equips-updated")});j.forEach(e=>{new MutationObserver(()=>t(e)).observe($(`#shops_left .${H[e]}`)[0],{childList:!0})}),O.forEach(e=>{new MutationObserver(()=>a(e)).observe($(`#inventory .${H[e]} .inventory_slots > div`)[0],{childList:!0,subtree:!0})}),new MutationObserver(e).observe($("#inventory .armor .inventory_slots > div")[0],{childList:!0}),V.collectRefreshTime(),V.collectBuyableItems(),V.collectSellableItems(),V.collectEquipsList(),U()})}static collectRefreshTime(){F.refreshTime=server_now_ts+parseInt($(".shop_count [rel=count]").attr("time"),10),F.refreshLevel=Hero.infos.level}static collectBuyableItems(){F.buyableItems||(F.buyableItems={}),j.forEach(V.collectBuyableItemsOfType)}static collectBuyableItemsOfType(e){const r={sc:{count:0,cost:0,value:0},hc:{count:0,cost:0,value:0}};$(`#shops_left .${H[e]} .slot:not(.empty)`).each((e,t)=>{var{currency:a,count:i,value:s,price:t}=$(t).data("d");const n=r[a];n.count+=i,n.cost+=Z(t)*i,n.value+=Z(s)*i}),F.buyableItems[e]=r}static collectSellableItems(){F.sellableItems||(F.sellableItems={booster:{count:0,cost:0},xp:{count:0,cost:0,value:0},aff:{count:0,cost:0,value:0}}),O.forEach(e=>V.collectSellableItemsOfType(e))}static collectSellableItemsOfType(s){const n={count:0,cost:0,value:0};$(`#inventory .${H[s]} .slot:not(.empty)`).each((e,t)=>{var{count:a,value:i,price_sell:t}=$(t).data("d"),a=Z(a);n.count+=a,n.cost+=Z(t)*a,["xp","aff"].includes(s)&&(n.value+=Z(i)*a)}),F.sellableItems[s]=n}static collectEquipsList(){const a={count:0,cost:0};$("#inventory .armor .slot:not(.empty)").each((e,t)=>{var t=$(t).data("d")["price_sell"];a.count+=1,a.cost+=Z(t)}),F.equipsAggregate=a}}const W=V,K={leaguePlayers:f.LEAGUE_PLAYERS,oldLeaguePlayers:f.LEAGUE_PLAYERS_OLD,pointHistory:f.LEAGUE_POINT_HISTORY,oldPointHistory:f.LEAGUE_POINT_HISTORY_OLD,leagueResults:f.LEAGUE_RESULTS,oldLeagueResults:f.LEAGUE_RESULTS_OLD,leagueScore:f.LEAGUE_SCORE,oldLeagueScore:f.LEAGUE_SCORE_OLD,leagueTime:f.LEAGUE_TIME,oldLeagueTime:f.LEAGUE_TIME_OLD,leagueUnknown:f.LEAGUE_UNKNOWN,oldLeagueUnknown:f.LEAGUE_UNKNOWN_OLD};class Y{static collect(){T.isCurrentPage("battle")&&!T.isCurrentPage("pre-battle")&&Y.collectLeagueBattlePoints(),T.isCurrentPage("tower-of-fame")&&T.defer(()=>{Y.migrate(),Y.clean(),Y.setupListeners()})}static clean(){var e=server_now_ts+season_end_at,t=T.lsGet(f.LEAGUE_TIME);t?t<e&&(T.lsSetRaw(f.LEAGUE_PLAYERS_OLD,T.lsGetRaw(f.LEAGUE_PLAYERS)),T.lsSetRaw(f.LEAGUE_POINT_HISTORY_OLD,T.lsGetRaw(f.LEAGUE_POINT_HISTORY)),T.lsSetRaw(f.LEAGUE_RESULTS_OLD,T.lsGetRaw(f.LEAGUE_RESULTS)),T.lsSetRaw(f.LEAGUE_SCORE_OLD,T.lsGetRaw(f.LEAGUE_SCORE)),T.lsSetRaw(f.LEAGUE_UNKNOWN_OLD,T.lsGetRaw(f.LEAGUE_UNKNOWN)),T.lsSet(f.LEAGUE_TIME_OLD,t),T.lsRm(f.LEAGUE_PLAYERS),T.lsRm(f.LEAGUE_POINT_HISTORY),T.lsRm(f.LEAGUE_RESULTS),T.lsRm(f.LEAGUE_SCORE),T.lsRm(f.LEAGUE_UNKNOWN),T.lsSet(f.LEAGUE_TIME,e),$(document).trigger("league:rollover")):T.lsSet(f.LEAGUE_TIME,e)}static migrate(){Object.entries(K).forEach(([e,t])=>{e=T.lsGetRaw(e);e&&!T.lsGetRaw(t)&&T.lsSetRaw(t,e)})}static collectLeagueBattlePoints(){T.onAjaxResponse(/action=do_league_battles/i,(t,a)=>{const e=new URLSearchParams(a.data);a=e.get("id_opponent");if(!(1<e.get("number_of_battles"))){t=t.rewards.heroChangesUpdate.league_points;const i=T.lsGet(f.LEAGUE_POINT_HISTORY)||{};try{i[a].points.push(t)}catch(e){i[a]={points:[t]}}T.lsSet(f.LEAGUE_POINT_HISTORY,i)}})}static setupListeners(){new MutationObserver(()=>{$(document).trigger("league:player-selected")}).observe(document.getElementById("leagues_right"),{childList:!0})}}const X=Y,J={pop:0,popDuration:0,champ:0,champs:{},clubChamp:0,gp:0},Q=()=>T.lsGet(f.TRACKED_TIMES)||J,ee=e=>{T.lsSet(f.TRACKED_TIMES,e)};class te{static collect(){T.defer(()=>{T.isCurrentPage("activities")&&te.collectPoPTime(),T.isCurrentPage("pachinko")&&(te.collectPachinkoTime(),te.collectRealtimePachinkoUpdateFromAjax()),(T.isCurrentPage("club-champion")||T.isCurrentPage("clubs"))&&(te.collectClubChampionTime(),te.collectRealtimeClubChampionUpdateFromAjax()),T.isCurrentPage("champions-map")&&te.collectChampionTimesFromMap(),T.isCurrentPage("champions/")&&(te.collectChampionTime(),te.collectRealtimeChampionUpdateFromAjax())})}static collectPoPTime(){const e=Q();var{server_now_ts:t,pop_data:a}=window;a&&(a=Object.values(a).map(({remaining_time:e,time_to_finish:t})=>({endAt:parseInt(e),duration:parseInt(t)})).filter(({endAt:e})=>e).sort((e,t)=>e.endAt>t.endAt?1:-1)[0]||{endAt:0,duration:0},e.pop=t+a.endAt,e.popDuration=a.duration,ee(e))}static collectPachinkoTime(){const e=Q();var{server_now_ts:t,pachinkoVar:a}=window,a=a["next_game"];e.gp=86400<a?Math.round(a/1e3):t+a,ee(e)}static collectRealtimePachinkoUpdateFromAjax(){T.onAjaxResponse(/action=play/,e=>{e.success&&te.collectPachinkoTime()})}static collectClubChampionTime(){const t=Q(),{championData:e,clubChampionsData:a}=window;[e,a].forEach(e=>{e&&e.timers&&(e.timers.teamRest||e.timers.championRest)&&(t.clubChamp=parseInt(e.timers.teamRest||e.timers.championRest))}),ee(t)}static collectRealtimeClubChampionUpdateFromAjax(){T.onAjaxResponse(/battle_type=club_champion/,e=>{if(e.success){const t=Q();0<e.final.attacker_ego?t.clubChamp=window.server_now_ts+86400:t.clubChamp=window.server_now_ts+900,ee(t)}})}static collectChampionTimesFromMap(){const e=Q(),r={};let o=0;const l=/champions\/(?<id>\d+)/;$("a.champion-lair").each((e,t)=>{const a=$(t),i=a.attr("href");t=i.match(l);if(t&&t.groups){var{groups:{id:t}}=t;const s={available:!0},n=a.find("[timer]");n.length&&(s.time=parseInt(n.attr("timer")),(!o||s.time<o)&&(o=s.time)),r[t]=s}}),e.champs=r,e.champ=o,ee(e)}static collectChampionTime(){const t=Q();var{championData:a,server_now_ts:i}=window;if(a&&a.timers&&a.timers&&!Array.isArray(a.timers)){var{champion:{id:s},timers:{teamRest:n,championRest:a}}=a;let e;n?e=parseInt(n):a&&(e=parseInt(a)),t.champs[s]={available:!0,time:e},e&&(t.champ<i||t.champ>e)&&(t.champ=e)}ee(t)}static collectRealtimeChampionUpdateFromAjax(){T.onAjaxResponse(/battle_type=champion/,t=>{if(t.success){const i=Q();var a=t.defender.id;let e;e=0<t.final.attacker_ego?window.server_now_ts+86400:window.server_now_ts+900,i.champs[a].time=e,(i.champ>e||i.champ<window.server_now_ts)&&(i.champ=e),ee(i)}})}}const ae=te,ie={normal:[],mythic:[]};class se{static collect(){T.defer(()=>{T.isCurrentPage("shop")&&se.collectFromMarket(),se.collectFromAjaxResponses(),se.collectFromHeroUpdate()})}static collectFromAjaxResponses(){T.onAjaxResponse(/(action|class)/,(e,t)=>{const o=T.lsGet(f.BOOSTER_STATUS)||ie,a=new URLSearchParams(t.data);const{action:l,class:c,type:i,id_m_i:s,id_item:n,number_of_battles:d,battles_amount:p}=["action","class","type","id_m_i","id_item","number_of_battles","battles_amount"].map(e=>({[e]:a.get(e)})).reduce((e,t)=>Object.assign(e,t),{});var t=e["success"];if(t)if("use"!==l||"Item"!==c||"booster"!==i){let t,a,i,s,n,r;if(o.mythic.forEach(e=>{switch(e.identifier){case"MB1":t=e;break;case"MB2":a=e;break;case"MB3":i=e;break;case"MB4":s=e;break;case"MB5":n=e;break;case"MB7":r=e}}),t&&"do_troll_battles"===l){const u=1<parseInt(d),h=e["rewards"];if(h&&h.data&&h.data.shards){let a=0;h.data.shards.forEach(({previous_value:e,value:t})=>{u?(e=t-e,a+=Math.floor(e/2)):a++}),t.usages_remaining-=a}}!a||"do_league_battles"!==l&&"do_season_battles"!==l||(a.usages_remaining-=parseInt(d)),!i||"do_pantheon_battles"!==l&&"do_troll_battles"!==l||(i.usages_remaining-=parseInt(d)),s&&"TeamBattle"===c&&(s.usages_remaining-=parseInt(p)),n&&"do_season_battles"===l&&(n.usages_remaining-=parseInt(d)),r&&"start"===l&&"TempPlaceOfPower"===c&&r.usages_remaining--,o.mythic=o.mythic.filter(({usages_remaining:e})=>0<e),T.lsSet(f.BOOSTER_STATUS,o),$(document).trigger("boosters:updated-mythic")}else{t=parseInt(n),t=632<=t&&t<=638;let i;if($(`.booster .slot[id_item=${n}]`).each((e,t)=>{const a=$(t).data("d");!i&&a.id_m_i.includes(s)&&(i=a)}),i){const r={...i};1<r.id_m_i.length&&(r.id_m_i=[s]),t?o.mythic.push({...r,usages_remaining:`${r.usages}`}):o.normal.push({...r,endAt:e.lifetime}),T.lsSet(f.BOOSTER_STATUS,o),$(document).trigger("boosters:equipped",{id_item:n,id_m_i:s,isMythic:t})}}})}static collectFromHeroUpdate(){const o=window.Hero.update.bind(window.Hero);window.Hero.update=(e,t,a)=>{if("xp"===e){const n=T.lsGet(f.BOOSTER_STATUS)||ie,r=n.mythic.find(({identifier:e})=>"MB6"===e);if(r){var{cur:i,level:s}=window.Hero.infos.Xp;let e=.05;s<=300&&(e=.2);s=(s=T.lsGet(f.CLUB_STATUS))?s.upgrades.experience_gain.bonus:window.Chat_vars&&window.Chat_vars.CLUB_ID?.1:0,s=Math.ceil(Math.floor((t-i)/(1+s+e))*e);r.usages_remaining-=s,n.mythic=n.mythic.filter(({usages_remaining:e})=>0<e),T.lsSet(f.BOOSTER_STATUS,n),$(document).trigger("boosters:updated-mythic")}}return o(e,t,a)}}static collectFromMarket(){const e=$("#equiped .booster .slot:not(.empty):not(.mythic)").map((e,t)=>$(t).data("d")).toArray();var t=$("#equiped .booster .slot:not(.empty).mythic").map((e,t)=>$(t).data("d")).toArray();const a=window["server_now_ts"];t={normal:e.map(e=>({...e,endAt:a+e.expiration})),mythic:t};T.lsSet(f.BOOSTER_STATUS,t)}}const ne=se;const re=class{static collect(){T.defer(()=>{if(T.isCurrentPage("clubs")&&window.membersList){const{upgradesInformation:{upgrades:t},membersList:a}=window;var e={upgrades:t,memberIds:a.map(({id_member:e})=>e)};T.lsSet(f.CLUB_STATUS,e)}})}};class oe{static collect(){oe.init(),T.isCurrentPage("side-quests")?T.defer(oe.collectFromSidequests):T.isCurrentPage("home")?T.defer(oe.collectFromHome):T.isCurrentPage("quest")&&T.defer(()=>{var e=T.lsGet(f.SIDEQUEST_STATUS);e&&e.continueLink&&T.isCurrentPage(e.continueLink)&&oe.collectFromActiveSidequest(e)})}static init(){T.lsGet(f.SIDEQUEST_STATUS)||T.lsSet(f.SIDEQUEST_STATUS,{energySpendAvailable:!0})}static collectFromSidequests(){let s=!1,n;$("#side_quests .side-quest").each((e,t)=>{const a=$(t);if(a.has(".Continue").length||a.has(".Begin").length){const i=a.find(".side-quest-rewards").data("reward-display")["rewards"];i.find(({type:e})=>"xp"===e)&&(s=!0,n=a.find("a.Continue, a.Begin").attr("href"))}}),T.lsSet(f.SIDEQUEST_STATUS,{energySpendAvailable:s,continueLink:n})}static collectFromActiveSidequest(t){var e=()=>{const e=$("#controls");(e.find("#end_play").length||e.find("#archive-back").length||e.find("#archive-next").length)&&(t.continueLink=null,T.lsSet(f.SIDEQUEST_STATUS,t))};e(),new MutationObserver(e).observe(document.getElementById("controls"),{childList:!0})}static collectFromHome(){if($("[rel=map] .button-notification-new").length){const e=T.lsGet(f.SIDEQUEST_STATUS);e&&!e.energySpendAvailable&&(e.energySpendAvailable=!0,T.lsSet(f.SIDEQUEST_STATUS,e))}}}const le=oe;let ce;const de=[];class pe{static get(){var e;return ce||(e=document.createElement("style"),document.head.appendChild(e),{sheet:ce}=e),ce}static registerVar(e,t){de.includes(e)||(pe.get().insertRule(`:root {--${e}: ${t};}`),de.push(e))}}const ue=pe;window.HHPlusPlus.Sheet=pe;var he=nl(379),me=nl.n(he),ge=nl(795),fe=nl.n(ge),be=nl(569),ve=nl.n(be),ye=nl(565),l=nl.n(ye),B=nl(216),he=nl.n(B),ge=nl(589),be=nl.n(ge),_e=nl(971),xe={};_e.Z&&_e.Z.locals&&(xe.locals=_e.Z.locals);var we,ke=0,$e={};$e.styleTagTransform=be(),$e.setAttributes=l(),$e.insert=ve().bind(null,"head"),$e.domAPI=fe(),$e.insertStyleElement=he(),xe.use=function(e){return $e.options=e||{},ke++||(we=me()(_e.Z,$e)),xe},xe.unuse=function(){0<ke&&!--ke&&(we(),we=null)};const Se=xe,Te=T["$"];const Ce=class{constructor(){this.groups=[],this.modules=[],this.config={},this.hasRendered=!1,this.$configButton=null,this.$configPane=null,this.configPaneOpen=!1,this.colors=o[T.getGameKey()],T.isCurrentPage("home")&&(Se.use(),T.defer(()=>{this.init(),this.renderInteractables()}))}init(){this.gameIcon=Te(".hh_logo>img").attr("src"),this.gameTitle=Te(".hh_logo").attr("title")}loadConfig(){var e=T.lsGet(f.CONFIG);e&&Object.assign(this.config,e)}saveConfig(){T.lsSet(f.CONFIG,this.config)}updateConfig(e,t){this.config[e]=t,this.saveConfig();const{module:a,subKey:i}=this.getModuleForKey(e);if(a)if(i)"function"==typeof a.updateSubSetting&&a.updateSubSetting(i,t);else{const s=this.$configPane.find(`.config-setting[rel=${e}]`),n=s.find(".sub-settings input");t?(this.runModule(a),s.addClass("enabled"),n.prop("disabled",!1)):("function"==typeof a.tearDown&&a.tearDown(),s.removeClass("enabled"),n.prop("disabled",!0))}}registerGroup(e){var{name:t,key:a}=e;if(!t||!a)throw new Error('cannot register invalid group, need both "key" and "name"',e);this.groups.push(e)}registerModule(e){const{group:t,configSchema:a}=e;if(!t||!this.groups.find(({key:e})=>e===t))throw new Error(`cannot register module with unknown group ${t}`);this.modules.push(e),this.config[this.getConfigKey(t,a.baseKey)]=a.default,a.subSettings&&a.subSettings.forEach(e=>{this.config[this.getConfigKey(t,a.baseKey,e.key)]=e.default})}runModules(){this.modules.forEach(e=>{this.config[this.getConfigKey(e.group,e.configSchema.baseKey)]&&this.runModule(e)})}runModule(t){var e=Object.keys(this.config).filter(e=>e.startsWith(`${this.getConfigKey(t.group,t.configSchema.baseKey)}_`)).map(e=>({[e.replace(`${this.getConfigKey(t.group,t.configSchema.baseKey)}_`,"")]:this.config[e]})).reduce((e,t)=>Object.assign(e,t),{});t.run(e)}getConfigKey(e,t,a){return[e,t,a].filter(e=>e).join("_")}getModuleForKey(e){const[a,i,t]=e.split("_");return{module:this.modules.find(({group:e,configSchema:t})=>t.baseKey===i&&e===a),subKey:t}}renderInteractables(){this.hasRendered||(this.injectCSSVars(),this.renderConfigButton(),this.hasRendered=!0)}renderConfigButton(){this.$configButton=Te(`<div class="hh-plus-plus-config-button" hh_title="${this.gameTitle} ++"></div>`),this.$configButton.click(this.openConfigPane.bind(this)),Te("#contains_all").append(this.$configButton)}buildConfigPaneContent(){return Te(`
            <div class="tabs">
                ${this.groups.map(({key:e,name:t})=>`<h4 class="${e}" rel="${e}">${t}</h4>`).join("")}
            </div>
            ${this.groups.map(({key:s})=>`
            <div class="group-panel" rel="${s}">
                <div class="panel-contents">
                    ${this.modules.filter(({group:e})=>e===s).map(({configSchema:a})=>{var e=this.getConfigKey(s,a.baseKey);const i=this.config[e];return`
                <div class="config-setting ${i?"enabled":""} ${a.subSettings?"has-subsettings":""}" rel="${e}">
                    <label class="base-setting">
                        <span>${a.label}</span>
                        <input type="checkbox" name="${e}" ${i?'checked="checked"':""} />
                    </label>
                    ${a.subSettings?`
                    <div class="sub-settings">
                        ${a.subSettings.map(e=>{var t=this.getConfigKey(s,a.baseKey,e.key);return`
                        <label>
                            <input type="checkbox" name="${t}" ${this.config[t]?'checked="checked"':""} ${i?"":'disabled="disabled"'} />
                            <span>${e.label}</span>
                        </label>`}).join("")}
                    </div>`:""}
                </div>`}).join("")}
                </div>
            </div>`).join("")}`)}renderConfigPane(){const e=Te('<span class="close-config-panel" />');e.click(this.closeConfigPane.bind(this)),this.$configPane=Te('<div class="hh-plus-plus-config-panel"></div>').append(this.buildConfigPaneContent()).prepend(e),Te("#contains_all").append(this.$configPane),this.$configPane.find(".group-panel").niceScroll(".panel-contents",{bouncescroll:!1}),this.setupEvents(),this.selectConfigTab(this.groups[0].key)}closeConfigPane(){this.$configPane.hasClass("shown")&&(this.$configPane.removeClass("shown"),this.configPaneOpen=!1)}openConfigPane(){this.$configPane&&this.$configPane.hasClass("shown")||(this.$configPane||this.renderConfigPane(),this.$configPane.addClass("shown"),this.configPaneOpen=!0)}selectConfigTab(e){Te(".hh-plus-plus-config-panel .tabs h4").removeClass("selected"),Te(`.hh-plus-plus-config-panel .tabs h4[rel=${e}]`).addClass("selected"),Te(".hh-plus-plus-config-panel .group-panel").removeClass("shown"),Te(`.hh-plus-plus-config-panel .group-panel[rel=${e}]`).addClass("shown").getNiceScroll().resize()}setupEvents(){this.groups.forEach(({key:e})=>{Te(`.hh-plus-plus-config-panel .tabs h4[rel=${e}]`).click(this.selectConfigTab.bind(this,e))}),Object.keys(this.config).forEach(t=>{Te(`.hh-plus-plus-config-panel input[name=${t}]`).change(e=>{this.updateConfig(t,Te(e.target).prop("checked"))})})}injectCSSVars(){ue.registerVar("config-button-icon",`url(${this.gameIcon})`),ue.registerVar("config-panel-background",this.colors.panelBackground),ue.registerVar("config-border-image-source",this.colors.panelBorderGradient),ue.registerVar("config-panel-box-shadow",this.colors.panelInset),ue.registerVar("cross-icon",`url('${T.getCDNHost()}/clubs/ic_xCross.png')`),ue.registerVar("config-setting-background",this.colors.homeDark),ue.registerVar("config-setting-border",this.colors.homeBorder)}};ye=class{constructor({group:e,configSchema:t}){this.group=e,this.configSchema=t,this.hasRun=!1}};B=class extends ye{constructor(e){super({group:"core",configSchema:e})}},ge={HH:{girl:"girl",Girl:"Girl",haremettes:"haremettes",flower:"flower"},GH:{girl:"guy",Girl:"Guy",haremettes:"harem guys",flower:"lollipop"},CxH:{girl:"girl",Girl:"Girl",haremettes:"haremettes",flower:"jewel"}}[T.getGameKey()];const Me={all:"All"},Le={refresh:"Home screen refresh",villain:"Fight a villain menu",villain_tiers:`Show tiers with ${ge.girl}s`,market:"Market information",marketGirlsFilter:`${ge.Girl}s filter at the market`,marketEquipsFilter:"Equips filter at the market",marketXPAff:"XP and affection at the market",marketHideSellButton:'Toggleable "Sell" button',harem:"Harem information",league:"League information",league_board:"Show the league tops",league_promo:"Show promotion information",simFight:"League / Season / Villains sim",simFight_logging:"Detailed logging in the browser console",simFight_highPrecisionMode:"High precision mode (warning: slow!)",teamsFilter:"Teams filter",champions:"Champions information",homeScreen:"Home Screen Shortcuts & Timers",resourceBars:"Resource bars / Booster tracking",popSort:"PoP sorting and quick navigation",seasonStats:"Season stats",pachinkoNames:"Show names in Pachinko",contestSummary:"Saved Contests rewards summary",battleEndstate:"Show final values when skipping battle",gemStock:"Gem stock in Market/Harem",staticBackground:"Prevent background switching during Orgy Days",rewardShards:`Display current shard counts on ${ge.girl} rewards`,leaderboardFix:"Fix Season and PoV leaderboards",hideClaimedRewards:"Hide claimed Season/PoA/PoV rewards",disableDragDrop:"Disable Drag-and-Drop in the Market",autoRefresh:"Auto-refresh the game every 10 minutes",villainBreadcrumbs:"Add breadcrumbs to villain pages"},Ee={missionsBackground:"Change missions background",collectMoneyAnimation:"Delete the collect money animation",mobileBattle:"Fix Mobile battle screen",darkMobileLeague:"Dark background on mobile league",hideRotateDevice:"Hide the device rotation reminder on mobile",salaryTimers:`Readable ${ge.girl} salary timers`,moveSkipButton:"Move the battle skip button down",poseAspectRatio:`Fix ${ge.girl} pose aspect ratio in battle`},Ie={darklord:"Dark Lord",ninjaspy:"Ninja Spy",gruntt:"Gruntt",edwarda:"Edwarda",donatien:"Donatien",silvanus:"Silvanus",bremen:"Bremen",finalmecia:"Finalmecia",rokosensei:"Roko Sense",karole:"Karole",jacksoncrew:"Jackson&#8217;s Crew",pandorawitch:"Pandora Witch",nike:"Nike",sake:"Sake",werebunnypolice:"WereBunny Police",edward:"Edward",edernas:"Edernas",maro:"Maro",bodyhack:"BodyHack",greygolem:"Grey Golem",nymph:"The Nymph",athicus:"Athicus Hoole",jockstrap:"The Mimic",fallback:"World {{world}} villain",event:"Event"},Ae={pointsUnbought:"Stat points buyable to max",moneyUnspent:"Money required to max",moneySpent:"Money spent in market",pointsLevel:"Level-based stat points",pointsBought:"Market-bought stat points",pointsEquip:"Equipments stat points",pointsBooster:"Boosters stat points",pointsClub:"Club bonus stat points",boosterItem:"boosters",xpItem:"books",xpCurrency:"XP",affItem:"gifts",affCurrency:"affection",equips:"equips",youOwn:"You own <b>{{count}}</b> {{type}}.",youCanSell:'You can sell everything for <b>{{cost}}</b> <span class="hudSC_mix_icn"></span>.',youCanGive:"You can give a total of <b>{{value}}</b> {{currency}}."},Re={searchedName:"Search",girlName:`${ge.Girl} name`,searchedClass:"Class",searchedElement:"Element",searchedRarity:"Rarity",levelRange:"Level range",searchedAffCategory:"Affection category",searchedAffLevel:"Affection level",grade0:"0 stars",grade1:"1 star",grade2:"2 stars",grade3:"3 stars",grade4:"4 stars",grade5:"5 stars",grade6:"6 stars",team:"Team",visitTeams:'Visit <a href="../teams.html">Teams</a> first.'},Pe={xp:" {{remainNext}}   {{remainMax}}",aff:"Next: {{remainNext}}"},De={hide:'Hide "Sell" button'},Ne={marketRestocked:'> The <a href="../shop.html">Market</a> restocked since your last visit.',visitMarket:'> Visit the <a href="../shop.html">Market</a> first to see an inventory summary here',itemSummary:"{{count}} ({{value}} {{type}})",costSC:'{{cost}} <span cur="soft_currency"></span>',costHC:'{{cost}} <span cur="hard_currency"></span>',haremStats:"Harem Stats",upgrades:"Upgrades",levelsAwakening:"Levels & Awakening",market:"Inventory & Market",wikiPage:"{{name}}'s wiki page",haremLevel:"Harem level",unlockedScenes:"Unlocked scenes",income:"Income",or:"{{left}} or {{right}}",toUpgrade:"To upgrade all:",toLevelCap:"To level to cap:",toLevelMax:"To level to max ({{max}}):",affectionScenes:"Affection Scenes",buyable:"Available in the market:",sellable:"In inventory:",gifts:"Gifts",books:"Books",canBeSold:"Can be sold for {{sc}}",canBeBought:"{{item}} for {{amount}}",marketRestock:"Market restocks at {{time}} or at level {{level}}"},Ge={stayInTop:"To <em><u>stay in the top {{top}}</u></em>, you must have a minimum of <em>{{points}}</em> points",notInTop:"To <em><u>be in the top {{top}}</u></em>, you must have a minimum of <em>{{points}}</em> points",challengesRegen:"Natural regeneration: <em>{{challenges}}</em>",challengesLeft:"Challenges left: <em>{{challenges}}</em>",averageScore:"Average score per fight: <em>{{average}}</em>",scoreExpected:"Score expected: <em>{{score}}</em>",toDemote:"To <em><u>demote</u></em>, you must be passed by <em>{{players}}</em> players",willDemote:"To <em><u>demote</u></em>, you can have a maximum of <em>{{points}}</em> points",willDemoteZero:"To <em><u>demote</u></em>, you must remain at <em>0</em> points",toNotDemote:"To <em><u>not demote</u></em>, you must have more than <em>0</em> points",toStay:"To <em><u>not promote</u></em>, you must be passed by <em>{{players}}</em> players",willStay:"To <em><u>not promote</u></em>, you can have a maximum of <em>{{points}}</em> points",hideFoughtOpponents:"Hide fought opponents",showFoughtOpponents:"Show fought opponents",currentLeague:"Current league",victories:"Victories",defeats:"Defeats",unknown:"Unknown",notPlayed:"Not played",levelRange:"Level range",leagueFinished:"League finished on {{date}}",opponents:"Opponents",leaguePoints:"Points",avg:"Average"},He={searchedName:"Search",girlName:`${ge.Girl} name`,searchedClass:"Class",searchedElement:"Element",searchedRarity:"Rarity",levelRange:"Level range",searchedAffCategory:"Affection category",searchedAffLevel:"Affection level",grade0:"0 stars",grade1:"1 star",grade2:"2 stars",grade3:"3 stars",grade4:"4 stars",grade5:"5 stars",grade6:"6 stars",searchedBlessedAttributes:"Blessings",blessedAttributes:`Blessed ${ge.girl}s`,nonBlessedAttributes:`Non-blessed ${ge.girl}s`},je={participants:"Participants: {{participants}}/{{members}}",clubChampDuration:"{{duration}} since round start"},Oe={popsIn:"PoPs in {{time}}",popsReady:"PoPs ready",readyAt:"Ready at {{time}}",endAt:"Ends at {{time}}",fullAt:"Full at {{time}}",xp:"Next: {{xp}} XP"},Be={clubChamp:"Club Champion",completeIn:"Complete in ",newMissionsIn:"New missions in ",missionsReady:"Missions ready"},ze={fights:"Fights",victories:"Victories",defeats:"Defeats",mojoWon:"Won mojo",mojoLost:"Lost mojo",mojoWonAvg:"Won mojo average",mojoLostAvg:"Lost mojo average",mojoAvg:"Total mojo average"},Fe={availableGirls:`Available ${ge.girl}s: `},Ue={totalRewards:"Total Saved Rewards ({{contests}} Contests):",contestsWarning:"Contests expire after 21 days!"},Ze={town:"Town",adventure:"Adventure",begincity:"Begin City",gemskingdom:"Gems Kingdom",ninjavillage:"Ninja Village",invadedkingdom:"Invaded Kingdom",juysea:"The Juy Sea",admittance:"Admittance of the dead",magicforest:"Magic Forest",hamelintown:"Hamelin Town",plainofrituals:"Plain of rituals",heroesuniversity:"Heroes University",ninjasacredlands:"Ninja sacred lands",splatters:"Splatters Archipelago",digisekai:"Digisekai",stairway:"Stairway to heaven",training:"Training Dimension",weresquidisland:"WereSquid Island",begincitycxh:"Begin City",heroacademy:"Hero Academy",newcenabum:"New Cenabum",ontheprowl:"On the Prowl",bushexplorations:"Bush Explorations",thespy:"The Spy Who Came Inside Me"},qe={all:"Toutes"},Ve={refresh:"Rafrachir page d'accueil",villain:"Menu des combats des trolls",villain_tiers:`Montrer les paliers/${T.isGH()?"mecs":"filles"}`,market:"Infos march",marketGirlsFilter:`Filtre des ${T.isGH()?"mecs":"filles"} au march`,marketEquipsFilter:"Filtre d'quipements au march",marketXPAff:"XP et affection au march",marketHideSellButton:"Bouton de vente activable",harem:"Infos harem",league:"Infos ligue",league_board:"Montrer les tops ligue",league_promo:"Montrer les informations sur la promotion",simFight:"Simu ligue / saison / combats de troll",simFight_logging:"Dtails dans la console du navigateur",simFight_highPrecisionMode:"Mode haute prcision (attention: lent!)",teamsFilter:"Filtre d'quipes",champions:"Infos champions",homeScreen:"Raccourcis & timers de l'cran principal",resourceBars:"Barres de ressorces / Indicateurs de boosters",popSort:"Tri LdP et navigation rapide",seasonStats:"Stats de la saison",pachinkoNames:"Montrer les noms au Pachinko",contestSummary:"Rcap' des rcompenses des Comptes enregistres",battleEndstate:"Afficher le dtail quand tu passes le combat",gemStock:"Stock de gemmes au march/harem",staticBackground:"Empche les changements de dcor durant les Jours d'Orgie",rewardShards:`Affiche le nombre de Fragments d'Affection actuels sur les ${T.isGH()?"mecs":"filles"} en rcompense`,leaderboardFix:"Corrige les classements de Saisons et Voie de la Valeur",hideClaimedRewards:"Masquer les rcompenses de Saison/CdA/VdV",disableDragDrop:"Dsactiver la fonction glisser-dposer dans le march",autoRefresh:"Actualise automatiquement le jeu toutes les 10 minutes",villainBreadcrumbs:"Ajouter une chane de navigation aux pages des boss du mode aventure"},We={missionsBackground:"Change l'arrire-plan des missions",collectMoneyAnimation:"Dsactive l'animation de rcolte d'argent",mobileBattle:"Corrige l'cran de bataille sur mobile",darkMobileLeague:"Fond sombre en Ligue sur mobile",hideRotateDevice:"Masque le message de rotation de l'cran sur mobile",salaryTimers:`Timers des salaires des ${T.isGH()?"mecs":"filles"} visibles`,moveSkipButton:"Mettre le bouton pour passer les combats en-bas",poseAspectRatio:`Corriger les proportions de la pose ${T.isGH()?"du mec":"de la fille"} en combat`},Ke={ninjaspy:"Espion Ninja",jacksoncrew:"q. de Jackson",pandorawitch:"Sorcire Pandora",werebunnypolice:"Police des Lapines-Garous",fallback:"Monde {{world}} troll"},Ye={pointsUnbought:"Nombre de points requis pour max",moneyUnspent:"Argent demand pour max",moneySpent:"Argent dpens dans le march",pointsLevel:"Points donns par ton niveau",pointsBought:"Points achets au march",pointsEquip:"Points donns par ton quipement",pointsBooster:"Points donns par tes boosters",pointsClub:"Points donns par ton club",boosterItem:"boosters",xpItem:"livres",xpCurrency:"XP",affItem:"cadeaux",affCurrency:"affection",equips:"quipements",youOwn:"Tu possdes <b>{{count}}</b> {{type}}.",youCanSell:'Tu peux tout vendre pour <b>{{cost}}</b> <span class="hudSC_mix_icn"></span>.',youCanGive:"Tu peux donner un total de <b>{{value}}</b> {{currency}}."},Xe={searchedName:"Nom ",girlName:`Nom ${T.isGH()?"du mec":"de la fille"}`,searchedClass:"Classe",searchedElement:"lment",searchedRarity:"Raret",levelRange:"Intervalle de niveaux",searchedAffCategory:"Catgorie d'affection",searchedAffLevel:"Niveau d'affection",grade0:"0 toile",grade1:"1 toile",grade2:"2 toiles",grade3:"3 toiles",grade4:"4 toiles",grade5:"5 toiles",grade6:"6 toiles",team:"quipe",visitTeams:"Visiter d'abord <a href=\"../teams.html\">l'quipe</a>."},Je={aff:"Suiv.: {{remainNext}}"},Qe={hide:'Masquer bouton "Vendre"'},et={marketRestocked:'> Le <a href="../shop.html">March</a> s\'est rempli depuis votre dernire visite.',visitMarket:'> Visitez d\'abord le <a href="../shop.html">March</a> pour pouvoir afficher un rsum de votre inventaire ici',haremStats:"Stats du harem",upgrades:"Amliorations",levelsAwakening:"Niveaux & Eveil",market:"Inventaire & March",wikiPage:"Page wiki de {{name}}",haremLevel:"Niveau de harem",unlockedScenes:"Scnes dverrouilles",income:"Revenus",or:"{{left}} ou {{right}}",toUpgrade:"Pour tout amliorer:",toLevelCap:"Pour limite de niveau:",toLevelMax:"Pour niveau max ({{max}}):",affectionScenes:"Scnes d'affection",buyable:"Dispo au march",sellable:"Dans l'inventaire",gifts:"Cadeaux",books:"Livres",canBeSold:"Vendable pour {{sc}}",canBeBought:"{{item}} pour {{amount}}",marketRestock:"March rempli  {{time}} ou au niv. {{level}}"},tt={stayInTop:"Pour <em><u>rester dans le top {{top}}</u></em>, vous devez avoir un minimum de <em>{{points}}</em> points",notInTop:"Pour <em><u>tre dans le top {{top}}</u></em>, vous devez avoir un minimum de <em>{{points}}</em> points",challengesRegen:"Rgnration naturelle: <em>{{challenges}}</em>",challengesLeft:"Dfis restants: <em>{{challenges}}</em>",averageScore:"Average score per fight: <em>{{average}}</em>",scoreExpected:"Score moyen par combat: <em>{{score}}</em>",toDemote:"Pour <em><u>tre rtrograd</u></em>, vous devez tre dpass par <em>{{players}}</em> joueurs",willDemote:"Pour <em><u>tre rtrograd</u></em>, vous pouvez avoir un maximum de <em>{{points}}</em> points",willDemoteZero:"Pour <em><u>tre rtrograd</u></em>, vous devez rester avec <em>0</em> points",toNotDemote:"Pour <em><u>ne pas tre rtrograd</u></em>, vous devez avoir plus de <em>0</em> points",toStay:"Pour <em><u>ne pas tre promu</u></em>, vous devez tre dpass par <em>{{players}}</em> joueurs",willStay:"Pour <em><u>ne pas tre promu</u></em>, vous pouvez avoir un maximum de <em>{{points}}</em> points",hideFoughtOpponents:"Masquer adversaires combattus",showFoughtOpponents:"Montrer adversaires combattus",currentLeague:"Ligue actuelle",victories:"Victoires",defeats:"Defaites",unknown:"Inconnus",notPlayed:"Non jous",levelRange:"tendue de niveau",leagueFinished:"Ligue termine le {{date}}",opponents:"Adversaires",leaguePoints:"Points",avg:"Moyenne"},at={searchedName:"Nom",girlName:`Nom ${T.isGH()?"du mec":"de la fille"}`,searchedClass:"Classe",searchedElement:"lment",searchedRarity:"Raret",levelRange:"Intervalle de niveaux",searchedAffCategory:"Catgorie d'affection",searchedAffLevel:"Niveau d'affection",grade0:"0 toile",grade1:"1 toile",grade2:"2 toiles",grade3:"3 toiles",grade4:"4 toiles",grade5:"5 toiles",grade6:"6 toiles",searchedBlessedAttributes:"Bndictions",blessedAttributes:T.isGH()?"Mecs bnis":"Filles bnies",nonBlessedAttributes:T.isGH()?"Mecs non bnis":"Filles non bnies"},it={participants:"Participants: {{participants}}/{{members}}",clubChampDuration:"{{duration}} depuis le dbut du tour"},st={popsIn:"LdP dans {{time}}",popsReady:"LdP dispo",readyAt:"Prt  {{time}}",endAt:"Fin  {{time}}",fullAt:"Rempli  {{time}}",xp:"Suiv.: {{xp}} XP"},nt={clubChamp:"Le Champion de Club",completeIn:"Termin dans ",newMissionsIn:"Nouv. missions dans ",missionsReady:"Missions disponibles"},rt={fights:"Combats",victories:"Victoires",defeats:"Defaites",mojoWon:"Mojo gagns",mojoLost:"Mojo perdus",mojoWonAvg:"Moyenne mojo gagns",mojoLostAvg:"Moyenne mojo perdus",mojoAvg:"Moyenne mojo globale"},ot={availableGirls:`${T.isGH()?"Mecs":"Filles"} disponibles: `},lt={totalRewards:"Total des rcompenses enregistres ({{contests}} Comptes) :",contestsWarning:"Les Comptes expirent aprs 21 jours !"},ct={town:"Ville",adventure:"Aventure",begincity:"Ville du Prlude",gemskingdom:"Royaume des Gemmes",ninjavillage:"Village Ninja",invadedkingdom:"Royaume envahi",juysea:"La Mouillemer",admittance:"Admittance of the dead",magicforest:"Fort Magique",hamelintown:"Ville d'Hamelin",plainofrituals:"Plaine des Rituels",heroesuniversity:"Universit des Hros",ninjasacredlands:"Terres Sacres des Ninjas",splatters:"Archipel des claboussures",digisekai:"Digisekai",stairway:"La Monte aux Cieux",training:"La dimension d'entranement",weresquidisland:"L'le des Poulpes Garous",begincitycxh:"Prludeville",heroacademy:"Acadmie des Hros",newcenabum:"Nouveau Cnabum",ontheprowl:" l'afft",bushexplorations:"Explorations de la brousse",thespy:"Lespion qui venait en moi"},dt={all:"Todo"},pt={refresh:"Actualizacion Menu principal",villain:"Menu Pelear contra villano",villain_tiers:`Mostrar Rangos con ${T.isGH()?"Chicos":"Chicas"}`,market:"Informacion de Mercado",marketGirlsFilter:`Filtro de ${T.isGH()?"chicos":"chicas"} en el mercado`,marketEquipsFilter:"Filtro de equipos de mercado",marketXPAff:"El XP y el afecto en el mercado",marketHideSellButton:'Botn "Vender" conmutable',harem:"Informacion de Harn",league:"Informacion de Liga",league_board:"Mostrar los mejores de la liga",league_promo:"Mostrar informacin de promocin",simFight:"Simulacion de Liga / Temporada / Villano",simFight_logging:"Registro detallado en la consola del navegador",simFight_highPrecisionMode:"Modo de alta precisin (Advertencia: Lento!)",teamsFilter:"Filtro de equipos",champions:"Informacion de Campeones",homeScreen:"Accesos directos y timers de la pantalla de inicio",resourceBars:"Barra de recursos / Rastreador de boosters",popSort:"Clasificacin de LdP y navegacin rpida",seasonStats:"Estadsticas de la temporada",pachinkoNames:"Mostrar nombres en Pachinko",contestSummary:"Resumen de recompensas guardadas de las competiciones",battleEndstate:"Muestra los valores finales despus de omitir la batalla.",gemStock:"Stock de gemas en el mercado/harn",staticBackground:"Previene cambios de fondo durante Das de Orga",rewardShards:`Mostrar el contador de fragmentos actual en las recompensas para ${T.isGH()?"chicos":"chicas"}`,leaderboardFix:"Arreglar las tablas de clasificacin de Temporada y CdV",hideClaimedRewards:"Ocultar recompensas reclamadas de Temporada/CdA/CdV",disableDragDrop:"Desactivar la opcin de Drag-and-Drop en el mercado",autoRefresh:"Refresca el juego automticamente cada 10 minutos",villainBreadcrumbs:"Agregar ruta de navegacin a las pginas de villanos"},ut={missionsBackground:"Cambiar el fondo de las misiones",collectMoneyAnimation:"Desactivar la animacin de recogida de dinero",mobileBattle:"Arreglar la pantalla de batalla para Mobile",darkMobileLeague:"Fondo oscuro en ligas para Mobile",hideRotateDevice:"Ocultar la etiqueta de rotacin del dispositivo en Mobile",salaryTimers:`Timers legibles de salarios de ${T.isGH()?"chicos":"chicas"}`,moveSkipButton:"Mueve el botn de saltar batalla abajo",poseAspectRatio:`Arreglar la relacin de aspecto de la pose ${T.isGH()?"del chico":"de la chica"} en la batalla`},ht={darklord:"Seor Oscuro",ninjaspy:"Ninja espa",jacksoncrew:"La tripulacin de Jackson",pandorawitch:"Pandora Bruja",werebunnypolice:"Polica hombres-conejos",fallback:"Mondo {{world}} nemico",event:"Evento"},mt={pointsUnbought:"Puntos de estatus necesarios para maximo",moneyUnspent:"Dinero necesario para maximo",moneySpent:"Dinero usado en el mercado",pointsLevel:"Puntos de estatus de nivel",pointsBought:"Puntos comprados del mercado",pointsEquip:"Puntos de estatus de equipamiento",pointsBooster:"Puntos de estatus de los potenciadores",pointsClub:"Puntos de estatus del club",boosterItem:"potenciadores",xpItem:"libros",xpCurrency:"XP",affItem:"regalos",affCurrency:"afecto",equips:"equipamiento",youOwn:"Tienes <b>{{count}}</b> {{type}}.",youCanSell:'Puedes vender todo por <b>{{cost}}</b> <span class="hudSC_mix_icn"></span>.',youCanGive:"Puedes dar un total de <b>{{value}}</b> {{currency}}."},gt={searchedName:"Nombre",girlName:`Nombre ${T.isGH()?"del chico":"de la chica"}`,searchedClass:"Clase",searchedElement:"Elemento",searchedRarity:"Rareza",levelRange:"Rango de nivel",searchedAffCategory:"Categora de afecto",searchedAffLevel:"Nivel de afecto",grade0:"0 estrella",grade1:"1 estrella",grade2:"2 estrellas",grade3:"3 estrellas",grade4:"4 estrellas",grade5:"5 estrellas",grade6:"6 estrellas",team:"Equipo",visitTeams:'Visita el <a href="../teams.html">Equipos</a> primero.'},ft={aff:"Siguiente: {{remainNext}}"},bt={hide:'Ocultar botn "Vender"'},vt={marketRestocked:'El <a href="../shop.html">Mercado</a> reabastecido desde su ltima visita',visitMarket:'Visite el <a href="../shop.html">Mercado</a> primero para ver un resumen del inventario aqu',haremStats:"Estadsticas del harn",upgrades:"Mejoras",levelsAwakening:"Niveles y Despertar",market:"Inventario y Mercado",wikiPage:"Pgina wiki de {{name}}",haremLevel:"Nivel de Harn",unlockedScenes:"Escenas desbloqueadas",income:"Ingresos",or:"{{left}} o {{right}}",toUpgrade:"Para actualizar todo:",toLevelCap:"Para nivelar hasta el tope:",toLevelMax:"Para nivelar al mximo: ({{max}}):",affectionScenes:"Escenas de afecto",buyable:"Disponible en el mercado:",sellable:"En inventario:",gifts:"Regalos",books:"Libros",canBeSold:"Se puede vender por {{sc}}",canBeBought:"{{item}} por {{amount}}",marketRestock:"Mercado se reabastece a las {{time}} o al nivel {{level}}"},yt={stayInTop:"Para <em><u>quedar entre los {{top}} primeros</u></em>, debes tener un mnimo de <em>{{points}}</em> puntos",notInTop:"Para <em><u>estar entre los {{top}} primeros</u></em>, debes tener un mnimo de <em>{{points}}</em> puntos",challengesRegen:"Regeneracion naturel: <em>{{challenges}}</em>",challengesLeft:"Retos pendientes: <em>{{challenges}}</em>",averageScore:"Puntuacin media por combate: <em>{{average}}</em>",scoreExpected:"Puntuacin esperada: <em>{{score}}</em>",toDemote:"Para <em><u>descender</u></em>, debes ser superado por <em>{{players}}</em> jugadores",willDemote:"Para <em><u>descender</u></em>, puedes tener un mximo de <em>{{points}}</em> puntos",willDemoteZero:"Para <em><u>descender</u></em>, debes mantenerte en <em>0</em> puntos",toNotDemote:"Para <em><u>no descender</u></em>, debes tener ms de <em>0</em> puntos",toStay:"Para <em><u>no promocionar</u></em>, debes ser superado por <em>{{players}}</em> jugadores",willStay:"Para <em><u>no promocionar</u></em>, puedes tener un mximo de <em>{{points}}</em> puntos",hideFoughtOpponents:"Ocultar oponentes peleados",showFoughtOpponents:"Mostrar oponentes peleados",currentLeague:"Liga actual",victories:"Victorias",defeats:"Derrota",unknown:"Desconocido",notPlayed:"No jugado",levelRange:"Rango de nivel",leagueFinished:"Liga termin el {{date}}",opponents:"Opositores",leaguePoints:"Puntos",avg:"Media"},_t={searchedName:"Nombre",girlName:`Nombre ${T.isGH()?"del chico":"de la chica"}`,searchedClass:"Clase",searchedElement:"Elemento",searchedRarity:"Rareza",levelRange:"Rango de nivel",searchedAffCategory:"Categora de afecto",searchedAffLevel:"Nivel de afecto",grade0:"0 estrella",grade1:"1 estrella",grade2:"2 estrellas",grade3:"3 estrellas",grade4:"4 estrellas",grade5:"5 estrellas",grade6:"6 estrellas",searchedBlessedAttributes:"Benediciones",blessedAttributes:T.isGH()?"Benditos chicos":"Benditas chicas",nonBlessedAttributes:T.isGH()?"Chicos no bendecidos":"Chicas no bendecidas"},xt={clubChampDuration:"{{duration}} desde el comienzo de la ronda"},wt={popsIn:"LdPs en {{time}}",popsReady:"LdPs listos",readyAt:"Listo en {{time}}",endAt:"Termina en {{time}}",fullAt:"Lleno en {{time}}",xp:"Siguiente: {{xp}} XP"},kt={clubChamp:"El Campen de Club",completeIn:"Completo en ",newMissionsIn:"Nuevas misiones en ",missionsReady:"Misiones listas"},$t={fights:"Peleas",victories:"Victorias",defeats:"Derrota",mojoWon:"Mojo ganado",mojoLost:"Mojo perdido",mojoWonAvg:"Mojo ganado promedio",mojoLostAvg:"Mojo perdido promedio",mojoAvg:"Promedio total de mojo"},St={availableGirls:`${T.isGH()?"Chicos":"Chicas"} disponibles: `},Tt={totalRewards:"Recompensas totales guardadas ({{contests}} Competiciones):",contestsWarning:"Los Competiciones caducan despus de 21 das!"},Ct={town:"Cuidad",adventure:"Aventura",begincity:"Primera ciudad",gemskingdom:"El Reino de las Gemas",ninjavillage:"Aldea de los Ninjas",invadedkingdom:"El Reino Invadido",juysea:"El mar del Jugo",admittance:"Admisin de los muertos",magicforest:"Bosque mgico",hamelintown:"Ciudad de Hameln",plainofrituals:"Llanura de los rituales",heroesuniversity:"Universidad de Hroes",ninjasacredlands:"Tierra sagrada Ninja",splatters:"Salpicaduras del archipilago",digisekai:"Digisekai",stairway:"Escalera al cielo",training:"Training Dimension",weresquidisland:"Isla WereSquid"},Mt={all:"Tutti"},Lt={refresh:"Refresh pagina Home",villain:"Men battaglia Troll",villain_tiers:`Mostra battaglie con ${T.isGH()?"ragazzi":"ragazze"}`,market:"Informazioni negozio",marketGirlsFilter:`Filtro per ${T.isGH()?"ragazzi":"ragazze"} nel mercato`,marketEquipsFilter:"Filtro per ogetti nel mercato",marketXPAff:"XP e affetto nel mercato",marketHideSellButton:"Nascondi il bottone di vendita nel mercato",harem:"Informazioni Harem",league:"Informazioni sulle Leghe",league_board:"Mostra i top della lega",league_promo:"Mostra informazioni sulla promozione",simFight:"Simulazione Leghe / Stagione / Troll",simFight_logging:"Accesso dettagliato nella console del browser",simFight_highPrecisionMode:"Modalit ad alta precisione (attenzione: lento!)",teamsFilter:"Filtro delle squadre",champions:"Informazioni sui Campioni",homeScreen:"Scorciatoie e timer della schermata principale",resourceBars:"Barre di risorse / Monitoraggio dei booster",popSort:"LdP ordinamento e navigazione rapida",seasonStats:"Statistiche di stagione",pachinkoNames:"Mostra i nomi nel Pachinko",contestSummary:"Riepilogo dei premi salvati dei contest",battleEndstate:"Mostra i valori finali dopo aver saltato la battaglia",gemStock:"Scorte di gemme nel Mercato/Harem",staticBackground:"Impedi lo scambio di sfondo durante i giorni dell'orgia",rewardShards:"Mostra i conti attuali dei frammenti sulle ricompense",leaderboardFix:"Correggi le classifiche di Stagione e SdV",hideClaimedRewards:"Nascondi le ricompense gi rivendicate per la stagione/PoA/PoV",disableDragDrop:"Disabilitare il drag-and-drop nel mercato",autoRefresh:"Aggiorna il gioco automaticamente ogni 10 minuti"},Et={missionsBackground:"Cambiare lo sfondo delle missioni",collectMoneyAnimation:"Disattivare l'animazione di raccolta dei soldi",mobileBattle:"Correggi schermata di battaglia mobile",darkMobileLeague:"Sfondo scuro nella lega mobile",hideRotateDevice:"Nascondi il ricordo della rotazione del device su mobile",salaryTimers:"Leggibile timer di salario",moveSkipButton:"Sposta il bottone salta battaglia in basso",poseAspectRatio:`Correggi le proporzioni delle pose ${T.isGH()?"delli ragazzi":"delle ragazze"} in combattimento`},It={darklord:"Signore Oscuro",ninjaspy:"Spia Ninja",jacksoncrew:"Ciurma di Jackson",pandorawitch:"Strega Pandora",werebunnypolice:"Polizia del Conigli Mannari",fallback:"Mundo {{world}} villano",event:"Evento"},At={pointsUnbought:"Punti statistica necessari per il massimo",moneyUnspent:"Soldi necessari per il massimo",moneySpent:"Soldi spesi al negozio",pointsLevel:"Punti acquisiti da aumento livello",pointsBought:"Punti comprati al negozio",pointsEquip:"Punti statistica da equipaggiamento",pointsBooster:"Punti statistica dei potenziamenti",pointsClub:"Punti statistica bonus del Club",boosterItem:"potenziamenti",xpItem:"libri",xpCurrency:"XP",affItem:"regali",affCurrency:"affetto",equips:"equipaggiamento",youOwn:"Possiedi <b>{{count}}</b> {{type}}.",youCanSell:'Puoi vendere tutto per <b>{{cost}}</b> <span class="hudSC_mix_icn"></span>.',youCanGive:"Puoi dare un massimo di <b>{{value}}</b> {{currency}}."},Rt={searchedName:"Nome",girlName:`Nome ${T.isGH()?"del ragazzo":"della ragazza"}`,searchedClass:"Classe",searchedElement:"Elemento",searchedRarity:"Rarit",levelRange:"Gamma di livelli",searchedAffCategory:"Categoria di affetto",searchedAffLevel:"Livello di affetto",grade0:"0 stella",grade1:"1 stella",grade2:"2 stelle",grade3:"3 stelle",grade4:"4 stelle",grade5:"5 stelle",grade6:"6 stelle",team:"Squadra",visitTeams:'Visita le <a href="../teams.html">Squadre</a> prima.'},Pt={aff:"Prossimo: {{remainNext}}"},Dt={hide:'Nascondi il bottone "Vendi"'},Nt={marketRestocked:'> Il <a href="../shop.html">mercato</a> si  rifornito dalla tua ultima visita.',visitMarket:'> Visita prima il <a href="../shop.html">Mercato</a> per vedere un riassunto dell\'inventario qui',haremStats:"Statistiche dell'harem",upgrades:"Aggiornamenti",levelsAwakening:"Livelli e risveglio",market:"Inventario e mercato",wikiPage:"La pagina wiki di {{name}}}",haremLevel:"Il livello del Harem",unlockedScenes:"Scene sbloccate",income:"Guadagno",or:"{{left}} o {{right}}",toUpgrade:"Per aggiornare tutti:",toLevelCap:"Per salire di livello fino:",toLevelMax:"Per salire di livello al massimo ({{max}}):",affectionScenes:"Scene d'affetto",buyable:"Dispondibili nel mercato:",sellable:"Nell'inventario:",gifts:"Regali",books:"Libri",canBeSold:"Pu essere venduto per {{sc}}",canBeBought:"{{item}} per {{amount}}",marketRestock:"Il mercato si rifornisce in {{time}} o al livello {{level}}"},Gt={stayInTop:"Per <em><u>rimanere tra i primi {{top}}</u></em>, devi avere un minimo di <em>{{points}}</em> punti",notInTop:"Per <em><u>essere tra i primi {{top}}</u></em>, devi avere un minimo di <em>{{points}}</em> punti",challengesRegen:"Rigenerazione naturale: <em>{{challenges}}</em>",challengesLeft:"Combattimenti mancanti: <em>{{challenges}}</em>",averageScore:"Punteggio medio per combattimento: <em>{{average}}</em>",scoreExpected:"Punteggio previsto: <em>{{score}}</em>",toDemote:"Per <em><u>retrocedere</u></em>, devi essere sorpassato da <em>{{players}}</em> giocatori",willDemote:"Per <em><u>retrocedere</u></em>, puoi avere al massimo <em>{{points}}</em> punti",willDemoteZero:"Per <em><u>retrocedere</u></em>, devi rimanere a <em>0</em> punti",toNotDemote:"Per <em><u>non retrocedere</u></em>, devi avere pi di <em>0</em> punti",toStay:"Per <em><u>non essere promosso</u></em>, devi essere sorpassato da <em>{{players}}</em> giocatori",willStay:"Per <em><u>non essere promosso</u></em>, puoi avere al massimo <em>{{points}}</em> punti",hideFoughtOpponents:"Nascondi avversari combattuti",showFoughtOpponents:"Mostra avversari combattuti",currentLeague:"Lega attuale",victories:"Vittorie",defeats:"Sconfitte",unknown:"Sconosciuto",notPlayed:"Non giocato",levelRange:"Gamma di livelli",leagueFinished:"Lega finita il {{date}}",opponents:"Avversari",leaguePoints:"Punti",avg:"Media"},Ht={searchedName:"Nome",girlName:`Nome ${T.isGH()?"del ragazzo":"della ragazza"}`,searchedClass:"Classe",searchedElement:"Elemento",searchedRarity:"Rarit",levelRange:"Gamma di livelli",searchedAffCategory:"Categoria di affetto",searchedAffLevel:"Livello di affetto",grade0:"0 stella",grade1:"1 stella",grade2:"2 stelle",grade3:"3 stelle",grade4:"4 stelle",grade5:"5 stelle",grade6:"6 stelle",searchedBlessedAttributes:"Benedizioni",blessedAttributes:T.isGH()?"Ragazzi benedetti":"Ragazze benedette",nonBlessedAttributes:T.isGH()?"Ragazzi non benedetti":"Ragazze non benedette"},jt={participants:"Partecipanti: {{participants}}/{{members}}",clubChampDuration:"{{duration}} dall'inizio del giro"},Ot={popsIn:"LdP in {{time}}",popsReady:"LdP pronti",readyAt:"Pronto in {{time}}",endAt:"Termina in {{time}}",fullAt:"Pieno in {{time}}",xp:"Prossimo: {{xp}} XP"},Bt={clubChamp:"Il Campione per Club",completeIn:"Completa in ",newMissionsIn:"Nuova Missione in ",missionsReady:"Missioni pronte"},zt={fights:"Combattimenti",victories:"Vittorie",defeats:"Sconfitte",mojoWon:"Mojo vinto",mojoLost:"Mojo perso",mojoWonAvg:"Media mojo vinto",mojoLostAvg:"Media mojo perso",mojoAvg:"Media mojo globale"},Ft={availableGirls:`${T.isGH()?"Ragazzi":"Ragazze"} disponibili: `},Ut={totalRewards:"Ricompense totali salvate ({{contests}} contest):",contestsWarning:"I contest scadono dopo 21 giorni!"},Zt={town:"Citt",adventure:"Avventura",begincity:"Citt dell'inizio",gemskingdom:"Il reame delle gemme",ninjavillage:"Villaggio dei ninja",invadedkingdom:"Il regno invaso",juysea:"Il mare Juy",admittance:"Ammissione del defunto",magicforest:"La foresta magica",hamelintown:"Citt di Hamelin",plainofrituals:"Piano dei rituali",heroesuniversity:"Universit degli Eroi",ninjasacredlands:"Terre Sacre dei Ninja",splatters:"Arcipelago Appiccicoso",digisekai:"Digisekai",stairway:"Scalinata verso il Cielo",training:"Dimensione d'Allenamento",weresquidisland:"Isola dei Calamari Mannari"},qt={all:"Alle"},Vt={villain:"Schurken-Men",villain_tiers:`Stufen mit ${T.isGH()?"Kerlen":"Mdels"} anzeigen`,market:"Markt-Informationen",marketGirlsFilter:`${T.isGH()?"Jungs":"Mdchen"}filter im Markt`,marketEquipsFilter:"Ausrstungsfilter im Markt",marketXPAff:"XP und Zuneigung im Markt",marketHideSellButton:"Umschaltbarer Verkaufs-Button im Markt",harem:"Harem-Informationen",league:"Liga-Informationen",league_board:"Die Liga-Spitzen anzeigen",league_promo:"Werbeinformationen anzeigen",simFight:"Liga/Saison/Schurken-Simulation",simFight_logging:"Detaillierte Protokollierung in der Browserkonsole",simFight_highPrecisionMode:"Hochprzisionsmodus (Warnung: langsam!)",teamsFilter:"Teamfilter",champions:"Champion-Informationen",homeScreen:"Homepage Verknpfungen & Timer",resourceBars:"Ressourcen-Leisten / Booster Tracking",popSort:"PoP-Sortierung und schnelle Navigation",seasonStats:"Saison-Werte",pachinkoNames:"Namen im Pachinko anzeigen",contestSummary:"Zusammenfassung der gespeicherten Wettbewerbsprmien",battleEndstate:"Endgltige Werte beim berspringen des Kampfes anzeigen",gemStock:"Juwelen-Vorrat im Markt/Harem",staticBackground:"Verhindere Hintergrundvernderung whrden Orgien Tagen",rewardShards:`Aktuelle Splitteranzahl fr ${T.isGH()?"Kerle":"Mdchen"} anzeigen`,leaderboardFix:"Fix fr Ranglisten von Saison und PoV",hideClaimedRewards:"Bereits beanspruchte Saison/PoA/PoV Belohungen ausblenden",disableDragDrop:"Drag-and-Drop im Markt deaktivieren",autoRefresh:"Automatisches Aktualisieren des Spiels alle 10 Minuten",villainBreadcrumbs:"Ergnze Breadcrumbs fr die Schurken-Seite"},Wt={missionsBackground:"Missionshintergrund ndern",collectMoneyAnimation:"Geldsammel-Animation deaktivieren",mobileBattle:"Fix fr den Kampfbildschirm am Handy",darkMobileLeague:"Dunkler Liga-Hintergrund am Handy",hideRotateDevice:"Gert-drehen-Hinweis am Handy verbergen",salaryTimers:`Lesbarer Lohntimer der ${T.isGH()?"Jungs":"Mdchen"}`,moveSkipButton:"Verschiebe die Kampf berspringen Taste nach unten",poseAspectRatio:`${T.isGH()?"Kerle":"Mdchen"} Posen-Seitenverhltnisse im Kampf korrigieren`},Kt={darklord:"Dunkler Lord",ninjaspy:"Ninja Spion",jacksoncrew:"Jacksons Crew",pandorawitch:"Pandora Hexe",werebunnypolice:"Wer-Kaninchen Polizei",fallback:"Welt {{world}} Schurke"},Yt={pointsUnbought:"Kaufbare Statuspunkte bis Maximum",moneyUnspent:"Ntiges Geld bis Maximum",moneySpent:"Bisher ausgegebens Geld",pointsLevel:"Levelbasierte Statuspunkte",pointsBought:"Gekaufte Statuspunkte",pointsEquip:"Statuspunkte durch Ausrstung",pointsBooster:"Statuspunkte durch Booster",pointsClub:"Statuspunkte durch Club-Boni",boosterItem:"Booster",xpItem:"Bcher",xpCurrency:"XP",affItem:"Geschenke",affCurrency:"Zuneigung",equips:"Ausrstungen",youOwn:"Du besitzt <b>{{count}}</b> {{type}}.",youCanSell:'Du kannst alles verkaufen fr <b>{{cost}}</b> <span class="hudSC_mix_icn"></span>.',youCanGive:"Du kannst ingesamt <b>{{value}}</b> {{currency}} vergeben."},Xt={searchedName:"Name",girlName:"Name",searchedClass:"Klasse",searchedRarity:"Seltenheit",levelRange:"Level-Spanne",searchedAffCategory:"Maximale Zuneigung",searchedAffLevel:"Aktuelle Zuneigung",grade0:"0 Sterne",grade1:"1 Stern",grade2:"2 Sterne",grade3:"3 Sterne",grade4:"4 Sterne",grade5:"5 Sterne",grade6:"6 Sterne",team:"Team",visitTeams:'Besuche zuerst die <a href="../teams.html">Teams</a>.'},Jt={aff:"Nchstes: {{remainNext}}"},Qt={hide:"Verkaufs-Button verbergen"},ea={marketRestocked:'> Der <a href="../shop.html">Markt</a> wurde seit deinem letzten Besuch aufgefllt.',visitMarket:'> Besuche zuerst den <a href="../shop.html">Markt</a>, um hier eine Inventarzusammenfassung zu sehen',haremStats:"Haremwerte",upgrades:"Upgrades",levelsAwakening:"Level & Erwachen",market:"Inventar & Markt",wikiPage:"{{name}}s Wikiseite",haremLevel:"Harem-Level",unlockedScenes:"Freigeschaltete Szenen",income:"Einkommen",or:"{{left}} oder {{right}}",toUpgrade:"Um alle upzugraden",toLevelCap:"Um bis zur Grenze zu leveln",toLevelMax:"Um bis zum Maximum zu leveln ({{max}})",affectionScenes:"Zuneigungsszenen",buyable:"Im Markt zu kaufen",sellable:"Im Inventar",gifts:"Geschenke",books:"Bcher",canBeSold:"Kann fr {{sc}} verkauft werden",canBeBought:"{{item}} fr {{amount}}",marketRestock:"Markt fllt sich um {{time}} oder bei Level {{level}} wieder auf"},ta={stayInTop:"Um <em><u>in den Top {{top}} zu bleiben</u></em>, musst du mindestens <em>{{points}}</em> Punkte haben",notInTop:"Um <em><u>in die Top {{top}} zu kommen</u></em>, musst du mindestens <em>{{points}}</em> Punkte haben",challengesRegen:"Regeneration: <em>{{challenges}}</em>",challengesLeft:"Verbleibende Kmpfe: <em>{{challenges}}</em>",averageScore:"Durchschnitt pro Kampf: <em>{{average}}</em>",scoreExpected:"Erwartetes Ergebnis: <em>{{score}}</em>",toDemote:"Um <em><u>abzusteigen</u></em>, musst du von <em>{{players}}</em> Spielern berholt werden",willDemote:"Um <em><u>abzusteigen</u></em>, darfst du maximal <em>{{points}}</em> Punkte haben",willDemoteZero:"Um <em><u>abzusteigen</u></em>, musst du bei <em>0</em> Punkten bleiben",toNotDemote:"Um <em><u>nicht abzusteigen</u></em>, musst du mehr als <em>0</em> Punkte",toStay:"Um <em><u>nicht aufzusteigen</u></em>, musst du von <em>{{players}}</em> Spielern berholt werden",willStay:"Um <em><u>nicht aufzusteigen</u></em>, darfst du maximal <em>{{points}}</em> Punkte haben",hideFoughtOpponents:"Bereits bekmpfte Gegner verbergen",showFoughtOpponents:"Bereits bekmpfte Gegner anzeigen",currentLeague:"Aktuelle Liga",victories:"Siege",defeats:"Niederlagen",unknown:"Unbekannt",notPlayed:"Nicht gespielt",levelRange:"Level-Spanne",leagueFinished:"Liga endete am {{date}}",opponents:"Gegner",leaguePoints:"Punkte",avg:"Mittelwert"},aa={searchedName:"Suche",girlName:"Name",searchedClass:"Klasse",searchedRarity:"Seltenheit",levelRange:"Level-Spanne",searchedAffCategory:"Maximale Zuneigung",searchedAffLevel:"Aktuelle Zuneigung",grade0:"0 Sterne",grade1:"1 Stern",grade2:"2 Sterne",grade3:"3 Sterne",grade4:"4 Sterne",grade5:"5 Sterne",grade6:"6 Sterne",searchedBlessedAttributes:"Segnungen",blessedAttributes:`Gesegnete ${T.isGH()?"Kerle":"Mdchen"}`,nonBlessedAttributes:`Nicht gesegnete ${T.isGH()?"Kerle":"Mdchen"}`},ia={participants:"Teilnehmer: {{participants}}/{{members}}",clubChampDuration:"{{duration}} seit Rundenbeginn"},sa={popsIn:"PoPs in {{time}}",popsReady:"PoPs bereit",readyAt:"Bereit um {{time}}",endAt:"Endet um {{time}}",fullAt:"Voll um {{time}}",xp:"Nchstes: {{xp}} XP"},na={clubChamp:"Club-Champion",completeIn:"Beendet in ",newMissionsIn:"Neue Missionen in ",missionsReady:"Missionen bereit"},ra={fights:"Kmpfe",victories:"Siege",defeats:"Niederlagen",mojoWon:"Gewonnenes Mojo",mojoLost:"Verlorenes Mojo",mojoWonAvg:"Durchschnittlich gewonnenes Mojo",mojoLostAvg:"Durchschnittlich verlorenes Mojo",mojoAvg:"Insgesamt durchschnittliches Mojo"},oa={availableGirls:`Verfgbare ${T.isGH()?"Kerle":"Mdchen"}: `},la={totalRewards:"Gesamtzahl der gespeicherten Belohnungen ({{contests}} Wettbewerbe):",contestsWarning:"Wettbewerbe verfallen nach 21 Tagen!"},ca={town:"Stadt",adventure:"Abenteuer",begincity:"Vorspiel-Stadt",gemskingdom:"Edelstein-Knigreich",ninjavillage:"Ninja Dorf",invadedkingdom:"berfallenes Knigreich",juysea:"Das feuchte Meer",admittance:"Einlass der Toten",magicforest:"Magischer Wald",hamelintown:"Die Stadt Hameln",plainofrituals:"Ebene der Rituale",heroesuniversity:"Helden Universitt",ninjasacredlands:"Heilige Lande der Ninja",splatters:"Spritzer-Archipel",digisekai:"Digisekai",stairway:"Himmelstreppe",training:"Trainingsdimension",weresquidisland:"Wer-Tintenfisch-Insel"},da={all:""},pa={refresh:"  ",villain:"  ",villain_tiers:`   ${T.isGH()?"":""}`,market:"  ",marketGirlsFilter:` ${T.isGH()?"":""}  `,marketEquipsFilter:"   ",marketXPAff:"XP    ",marketHideSellButton:'  ""',harem:"  ",league:"  ",league_board:"    ",league_promo:"   ",simFight:"  /  / ",simFight_logging:"    ",simFight_highPrecisionMode:"   (: !)",teamsFilter:"  ",champions:"  ",homeScreen:"     ",resourceBars:"  /  ",popSort:"     ",seasonStats:" ",pachinkoNames:"   ",contestSummary:"  ",battleEndstate:"     ",gemStock:"    /",staticBackground:"     ",rewardShards:`    ${T.isGH()?"":""}-`,leaderboardFix:"     PoV",hideClaimedRewards:"   //PoV",disableDragDrop:"   ",autoRefresh:"    10 ",villainBreadcrumbs:"     "},ua={missionsBackground:"  ",collectMoneyAnimation:"   ",mobileBattle:"    ",darkMobileLeague:"     ",hideRotateDevice:"      ",salaryTimers:`   ${T.isGH()?"":""}`,moveSkipButton:"    ",poseAspectRatio:`     ${T.isGH()?"":""}  `},ha={darklord:" ",ninjaspy:"-",gruntt:"",edwarda:"",donatien:"",silvanus:"",bremen:"",finalmecia:"",rokosensei:"-",karole:"",jacksoncrew:" ",pandorawitch:" ",nike:"",sake:"",werebunnypolice:" ",fallback:"  {{world}}",event:""},ma={pointsUnbought:"  ",moneyUnspent:"   ",moneySpent:"   ",pointsLevel:"  ",pointsBought:" ",pointsEquip:"  ",pointsBooster:"  ",pointsClub:"   ",boosterItem:"",xpItem:"",xpCurrency:"XP",affItem:"",affCurrency:"",equips:" ",youOwn:"   <b>{{count}}</b> {{type}}.",youCanSell:'    <b>{{cost}}</b> <span class="hudSC_mix_icn"></span>.',youCanGive:"   <b>{{value}}</b> {{currency}}."},ga={searchedName:"",girlName:` ${T.isGH()?"":""}`,searchedClass:"",searchedElement:"",searchedRarity:"",levelRange:" ",searchedAffCategory:"  ",searchedAffLevel:" ",grade0:"0 ",grade1:"1 ",grade2:"2 ",grade3:"3 ",grade4:"4 ",grade5:"5 ",grade6:"6 ",team:"",visitTeams:'  <a href="../teams.html"></a>.'},fa={aff:".: {{remainNext}}"},ba={hide:'  ""'},va={marketRestocked:'> <a href="../shop.html"></a>    .',visitMarket:'>  <a href="../shop.html"></a>      ',haremStats:" ",upgrades:"",levelsAwakening:"  ",market:"  ",wikiPage:"{{name}}  ",haremLevel:" ",unlockedScenes:" ",income:"",or:"{{left}}  {{right}}",toUpgrade:"  :",toLevelCap:"   :",toLevelMax:"    ({{max}}):",affectionScenes:" ",buyable:"  :",sellable:" ",gifts:"",books:"",canBeSold:"   {{sc}}",canBeBought:"{{item}}  {{amount}}",marketRestock:"   {{time}}   {{level}} "},ya={stayInTop:" <em><u>   {{top}}</u></em>,   <em>{{points}}</em> ",notInTop:" <em><u>   {{top}}</u></em>,   <em>{{points}}</em> ",challengesRegen:" : <em>{{challenges}}</em>",challengesLeft:" : <em>{{challenges}}</em>",averageScore:" -   : <em>{{average}}</em>",scoreExpected:" : <em>{{score}}</em>",toDemote:" <em><u>  </u></em>,    <em>{{players}}</em> ",willDemote:" <em><u>  </u></em>,       <em>{{points}}</em> ",willDemoteZero:" <em><u>  </u></em>,     <em>0</em> ",toNotDemote:" <em><u>   </u></em>,      <em>0</em> ",toStay:" <em><u>   </u></em>,    <em>{{players}}</em> ",willStay:" <em><u>   </u></em>,       <em>{{points}}</em> ",hideFoughtOpponents:"  ",showFoughtOpponents:"  ",currentLeague:" ",victories:"",defeats:"",unknown:"",notPlayed:"",levelRange:" ",leagueFinished:"  {{date}}",opponents:"",leaguePoints:"",avg:" "},_a={searchedName:"",girlName:` ${T.isGH()?"":""}`,searchedClass:"",searchedElement:"",searchedRarity:"",levelRange:" ",searchedAffCategory:"  ",searchedAffLevel:" ",grade0:"0 ",grade1:"1 ",grade2:"2 ",grade3:"3 ",grade4:"4 ",grade5:"5 ",grade6:"6 ",searchedBlessedAttributes:"",blessedAttributes:` ${T.isGH()?"":""}`,nonBlessedAttributes:` ${T.isGH()?"":""}`},xa={participants:": {{participants}}/{{members}}",clubChampDuration:"{{duration}}   "},wa={popsIn:"  {{time}}",popsReady:" ",readyAt:"  {{time}}",endAt:"  {{time}}",fullAt:"  {{time}}",xp:": {{xp}} XP"},ka={clubChamp:" ",completeIn:"  ",newMissionsIn:"   ",missionsReady:" "},$a={fights:"",victories:"",defeats:"",mojoWon:" ",mojoLost:" ",mojoWonAvg:"  ",mojoLostAvg:"  ",mojoAvg:"   "},Sa={availableGirls:` ${T.isGH()?"":""}: `},Ta={totalRewards:"   ({{contests}} ):",contestsWarning:"    21 !"},Ca={town:"",adventure:"",begincity:" ",gemskingdom:" ",ninjavillage:" ",invadedkingdom:" ",juysea:" ",admittance:" ",magicforest:" ",hamelintown:"",plainofrituals:" ",heroesuniversity:" ",ninjasacredlands:"  ",splatters:" ",digisekai:"",stairway:" ",training:"Training Dimension",weresquidisland:"WereSquid Island"},Ma={en:e,fr:t,es:a,it:i,de:s,ru:n},La=Object.keys(Ma),Ea=La[0];let Ia,Aa,Ra;class Pa{static getLang(){var e;return Ia||(e=document.documentElement.lang.substring(0,2),Ia=La.includes(e)?e:Ea),Ia}static getLocale(){return Aa=Aa||(["en","ja"].includes(Pa.getLang())?"en":"fr"),Aa}static getModuleLabel(e,t,a={}){var i=Pa.getLang();let s=Ma[i][e]&&Ma[i][e][t]||Ma[Ea][e]&&Ma[Ea][e][t]||t;return Object.entries(a).forEach(([e,t])=>{s=s.replace(`{{${e}}}`,t)}),s}static getLocaleDecimalSeperator(){return Ra=Ra||Number(1.1).toLocaleString(Pa.getLocale()).replace(/[0-9]/g,""),Ra}static parseLocaleFloat(e){return parseFloat(e.split(Pa.getLocaleDecimalSeperator()).map(e=>e.replace(/[^0-9]/g,"")).join("."),10)}static parseLocaleRoundedInt(e){return e.includes(Pa.getLocaleDecimalSeperator())?parseInt(e.replace("K","00").replace(/[^0-9]/gi,""),10):e.includes("K")?parseInt(e.replace("K","000").replace(/[^0-9]/gi,""),10):parseInt(e.replace(/[^0-9]/gi,""),10)}static nThousand(e){return(e="number"!=typeof e?0:e).toLocaleString(Pa.getLocale()).replace(" ","")}static nRounding(e,t,a){var i=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"},{value:1e12,symbol:"T"}];let s;for(s=i.length-1;0<s&&!(e>=i[s].value);s--);return 1===a?Pa.nThousand(+(Math.ceil(e/i[s].value*Math.pow(10,t))/Math.pow(10,t)).toFixed(t))+i[s].symbol:0===a?Pa.nThousand(+(Math.round(e/i[s].value*Math.pow(10,t))/Math.pow(10,t)).toFixed(t))+i[s].symbol:-1===a?Pa.nThousand(+(Math.floor(e/i[s].value*Math.pow(10,t))/Math.pow(10,t)).toFixed(t))+i[s].symbol:void 0}}const Da=Pa,Na={HH:[{key:"darklord",world:2,girls:{1:["8","9","10"],2:["7270263"],3:["979916751"]},gems:[{element:"fire",amount:15},{element:"sun",amount:15}]},{key:"ninjaspy",world:3,girls:{1:["14","13","12"],2:["318292466"],3:["936580004"]},gems:[{element:"darkness",amount:15},{element:"light",amount:15}]},{key:"gruntt",world:4,girls:{1:["19","16","18"],2:["610468472"],3:["54950499"]},gems:[{element:"psychic",amount:15},{element:"water",amount:15}]},{key:"edwarda",world:5,girls:{1:["29","28","26"],2:["4749652"],3:["345655744"]},gems:[{element:"nature",amount:15},{element:"stone",amount:15}]},{key:"donatien",world:6,girls:{1:["39","40","41"],2:["267784162"],3:["763020698"]},gems:[{element:"darkness",amount:20}]},{key:"silvanus",world:7,girls:{1:["64","63","31"],2:["406004250"],3:["864899873"]},gems:[{element:"light",amount:20}]},{key:"bremen",world:8,girls:{1:["85","86","84"],2:["267120960"],3:["536361248"]},gems:[{element:"psychic",amount:20}]},{key:"finalmecia",world:9,girls:{1:["114","115","116"],2:["379441499"],3:["447396000"]},gems:[{element:"water",amount:20}]},{key:"rokosensei",world:10,girls:{1:["1247315","4649579","7968301"],2:["46227677"],3:["933487713"]},gems:[{element:"fire",amount:20}]},{key:"karole",world:11,girls:{1:["1379661","4479579","1800186"],2:["985085118"],3:["339765042"]},gems:[{element:"nature",amount:20}],items:["K4"]},{key:"jacksoncrew",world:12,girls:{1:["24316446","219651566","501847856"],2:["383709663"],3:["90685795"]},gems:[{element:"stone",amount:20}],items:["XP4"]},{key:"pandorawitch",world:13,girls:{1:["225365882","478693885","231765083"],2:["155415482"],3:["769649470"]},gems:[{element:"sun",amount:20}],items:["K4"]},{key:"nike",world:14,girls:{1:["86962133","243793871","284483399"],2:[],3:[]},gems:[{element:"darkness",amount:25}]},{key:"sake",world:15,girls:{1:["612527302","167231135","560979916","784911160","549524850","184523411"],2:[],3:[]},gems:[{element:"light",amount:25}]},{key:"werebunnypolice",world:16,girls:{1:["164866290","696124016","841591253"],2:[],3:[]},gems:[{element:"psychic",amount:25}]},{world:17,girls:{1:[],2:[],3:[]},gems:[{element:"water",amount:25}]}],GH:[{key:"darklord",world:2,girls:{1:["8","9","10"],2:["7270263"],3:["979916751"]},gems:[{element:"fire",amount:15},{element:"sun",amount:15}]},{key:"ninjaspy",world:3,girls:{1:["14","13","12"],2:["318292466"],3:["936580004"]},gems:[{element:"darkness",amount:15},{element:"light",amount:15}]},{key:"gruntt",world:4,girls:{1:["19","16","18"],2:["610468472"],3:["54950499"]},gems:[{element:"psychic",amount:15},{element:"water",amount:15}]},{key:"edward",world:5,girls:{1:["29","28","26"],2:["4749652"],3:["345655744"]},gems:[{element:"nature",amount:15},{element:"stone",amount:15}]},{key:"donatien",world:6,girls:{1:["39","40","41"],2:["267784162"],3:["763020698"]},gems:[{element:"darkness",amount:20}]},{key:"silvanus",world:7,girls:{1:["64","63","31"],2:["406004250"],3:["864899873"]},gems:[{element:"light",amount:20}]},{key:"bremen",world:8,girls:{1:["85","86","84"],2:["267120960"],3:["536361248"]},gems:[{element:"psychic",amount:20}]},{key:"edernas",world:9,girls:{1:["114","115","116"],2:["379441499"],3:["447396000"]},gems:[{element:"water",amount:20}]},{key:"rokosensei",world:10,girls:{1:["1247315","4649579","7968301"],2:["46227677"],3:["933487713"]},gems:[{element:"fire",amount:20}]},{key:"maro",world:11,girls:{1:["1379661","4479579","1800186"],2:["985085118"],3:["339765042"]},gems:[{element:"nature",amount:20}],items:["K4"]},{key:"jacksoncrew",world:12,girls:{1:["24316446","219651566","501847856"],2:[],3:[]},gems:[{element:"stone",amount:20}],items:["XP4"]}],CxH:[{key:"bodyhack",world:2,girls:{1:["830009523","907801218","943323021"],2:[],3:[]},gems:[{element:"fire",amount:15},{element:"sun",amount:15}]},{key:"greygolem",world:3,girls:{1:["271746999","303805209","701946373"],2:[],3:[]},gems:[{element:"darkness",amount:15},{element:"light",amount:15}]},{key:"nymph",world:4,girls:{1:["943255266","977228200","743748788"],2:[],3:[]},gems:[{element:"psychic",amount:15},{element:"water",amount:15}]},{key:"athicus",world:5,girls:{1:["514994766","140401381","232860230"],2:[],3:[]},gems:[{element:"nature",amount:15},{element:"stone",amount:15}]},{key:"jockstrap",world:6,girls:{1:["623293037","764791769","801271903"],2:[],3:[]},gems:[{element:"darkness",amount:20}]},{world:7,girls:{1:[],2:[],3:[]},gems:[{element:"light",amount:20}]}]};var Ga=nl(217),Ha={};Ga.Z&&Ga.Z.locals&&(Ha.locals=Ga.Z.locals);var ja,Oa=0,Ba={};Ba.styleTagTransform=be(),Ba.setAttributes=l(),Ba.insert=ve().bind(null,"head"),Ba.domAPI=fe(),Ba.insertStyleElement=he(),Ha.use=function(e){return Ba.options=e||{},Oa++||(ja=me()(Ga.Z,Ba)),Ha},Ha.unuse=function(){0<Oa&&!--Oa&&(ja(),ja=null)};const za=Ha,Fa="villain",Ua={1:"common",2:"epic",3:"legendary",event:"epic",mythicEvent:"mythic"};const Za=class extends B{constructor(){super({baseKey:Fa,label:Da.getModuleLabel("config",Fa),default:!0}),this.label=Da.getModuleLabel.bind(this,Fa)}run(){this.hasRun||(za.use(),T.defer(()=>{this.injectCSSVars(),this.$overlay=$('<div class="script-fight-a-villain-menu-overlay"></div>'),$("body").append(this.$overlay),this.$overlay.click(()=>{this.$container.removeClass("shown"),this.$overlay.removeClass("shown")}),$("#contains_all > header [type=fight] .bar-wrapper").click(()=>{var e;this.$container||(e=this.buildMenu(),this.$container=$('<div class="script-fight-a-villain-menu-container fixed_scaled"></div>'),this.$container.append(e),$("body").append(this.$container)),this.$container.addClass("shown"),this.$overlay.addClass("shown")})}),this.hasRun=!0)}injectCSSVars(){ue.registerVar("troll-menu-font-weight",T.isCxH()?"800":"400"),ue.registerVar("girl-ico-tick",`url("${T.getCDNHost()}/clubs/ic_Tick.png")`)}buildMenu(){const e=Na[T.getGameKey()],y=T.lsGet(f.EVENT_VILLAINS)||[],_=T.lsGet(f.MYTHIC_EVENT_VILLAINS)||[],x=T.getGirlDictionary(),t=Hero.infos.questing.id_world,w=`${T.getCDNHost()}/pictures/design/quest/ico-quest.png`,a=e.filter(e=>e.world<=t),k=$(`<div class="script-fight-a-villain-menu width-${Math.min(4,a.length)}"></div>`);return a.forEach(({key:e,girls:t,world:a,gems:i,items:s})=>{const n=`${a-1}`;var r=this.label(e),o=`${T.getCDNHost()}/pictures/trolls/${n}/ico1.png`,e=`/world/${a}`;let l="regular";a=y.find(({troll:e})=>e===n);let c=!0;const d={};a&&({id:a,rarity:p}=a,d.event=a,!!(a=x.get(a))&&100===a.shards||(l=`eventTroll ${p}`,c=!1));var p=_.find(({troll:e})=>e===n);p&&(p=p["id"],d.mythicEvent=p,!!(p=x.get(p))&&100===p.shards||(l="mythicEventTroll",c=!1));const u=$(`<a class="menu-villain ${l}" href="/troll-pre-battle.html?id_opponent=${n}"></a>`),h=$('<div class="menu-villain-top"></div>');h.append(`<img class="menu-villain-icon" src="${o}" />`);const m=$('<div class="menu-villain-name-and-drops"></div>');m.append(`<div class="menu-villain-name">${r}</div>`);const g=$('<div class="menu-villain-drops"></div>');i&&i.forEach(({element:e,amount:t})=>{g.append(`<div class="menu-villain-gem-drop-container" generic-tooltip="${GT.design[`${e}_gem`]}"><img class="menu-villain-drop" src="${T.getCDNHost()}/pictures/design/gems/${e}.png" /><span class="menu-villain-gem-drop-amount">${t}</span></div>`)}),s&&s.forEach(e=>{g.append(`<img class="menu-villain-drop" src="${T.getCDNHost()}/pictures/items/${e}.png" />`)}),m.append(g),h.append(m),h.append(`<div class="menu-villain-world"><a href="${e}"><img src="${w}" /></a></div>`);const f=$('<div class="menu-villain-bottom"></div>');if(Object.entries(t).forEach(([n,e])=>{if(e.length){const a=$('<div class="menu-villain-tier"></div>');var t=$(`<div class="menu-villain-tier-title">${n}</div>`);const r=$(`<div class="menu-villain-tier-girls tier${n}"></div>`);e.forEach(e=>{var t=x.get(e);let a,i,s;t?{name:a,rarity:i,shards:s}=t:(a="Unknown",i=Ua[n],s="?");t=`${T.getCDNHost()}/pictures/girls/${e}/ico0-300x.webp`,e="?"===s||s<100;c&=!e,r.append(`<div class="girl_ico ${e?"":"obtained"}" rarity="${i}"><img src="${t}"/>${e?`<div class="shard-count" shards="${s}" name="${a}"><span class="shard"></span>${s}</div>`:""}</div>`)}),a.append(t).append(r),f.append(a)}}),Object.entries(d).length){const b=$('<div class="menu-villain-tier"></div>');t=$(`<div class="menu-villain-tier-title">${this.label("event")}</div>`);const v=$('<div class="menu-villain-tier-girls event"></div>');Object.entries(d).forEach(([e,t])=>{var a=x.get(t);let i,s,n;a?{name:i,rarity:s,shards:n}=a:(i="Unknown",s=Ua[e],n="?");e=`${T.getCDNHost()}/pictures/girls/${t}/ico0-300x.webp`,t="?"===n||n<100;v.append(`<div class="girl_ico ${t?"":"obtained"}" rarity="${s}"><img src="${e}"/>${t?`<div class="shard-count" shards="${n}" name="${i}"><span class="shard"></span>${n}</div>`:""}</div>`)}),b.append(t).append(v),f.append(b)}c&&u.addClass("all-obtained"),u.append(h),u.append(f),k.append(u)}),k}};var qa=nl(849),Va={};qa.Z&&qa.Z.locals&&(Va.locals=qa.Z.locals);var Wa,Ka=0,Ya={};Ya.styleTagTransform=be(),Ya.setAttributes=l(),Ya.insert=ve().bind(null,"head"),Ya.domAPI=fe(),Ya.insertStyleElement=he(),Va.use=function(e){return Ya.options=e||{},Ka++||(Wa=me()(qa.Z,Ya)),Va},Va.unuse=function(){0<Ka&&!--Ka&&(Wa(),Wa=null)};const Xa=Va,Ja="market",Qa=[1,2,3],ei=e=>`carac${e}`;const ti=class extends B{constructor(){super({baseKey:Ja,label:Da.getModuleLabel("config",Ja),default:!0}),this.label=Da.getModuleLabel.bind(this,Ja),this.$tooltips={},this.previousCaracs={1:0,2:0,3:0}}shouldRun(){return T.isCurrentPage("shop")}run(){!this.hasRun&&this.shouldRun()&&(Xa.use(),T.defer(()=>{this.injectCSSVars(),this.setupHooks(),this.updateStats(),this.updateInventory(),this.updateEquips(),this.attachGirlQuota()}),this.hasRun=!0)}updateStats(){const h=[],m=[];Object.entries(this.previousCaracs).every(([e,t])=>t===Hero.infos.caracs[ei(e)])||($("#equiped .armor .slot:not(.empty)").each((e,t)=>{h.push($(t).data("d"))}),$("#equiped .booster .slot:not(.empty):not(.mythic)").each((e,t)=>{m.push($(t).data("d"))}),Qa.forEach(e=>{const i=ei(e);var t=Hero.infos.caracs[i],a=h.map(e=>e[i]).reduce((e,t)=>e+t,0),s=heroStatsPrices[e]["base_stat"],n=Hero.infos[i],r=30*Hero.infos.level,o=r-n,l=G(r),c=G(n),r=l-c;let d=0,p=0;m.forEach(e=>{var{identifier:t,rarity:a}=e;"B1"===t&&(e=e[i],"legendary"===a?p+=e/100:d+=e)});l=d+Math.ceil((s+n+a+d)*p);let u=0;(T.isHH()||T.isGH())&&(u=t-s-n-a-l),this.$tooltips[e]||(this.$tooltips[e]=$(`<div class="statToolTip" rel="${i}"></div>`),$(`.hero_stats [hero=${i}]`).append('<div class="marketInfoIcon statInfo" ></div>').append(this.$tooltips[e])),this.$tooltips[e].html(`
                <table>
                    <tbody>
                        <tr><td>${this.label("pointsUnbought")} :</td><td>${Da.nThousand(o)}</td></tr>
                        <tr><td>${this.label("moneyUnspent")} :</td><td>${Da.nThousand(r)}</td></tr>
                        <tr><td>${this.label("moneySpent")} :</td><td>${Da.nThousand(c)}</td></tr>
                    </tbody>
                </table>
                <hr/>
                <table>
                    <tbody>
                        <tr><td>${this.label("pointsLevel")} :</td><td>${Da.nThousand(s)}</td></tr>
                        <tr><td>${this.label("pointsBought")} :</td><td>${Da.nThousand(n)}</td></tr>
                        <tr><td>${this.label("pointsEquip")} :</td><td>${Da.nThousand(a)}</td></tr>
                        <tr><td>${this.label("pointsBooster")} :</td><td>${Da.nThousand(l)}</td></tr>
                        <tr><td>${this.label("pointsClub")} :</td><td>${Da.nThousand(u)}</td></tr>
                    </tbody>
                </table>
            `.replace(/( {4}|\n)/g,""))}))}updateInventory(){this.updateItems(),this.updateEquips()}updateItems(){const n=T.lsGet(f.MARKET_INFO);n.sellableItems&&O.forEach(e=>{if(!this.$tooltips[e]){this.$tooltips[e]=$('<div class="inventoryToolTip"></div>');const s=$('<div class="marketInfoIcon inventoryInfo"></div>');$(`#inventory .${H[e]}`).prepend(s),s.after(this.$tooltips[e])}var{count:t,cost:a,value:i}=n.sellableItems[e];this.$tooltips[e].html(`
                ${this.label("youOwn",{count:Da.nThousand(t),type:this.label(`${e}Item`)})}<br />
                ${["xp","aff"].includes(e)?this.label("youCanGive",{value:Da.nThousand(i),currency:this.label(`${e}Currency`)})+"<br />":""}
                ${this.label("youCanSell",{cost:Da.nThousand(a)})}
            `)})}updateEquips(){var e=T.lsGet(f.MARKET_INFO);if(e.equipsAggregate){var t="equip";if(!this.$tooltips[t]){this.$tooltips[t]=$('<div class="inventoryToolTip"></div>');const i=$('<div class="marketInfoIcon inventoryInfo"></div>');$("#inventory .armor").prepend(i),i.after(this.$tooltips[t])}var{count:a,cost:e}=e.equipsAggregate;this.$tooltips[t].html(`
            ${this.label("youOwn",{count:Da.nThousand(a),type:this.label("equips")})}<br />
            ${this.label("youCanSell",{cost:Da.nThousand(e)})}
        `)}}attachGirlQuota(){var e,t,a=T.getAwakeningThreshold();a&&({currentThreshold:e,currentThresholdOwned:t,currentThresholdMin:a}=a,a=`${GT.design.Lvl} ${e} : ${t} / ${a} ${GT.design.Girls}`,$("#girls_list .level_target").attr("hh_title",a))}setupHooks(){T.onAjaxResponse(/action=update_stats/,(e,t)=>{if(e.success){const a=new URLSearchParams(t.data);t=ei(a.get("carac")),e=e[t];Hero.infos[t]=e}}),Qa.forEach(e=>{var t=ei(e);const a=new MutationObserver(()=>this.updateStats());a.observe($(`[hero=${t}] [carac=${e}]`)[0],{childList:!0})}),$(document).on("market:inventory-updated",()=>this.updateItems()),$(document).on("market:equips-updated",()=>this.updateEquips())}injectCSSVars(){ue.registerVar("info-icon",`url(${T.getCDNHost()}/design/ic_info.svg)`)}};const ai=class{static selectInput({id:e,label:t,options:a,value:i}){return`
            <div class="form-control">
                <div class="select-group">
                    <label class="head-group" for="${e}">${t}</label>
                    <select name="${e}" id="${e}" icon="down-arrow">
                        <option value="all" ${"all"===i?'selected="selected"':""}>${Da.getModuleLabel("common","all")}</option>
                        ${a.map(({label:e,value:t})=>`<option value="${t}" ${i===t?'selected="selected"':""}>${e}</option>`).join("")}
                    </select>
                </div>
            </div>
        `}static textInput({id:e,label:t,placeholder:a,value:i}){return`
            <div class="form-control">
                <div class="input-group">
                    <label class="head-group" for="${e}">${t}</label>
                    <input type="text" autocomplete="off" id="${e}" placeholder="${a}" icon="search" value="${i}">
                </div>
            </div>
        `}},ii="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0cHgiIGZpbGw9IiNGRkZGRkYiPjxnPjxwYXRoIGQ9Ik0wLDBoMjQgTTI0LDI0SDAiIGZpbGw9Im5vbmUiLz48cGF0aCBkPSJNNyw2aDEwbC01LjAxLDYuM0w3LDZ6IE00LjI1LDUuNjFDNi4yNyw4LjIsMTAsMTMsMTAsMTN2NmMwLDAuNTUsMC40NSwxLDEsMWgyYzAuNTUsMCwxLTAuNDUsMS0xdi02IGMwLDAsMy43Mi00LjgsNS43NC03LjM5QzIwLjI1LDQuOTUsMTkuNzgsNCwxOC45NSw0SDUuMDRDNC4yMSw0LDMuNzQsNC45NSw0LjI1LDUuNjF6Ii8+PHBhdGggZD0iTTAsMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PC9nPjwvc3ZnPg==",si=["fire","nature","stone","sun","water","darkness","light","psychic"],ni={fire:"Eccentric",nature:"Exhibitionist",stone:"Physical",sun:"Playful",water:"Sensual",darkness:"Dominatrix",light:"Submissive",psychic:"Voyeurs"};var ri=nl(546),oi={};ri.Z&&ri.Z.locals&&(oi.locals=ri.Z.locals);var li,ci=0,di={};di.styleTagTransform=be(),di.setAttributes=l(),di.insert=ve().bind(null,"head"),di.domAPI=fe(),di.insertStyleElement=he(),oi.use=function(e){return di.options=e||{},ci++||(li=me()(ri.Z,di)),oi},oi.unuse=function(){0<ci&&!--ci&&(li(),li=null)};const pi=oi,ui=T["$"],hi="marketGirlsFilter",mi={carac:"all",rarity:"all",element:"all",affCategory:"all",affLvl:"all",name:"",range:"",team:null};const gi=class extends B{constructor(){super({baseKey:hi,label:Da.getModuleLabel("config",hi),default:!0}),this.label=Da.getModuleLabel.bind(this,hi)}shouldRun(){return T.isCurrentPage("shop")}run(){if(!this.hasRun&&this.shouldRun()){pi.use();const t=()=>{this.injectCSSVars();const d=e=>{T.lsSet(f.MARKET_GIRLS_FILTER,e)},v=()=>T.lsGet(f.MARKET_GIRLS_FILTER)||mi;let y=ui(".g1>div");const _=y.find(".number.selected, .nav_placement");let s=parseInt(_.text().split("/")[0]);_.empty().text("/"),y.find(".number:not(.selected)").remove();let x=Array.from(y.find(".girl-ico").toArray(),e=>ui(e)),w=y.children(".girl-ico").length,k=ui(`<span>${w}</span>`);_.append(k);let n=ui(`<span contenteditable>${s}</span>`);function r(e=s){return(e-1+1)%w+1}function o(e=s){return(e-1+w-1)%w+1}function l(e=s){return y.children(".girl-ico").eq(e-1)}function $(){let e=l();e.addClass("not-selected"),l(o()).css("left","-145px"),e.css("left","-145px"),l(r()).css("left","-145px")}function S(e,t=!0,a=!0){a&&$();let i=l(e);i.removeClass("not-selected"),l(o(e)).css("left","0px"),l(r(e)).css("left","290px"),i.css("left","145px"),window.$girl=i,t&&n.text(e),s=e,function(){const e=window["$girl"];{var t,a,i,s;e.attr("class").includes("girl")&&({level:t,name:a,element_data:i,class:s}=e.data("g"),ui("#girls_list>.level_target_squared>div>div").attr("chars",t.length),ui("#girls_list>.level_target_squared>div>div").text(t),ui("#girls_list>h3").text(a),i?ui("#girls_list>.icon").attr("src",`${T.getCDNHost()}/pictures/girls_elements/${ni[i.type]}.png`):ui("#girls_list>.icon").attr("carac",s))}}(),ui(document).trigger("market:selected-girl-changed")}_.prepend(n),n.on("input",()=>{var e=parseInt(n.text());e<=0||e>w||!Number.isFinite(e)||S(e,!1)});let e=y.parent().find('span[nav="left"]');e.off("click"),e.on("click",()=>{S(o())});let t=y.parent().find('span[nav="right"]');t.off("click"),t.on("click",()=>{S(r())});(()=>{const n=()=>{var e=e=>({label:this.label(`grade${e}`),value:e}),{carac:t,rarity:a,element:i,name:s,range:n,affCategory:r,affLvl:o}=v(),l=T.getAwakeningThreshold(),l=l?l.currentThreshold:GIRL_MAX_LEVEL;return ui(`
                    <div style="position:relative">
                        <div id="arena_filter_box" class="form-wrapper" style="display: none;">
                            ${ai.textInput({id:"sort_name",label:this.label("searchedName"),placeholder:this.label("girlName"),value:s})}
                            ${ai.selectInput({id:"sort_class",label:this.label("searchedClass"),options:[1,2,3].map(e=>({label:GT.caracs[e],value:e})),value:t})}
                            ${ai.selectInput({id:"sort_element",label:this.label("searchedElement"),options:["fire","nature","stone","sun","water","darkness","light","psychic"].map(e=>({label:GT.design[`${e}_flavor_element`],value:e})),value:i})}
                            ${ai.selectInput({id:"sort_rarity",label:this.label("searchedRarity"),options:["starting","common","rare","epic","legendary","mythic"].map(e=>({label:GT.design[`girls_rarity_${e}`],value:e})),value:a})}
                            ${ai.textInput({id:"sort_level",label:this.label("levelRange"),placeholder:`1-${l}`,value:n})}
                            ${ai.selectInput({id:"sort_aff_category",label:this.label("searchedAffCategory"),options:["1","3","5","6"].map(e),value:r})}
                            ${ai.selectInput({id:"sort_aff_lvl",label:this.label("searchedAffLevel"),options:["0","1","2","3","4","5","6"].map(e),value:o})}
                            <div class="button-group">
                                <input type="button" class="blue_button_L" rel="select-team" value="${this.label("team")}" />
                                <label class="clear_girl_filter"><input type="button" class="red_button_L" value="" rel="clear-filter" /></label>
                            </div>
                        </div>
                    </div>`)},r=()=>{var e=T.lsGet(f.TEAMS_DICTIONARY);if(!e)return ui(`
                    <div style="position:relative">
                        <div class="team-selection" style="display: none;">
                            <span class="close-team-selection" />
                            ${this.label("visitTeams")}
                        </div>
                    </div>`);const{teamIds:t,teamsDict:a}=e;return ui(`
                <div style="position:relative">
                    <div class="team-selection" style="display: none;">
                        <span class="close-team-selection" />
                        <div class="teams-grid-container rarity-background">
                            ${t.map(e=>a[e]).map(e=>`
                                <div class="team-slot-container ${e.iconRarity}" data-id-team="${e.teamId}" data-girl-ids='${JSON.stringify(e.girls)}'>
                                    <img src="${e.icon}" />
                                    ${e.themeIcons?`
                                        <div class="theme-icons">
                                            ${e.themeIcons.map(e=>`<img class="theme-icon" src="${e}"/>`).join("")}
                                        </div>
                                    `:""}
                                </div>
                            `).join("")}
                        </div>
                    </div>
                </div>
                `)};function c(e,c){const{carac:t,rarity:a,element:i,affCategory:s,affLvl:n,name:r,range:o,team:d}=v();let p=t,u=a,h=i,m=s,g=n;var l=r;let f=o.split("-");const b=new RegExp(l,"i");$(),e.forEach((e,t)=>{if(c&&c===e.id)_.before(x[t]);else if(d)d.includes(e.id)?_.before(x[t]):x[t].detach();else{const l=ui(e.graded2);var a=`${l.length}`,i=`${l.filter("g:not(.grey):not(.green)").length}`,s=e.class===p||"all"===p,n=e.element_data.type===h||"all"===h,r=e.rarity===u||"all"===u,o=a===m||"all"===m,a=i===g||"all"===g,i=-1<e.name.search(b),e=(!f[0]||e.level>=parseInt(f[0]))&&(!f[1]||e.level<=parseInt(f[1]));s&&n&&r&&i&&e&&o&&a?_.before(x[t]):x[t].detach()}}),w=y.children(".girl-ico").length,k.text(w),S(1,!0,!1)}var e,t=Array.from(x,e=>({id:ui(e).attr("id_girl"),...ui(e).data("new-girl-tooltip")}));!function(e,o){let l=n(),t=r(),a=ui('<label class="girl_filter"><input type="button" class="blue_button_L" value="" /></label>');e.append(a),e.append(l),e.append(t),a.on("click",function(){ui("#arena_filter_box").css("display","block"===ui("#arena_filter_box").css("display")?"none":"block")});let i=()=>{(e=>{e={carac:e.find("#sort_class").val(),rarity:e.find("#sort_rarity").val(),element:e.find("#sort_element").val(),affCategory:e.find("#sort_aff_category").val(),affLvl:e.find("#sort_aff_lvl").val(),name:e.find("#sort_name").val(),range:e.find("#sort_level").val()};d(e)})(l),c(o)};const s=e=>{(e=>{e={...mi,team:e};d(e)})(e);var{carac:t,rarity:a,element:i,name:s,range:n,affCategory:r,affLvl:e}=v();l.find("#sort_class").val(t),l.find("#sort_rarity").val(a),l.find("#sort_element").val(i),l.find("#sort_aff_category").val(r),l.find("#sort_aff_lvl").val(e),l.find("#sort_name").val(s),l.find("#sort_level").val(n),c(o)};["sort_class","sort_element","sort_rarity","sort_aff_category","sort_aff_lvl"].forEach(e=>{l.find(`#${e}`).on("change",i)}),["sort_name","sort_level"].forEach(e=>{l.find(`#${e}`).on("input",i)}),l.find("[rel=select-team]").click(()=>ui(".team-selection").css("display","block"===ui(".team-selection").css("display")?"none":"block")),l.find("[rel=clear-filter]").click(()=>{d(mi);var{carac:e,rarity:t,element:a,name:i,range:s,affCategory:n,affLvl:r}=v();l.find("#sort_class").val(e),l.find("#sort_rarity").val(t),l.find("#sort_element").val(a),l.find("#sort_aff_category").val(n),l.find("#sort_aff_lvl").val(r),l.find("#sort_name").val(i),l.find("#sort_level").val(s),c(o)}),t.find(".team-slot-container").click(function(){s(ui(this).data("girl-ids")),ui(".team-selection").css("display","none")}),t.find(".close-team-selection").click(()=>ui(".team-selection").css("display","none"))}(ui("#girls_list"),t);const a=new URL(window.location.href).searchParams;a.has("girl")?(c(t,e=a.get("girl")),0<(e=ui(`[id_girl=${e}]`).index())&&S(e+1)):c(t)})()};T.defer(()=>{if(ui("#type_item > .selected").length)t();else{const e=new MutationObserver(()=>{ui("#type_item > .selected").length&&(e.disconnect(),t())});e.observe(ui("#type_item")[0],{attributes:!0,attributeFilter:["class"],subtree:!0})}}),this.hasRun=!0}}injectCSSVars(){ue.registerVar("filter-icon",`url('${ii}')`),ue.registerVar("cross-icon",`url('${T.getCDNHost()}/clubs/ic_xCross.png')`)}};var fi=nl(759),bi={};fi.Z&&fi.Z.locals&&(bi.locals=fi.Z.locals);var vi,yi=0,_i={};_i.styleTagTransform=be(),_i.setAttributes=l(),_i.insert=ve().bind(null,"head"),_i.domAPI=fe(),_i.insertStyleElement=he(),bi.use=function(e){return _i.options=e||{},yi++||(vi=me()(fi.Z,_i)),bi},bi.unuse=function(){0<yi&&!--yi&&(vi(),vi=null)};const xi=bi,wi=T["$"],ki="marketEquipsFilter",$i=()=>T.lsGet(f.EQUIP_FAVORITES)||[],Si=e=>T.lsSet(f.EQUIP_FAVORITES,e),Ti="all",Ci=new class{get subtype(){return[{value:"1",icon:"pictures/items/ET1.png"},{value:"2",icon:"pictures/items/EH1.png"},{value:"3",icon:"pictures/items/EB1.png"},{value:"4",icon:"pictures/items/ES1.png"},{value:"5",icon:"pictures/items/EF1.png"},{value:"6",icon:"pictures/items/EA1.png"}]}get rarity(){return[{value:"common",bgColor:"#8d8e9f"},{value:"rare",bgColor:"#23b56b"},{value:"epic",bgColor:"#ffb244"},{value:"legendary",bgColor:"#9150bf",bgImage:`url(${T.getCDNHost()}/legendary.png)`}]}get stats(){return[{value:"rainbow",icon:"pictures/misc/items_icons/16.svg"},{value:"hc",icon:"pictures/misc/items_icons/1.png"},{value:"ch",icon:"pictures/misc/items_icons/2.png"},{value:"kh",icon:"pictures/misc/items_icons/3.png"}]}get favorites(){return[{value:!0,icon:"design/ic_star_orange.svg"},{value:!1,icon:"design/ic_star_white.svg"}]}},Mi={subtype:{flow:"column",cols:"40px 40px",rows:"1fr 1fr 1fr"},rarity:{flow:"row",cols:"1fr 1fr",rows:"1fr 1fr"},stats:{flow:"row",cols:"1fr 1fr",rows:"1fr 1fr"},favorites:{flow:"row",cols:"1fr auto",rows:"1fr"}},Li={rainbow:["16"],hc:["1","6","7","8","9"],ch:["2","6","10","11","12"],kh:["3","7","10","13","14"]},Ei=({id:n,options:e,gridConfig:t})=>`
    <div class="grid-selector" rel="${n}">
        <div class="clear-selector">
            <input type="radio" name="${n}" id="${n}-all" value="all" checked="checked" />
            <label for="${n}-all">
                <img src="${T.getCDNHost()}/caracs/no_class.png" />
            </label>
        </div>
        <div class="selector-options" style="grid-auto-flow:${t.flow}; grid-template-rows:${t.rows}; grid-template-columns:${t.cols}">
    ${e.map(e=>{var{value:t,icon:a,bgColor:i,bgImage:s}=e;return[{id:e,value:t,icon:a,bgColor:i,bgImage:s}]=[{id:n,value:t,icon:a,bgColor:i,bgImage:s}],`
    <input type="radio" name=${e} id="${e}-${t}" value="${t}"/>
    <label for="${e}-${t}">
        ${a?`<img src="${T.getCDNHost()}/${a}">`:""}
        ${i||s?`<div style="${i?`background-color:${i};`:""}${s?`background-image:${s};background-size:contain;`:""}"></div>`:""}
    </label>
`}).join("")}
        </div>
    </div>
`;const Ii=class extends B{constructor(){super({baseKey:ki,label:Da.getModuleLabel("config",ki),default:!0}),this.label=Da.getModuleLabel.bind(this,ki),this.currentFilter={subtype:Ti,rarity:Ti,stats:Ti,favorites:Ti}}shouldRun(){return T.isCurrentPage("shop")}applyFilter(){const _=$i(),e=wi("#inventory .armor .slot:not(.empty)");let x=0;e.each((e,t)=>{const a=wi(t);var i,s,n,r,o,l,c,d=a.data("d"),{name_add:p,rarity:u,subtype:h}=d,c=([{identifier:i,id_equip:s,level:n,carac1_equip:r,carac2_equip:o,carac3_equip:l,endurance_equip:c,chance_equip:m,subtype:d}]=[d],[i,d,s,n,r,o,l,c,m].join("_")),m=_.includes(c);let g=a.find(".favorite-toggle");g.length?g.off("click"):(g=this.$favoriteToggle.clone().attr("data-equip-key",c),a.prepend(g)),g.click(this.favoriteToggleCallback),g.attr("data-is-favorite",m);const f=this.currentFilter.subtype===Ti||this.currentFilter.subtype===h,b=this.currentFilter.rarity===Ti||this.currentFilter.rarity===u,v=this.currentFilter.stats===Ti||Li[this.currentFilter.stats].includes(p),y=this.currentFilter.favorites===Ti||JSON.parse(this.currentFilter.favorites)===m;[f,b,v,y].every(e=>e)?(wi(t).removeClass("filtered_out"),x++):wi(t).addClass("filtered_out")});const t=wi("#inventory .armor .inventory_slots > div:first-child()");if(x<12){let e=12-t.find(".slot:visible()").length;for(;0<e;)t.find(".slot").last().after('<div class="slot empty"></div>'),e--}t.getNiceScroll().resize()}checkSelection(){const a=wi("#inventory .armor .inventory_slots .selected");if(a.length)if(a.is(":visible"))JSON.parse(a.find(".favorite-toggle").attr("data-is-favorite"))&&wi("#shops #inventory button[rel=sell]").prop("disabled",!0);else{const s=wi("#inventory .armor .inventory_slots > div:first-child()");var i=a.index();let e,t;e=s.find(`.slot:gt(${i}):not(.empty):visible()`),e.length&&(t=e[0]),t||(e=s.find(`.slot:lt(${i}):not(.empty):visible()`),e.length&&(t=e[e.length-1])),t?wi(t).click():wi("#shops #inventory button[rel=sell], #shops #inventory button[rel=use]").prop("disabled",!0)}}run(){if(!this.hasRun&&this.shouldRun()){xi.use(),wi(document).on("market:equips-updated",()=>{this.applyFilter()});const t=()=>{const e=wi('<label class="equip_filter"><input type="button" class="blue_button_L" value="" /></label>'),t=wi(`
            <div style="position:relative">
                <div class="equip_filter_box form-wrapper" style="display: none;">
                    ${["subtype","rarity","stats","favorites"].map(e=>Ei({id:e,options:Ci[e],gridConfig:Mi[e]})).join("")}
                </div>
            </div>`),a=t.find(".equip_filter_box"),i=wi("#inventory .armor");i.append(e).append(t),e.click(()=>a.toggle()),t.find("input").each((e,t)=>{wi(t).change(e=>{var{value:t,name:e}=e.target;this.currentFilter[e]=t,this.applyFilter(),this.checkSelection()})})};this.$favoriteToggle=wi('<div class="favorite-toggle"></div>'),this.favoriteToggleCallback=e=>{const t=wi(e.target);e=`${t.data("equip-key")}`;(JSON.parse(t.attr("data-is-favorite"))?e=>{const t=$i();e=t.indexOf(e);e<0||(t.splice(e,1),Si(t))}:e=>{const t=$i();t.includes(e)||(t.push(e),Si(t))})(e),this.applyFilter()},T.defer(()=>{this.injectCSSVars(),t(),this.applyFilter();const e=new MutationObserver(()=>this.checkSelection());e.observe(wi("#inventory .armor .inventory_slots > div:first-child()")[0],{subtree:!0,attributes:!0,attributeFilter:["class"]})}),this.hasRun=!0}}injectCSSVars(){ue.registerVar("filter-icon",`url('${ii}')`),ue.registerVar("star-icon-white",`url('${T.getCDNHost()}/design/ic_star_white.svg')`),ue.registerVar("star-icon-orange",`url('${T.getCDNHost()}/design/ic_star_orange.svg')`)}},Ai={starting:1,common:1,rare:1.2,epic:1.4,legendary:1.6,mythic:4};const Ri=new class{constructor(){this.cache={}}getCachedForRarity(e){var a;return this.cache[e]||(this.cache[e]=(a=Ai[e],Array((window.GIRL_MAX_LEVEL||HH_MAX_LEVEL)-1).fill().map((e,t)=>Math.ceil(10*a*Math.pow(1.0075,t))).reduce((e,t,a)=>(e.push(t+(0===a?0:e[e.length-1])),e),[]))),this.cache[e]}get starting(){return this.getCachedForRarity("starting")}get common(){return this.getCachedForRarity("common")}get rare(){return this.getCachedForRarity("rare")}get epic(){return this.getCachedForRarity("epic")}get legendary(){return this.getCachedForRarity("legendary")}get mythic(){return this.getCachedForRarity("mythic")}};var Pi=nl(334),Di={};Pi.Z&&Pi.Z.locals&&(Di.locals=Pi.Z.locals);var Ni,Gi=0,Hi={};Hi.styleTagTransform=be(),Hi.setAttributes=l(),Hi.insert=ve().bind(null,"head"),Hi.domAPI=fe(),Hi.insertStyleElement=he(),Di.use=function(e){return Hi.options=e||{},Gi++||(Ni=me()(Pi.Z,Hi)),Di},Di.unuse=function(){0<Gi&&!--Gi&&(Ni(),Ni=null)};const ji=Di,Oi="marketXPAff";const Bi=class extends B{constructor(){super({baseKey:Oi,label:Da.getModuleLabel("config",Oi),default:!0}),this.label=Da.getModuleLabel.bind(this,Oi)}shouldRun(){return T.isCurrentPage("shop")}run(){if(!this.hasRun&&this.shouldRun()){ji.use();const t=e=>{var t=e.data("new-girl-tooltip"),a=e.data("g");if(t&&a){var i=t["rarity"],{Xp:s,level_cap:t}=a,a=t||Hero.infos.level,{cur:t,max:s}=s,a=Ri[i][a-2]-t,s=s-t;const n=e.find('.bar-wrap[rel="xp"]');n.attr("hh_title","XP: "+Da.nThousand(t)),0<a&&n.find(".over").text(this.label("xp",{remainNext:Da.nThousand(s),remainMax:Da.nThousand(a)}))}},a=e=>{var t,a=e.data("g");a&&({Affection:{max:t,cur:a}}=a,a=t-a,e.find('.bar-wrap[rel="aff"] .over span').text(this.label("aff",{remainNext:Da.nThousand(a)})))},s=()=>{var e=$("div.girl-ico:not(.not-selected)");t(e),a(e)};T.defer(()=>{s(),$("#type_item > [type=potion], #type_item > [type=gift]").click(s),$(".g1 > [nav=left], .g1 > [nav=right]").click(s),$(document).on("market:selected-girl-changed",s);const i={potion:t,gift:a};let e=document.querySelector("#inventory button[rel=use]");e.addEventListener("click",function(){const e=$("div.girl-ico:not(.not-selected)");var t=$("#type_item > .selected").attr("type");const a=i[t];a&&(setTimeout(function(){a(e)},500),setTimeout(function(){a(e)},3e3))})}),this.hasRun=!0}}};var zi=nl(829),Fi={};zi.Z&&zi.Z.locals&&(Fi.locals=zi.Z.locals);var Ui,Zi=0,qi={};qi.styleTagTransform=be(),qi.setAttributes=l(),qi.insert=ve().bind(null,"head"),qi.domAPI=fe(),qi.insertStyleElement=he(),Fi.use=function(e){return qi.options=e||{},Zi++||(Ui=me()(zi.Z,qi)),Fi},Fi.unuse=function(){0<Zi&&!--Zi&&(Ui(),Ui=null)};const Vi=Fi,Wi=T["$"],Ki="marketHideSellButton";const Yi=class extends B{constructor(){super({baseKey:Ki,label:Da.getModuleLabel("config",Ki),default:!0}),this.label=Da.getModuleLabel.bind(this,Ki)}shouldRun(){return T.isCurrentPage("shop")}getSellButton(){return this.$sellButton||(this.$sellButton=Wi('#shops #inventory button[rel="sell"]')),this.$sellButton}hideButton(){T.lsSet(f.SELL_BUTTON_HIDDEN,!0),this.getSellButton().addClass("hidden")}unhideButton(){T.lsSet(f.SELL_BUTTON_HIDDEN,!1),this.getSellButton().removeClass("hidden")}isButtonHidden(){return T.lsGet(f.SELL_BUTTON_HIDDEN)}run(){!this.hasRun&&this.shouldRun()&&(Vi.use(),T.defer(()=>{var e=this.isButtonHidden();this.$toggleField=Wi(`
                <label class="hide-sell-toggle">
                    <input type="checkbox" name="hideSellToggle" ${e?'checked="checked"':""} />
                    <span>${this.label("hide")}</span>
                </label>
            `).change(e=>{Wi(e.target).prop("checked")?this.hideButton():this.unhideButton()}),e&&this.hideButton(),Wi("#shops_right #inventory").append(this.$toggleField)}),this.hasRun=!0)}};class Xi{constructor({aff:e,sc:t,hc:a}){this.aff=e,this.sc=t,this.hc=a}}class Ji{constructor(e){this.steps=e,this.totalAffCache={},this.totalSCCache={},this.totalHCCache={}}totalAff(e){if(e>this.steps.length)throw new Error(`bad data for stage ${e}`);return this.totalAffCache[e]||(this.totalAffCache[e]=this.steps.slice(0,e).reduce((e,t)=>e+t.aff,0)),this.totalAffCache[e]}totalSC(e){if(e>this.steps.length)throw new Error(`bad data for stage ${e}`);return this.totalSCCache[e]||(this.totalSCCache[e]=this.steps.slice(0,e).reduce((e,t)=>e+t.sc,0)),this.totalSCCache[e]}totalHC(e){if(e>this.steps.length)throw new Error(`bad data for stage ${e}`);return this.totalHCCache[e]||(this.totalHCCache[e]=this.steps.slice(0,e).reduce((e,t)=>e+t.hc,0)),this.totalHCCache[e]}}const Qi={starting:new Ji([new Xi({aff:90,sc:36e3,hc:36}),new Xi({aff:225,sc:9e4,hc:60}),new Xi({aff:563,sc:225e3,hc:114}),new Xi({aff:1125,sc:45e4,hc:180}),new Xi({aff:2250,sc:9e5,hc:300})]),common:new Ji([new Xi({aff:180,sc:72e3,hc:72}),new Xi({aff:450,sc:18e4,hc:120}),new Xi({aff:1125,sc:45e4,hc:228}),new Xi({aff:2250,sc:9e5,hc:360}),new Xi({aff:4500,sc:18e5,hc:600})]),rare:new Ji([new Xi({aff:540,sc:216e3,hc:216}),new Xi({aff:1350,sc:54e4,hc:360}),new Xi({aff:3375,sc:135e4,hc:678}),new Xi({aff:6750,sc:27e5,hc:1080}),new Xi({aff:13500,sc:54e5,hc:1800})]),epic:new Ji([new Xi({aff:1260,sc:504e3,hc:504}),new Xi({aff:3150,sc:126e4,hc:840}),new Xi({aff:7875,sc:315e4,hc:1578}),new Xi({aff:15750,sc:63e5,hc:2520}),new Xi({aff:31500,sc:126e5,hc:4200})]),legendary:new Ji([new Xi({aff:1800,sc:72e4,hc:720}),new Xi({aff:4500,sc:18e5,hc:1200}),new Xi({aff:11250,sc:45e5,hc:2250}),new Xi({aff:22500,sc:9e6,hc:3600}),new Xi({aff:45e3,sc:18e6,hc:6e3})]),mythic:new Ji([new Xi({aff:4500,sc:18e5,hc:1800}),new Xi({aff:11250,sc:45e5,hc:3e3}),new Xi({aff:28125,sc:1125e4,hc:5628}),new Xi({aff:56250,sc:225e5,hc:9e3}),new Xi({aff:112500,sc:45e6,hc:15e3}),new Xi({aff:225e3,sc:9e7,hc:18e3})])};var es=nl(31),ts={};es.Z&&es.Z.locals&&(ts.locals=es.Z.locals);var as,is=0,ss={};ss.styleTagTransform=be(),ss.setAttributes=l(),ss.insert=ve().bind(null,"head"),ss.domAPI=fe(),ss.insertStyleElement=he(),ts.use=function(e){return ss.options=e||{},is++||(as=me()(es.Z,ss)),ts},ts.unuse=function(){0<is&&!--is&&(as(),as=null)};const ns=ts,rs=T["$"],os="harem",ls=["starting","common","rare","epic","legendary","mythic"],cs={starting:1,common:1,rare:2,epic:3,legendary:4,mythic:5};const ds=class extends B{constructor(){super({baseKey:os,label:Da.getModuleLabel("config",os),default:!0}),this.label=Da.getModuleLabel.bind(this,os),this.aggregates={girls:0,scPerHour:0,scCollectAll:0,unlockedScenes:0,totalScenes:0,rarities:ls.reduce((e,t)=>(e[t]=0,e),{}),caracs:{1:0,2:0,3:0},elements:si.reduce((e,t)=>(e[t]=0,e),{}),xpToCap:0,xpToMax:0,gems:si.reduce((e,t)=>(e[t]=0,e),{}),aff:0,affSC:0,affHC:0}}shouldRun(){return T.isCurrentPage("harem")&&!T.isCurrentPage("hero")}aggregateStats(){Object.entries(girlsDataList).forEach(([,a])=>{if(a.own){var{salary:e,salary_per_hour:t,rarity:i,class:s,element:n,graded:r,nb_grades:o,level_cap:l,awakening_level:c}=a,o=parseInt(o,10),c=parseInt(c,10);if(this.aggregates.scCollectAll+=e,this.aggregates.rarities[i]++,this.aggregates.caracs[s]++,this.aggregates.elements[n]++,this.aggregates.girls++,this.aggregates.scPerHour+=Math.round(t),this.aggregates.unlockedScenes+=r,this.aggregates.totalScenes+=o,r<o){this.aggregates.aff+=Math.max(Qi[i].totalAff(o)-a.Affection.cur,0);let e=0,t=0;0<a.graded&&(e=Qi[i].totalSC(a.graded),t=Qi[i].totalHC(a.graded)),this.aggregates.affSC+=Qi[i].totalSC(o)-e;o=Qi[i].totalHC(o)-t;this.aggregates.affHC+=T.isNutakuKobans()?Math.ceil(o/6):o}this.aggregates.xpToMax+=Math.max(Ri[i][GIRL_MAX_LEVEL-2]-a.Xp.cur,0),this.aggregates.xpToCap+=Math.max(Ri[i][l-2]-a.Xp.cur,0),this.aggregates.gems[n]+=((e,a)=>{let t=0;return e<awakening_requirements.length&&(t=awakening_requirements.slice(e).reduce((e,{cost:t})=>e+=t*cs[a],0)),t})(c,i)}})}buildStatsDisplay(){return rs(`
            <div class="harem-info-panel">
                ${this.buildGeneralSummary()}
                ${this.buildUpgradeSummary()}
                ${this.buildMarketSummary()}
            </div>
        `)}buildGeneralSummary(){return`
            <div class="summary-block general-summary">
                <h1>${this.label("haremStats")}</h1>
                <div>${this.aggregates.girls} <span class="clubGirl_mix_icn"></span></div>
                <ul class="summary-grid caracs-summary">
                    ${Object.entries(this.aggregates.caracs).map(([e,t])=>`<li><span hh_title="${GT.caracs[e]}"><span carac="${e}"></span><span>${Da.nThousand(t)}</span></span></li>`).join("")}
                </ul>
                <ul class="summary-grid elements-summary">
                    ${Object.entries(this.aggregates.elements).map(([e,t])=>`<li><span hh_title="${GT.design[`${e}_flavor_element`]}"><span class="${e}_element_icn"></span><span>${Da.nThousand(t)}</span></span></li>`).join("")}
                </ul>
                <ul class="summary-grid rarity-summary">
                    ${Object.entries(this.aggregates.rarities).map(([e,t])=>`<li><span hh_title="${GT.design[`girls_rarity_${e}`]}"><span class="rarity-icon slot ${e}"><span class="initial">${GT.design[`girls_rarity_${e}`][0].normalize("NFD").replace(/[\u0300-\u036f]/g,"")}</span></span><span>${Da.nThousand(t)}</span></span></li>`).join("")}
                </ul>
                <ul class="summary-grid xp-aff-summary">
                    <li>
                        <span hh_title="${this.label("haremLevel")}">
                            <span class="xp-aff-label">${GT.design.Lvl}</span>
                            <span>${Da.nThousand(Hero.infos.harem_level)}<br>/ ${Da.nThousand(GIRL_MAX_LEVEL*this.aggregates.girls)}</span>
                        </span>
                    </li>
                    <li>
                        <span hh_title="${this.label("unlockedScenes")}">
                            <span class="xp-aff-label unlocked-scenes-icon" style="background-image:url(${T.getCDNHost()}/design_v2/affstar.png);"></span>
                            <span>${Da.nThousand(this.aggregates.unlockedScenes)}<br>/ ${Da.nThousand(this.aggregates.totalScenes)}</span>
                        </span>
                    </li>
                </ul>
                <ul class="summary-grid salary-summary">
                    <li>
                        <span hh_title="${this.label("income")}">
                            <span class="salary-label" cur="soft_currency"></span>
                            <span>${Da.nThousand(this.aggregates.scPerHour)} / ${GT.time.h}<br>${Da.nThousand(this.aggregates.scCollectAll)} / ${GT.design.harem_collect}</span>
                        </span>
                    </li>
                </ul>
            </div>
        `}buildUpgradeSummary(){return`
            <div class="summary-block upgrade-summary">
                <h1>${this.label("upgrades")}</h1>
                <span>${this.label("toUpgrade")}</span>
                <ul class="summary-grid upgrade-costs">
                    <li>
                        <span hh_title="${GT.design.Affection}">
                            <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design/ic_gifts_gray.svg)"></span>
                            <span class="cost-value">${Da.nThousand(this.aggregates.aff)} ${GT.design.Aff}<br>(<span cur="soft_currency"> ${Da.nThousand(417*this.aggregates.aff)}</span>)</span>
                        </span>
                    </li>
                    <li>
                        <span hh_title="${this.label("affectionScenes")}">
                            <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design_v2/affstar.png)"></span>
                            <span class="cost-value">${this.label("or",{left:`<span cur="soft_currency"> ${Da.nThousand(this.aggregates.affSC)}</span><br>`,right:`<span cur="hard_currency"> ${Da.nThousand(this.aggregates.affHC)}</span>`})}</span>
                        </span>
                    </li>
                </ul>
                <h1>${this.label("levelsAwakening")}</h1>
                <span>${this.label("toLevelCap")}</span>
                <ul class="summary-grid upgrade-costs">
                    <li>
                        <span hh_title="${GT.design.Experience}">
                            <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design/ic_books_gray.svg)"></span>
                            <span class="cost-value">${Da.nThousand(this.aggregates.xpToCap)} ${GT.design.XP}<br>(<span cur="soft_currency"> ${Da.nThousand(200*this.aggregates.xpToCap)}</span>)</span>
                        </span>
                    </li>
                </ul>
                <span class="to-max-label">${this.label("toLevelMax",{max:GIRL_MAX_LEVEL})}</span>
                <div class="to-max-combi">
                    <ul class="summary-grid upgrade-costs">
                        <li>
                            <span hh_title="${GT.design.Experience}">
                                <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design/ic_books_gray.svg)"></span>
                                <span class="cost-value">${Da.nThousand(this.aggregates.xpToMax)} ${GT.design.XP}<br>(<span cur="soft_currency"> ${Da.nThousand(200*this.aggregates.xpToMax)}</span>)</span>
                            </span>
                        </li>
                    </ul>
                    <ul class="summary-grid gems-summary">
                        ${Object.entries(this.aggregates.gems).map(([e,t])=>`<li><span hh_title="${GT.design[`${e}_gem`]}"><span class="gem-icon" style="background-image: url(${T.getCDNHost()}/pictures/design/gems/${e}.png)"></span><span>${Da.nThousand(t)}</span></span></li>`).join("")}
                    </ul>
                </div>
            </div>
        `}buildMarketSummary(){var a=T.lsGet(f.MARKET_INFO);let i="";if(a){var{buyableItems:s,sellableItems:n,refreshTime:r,refreshLevel:o}=a;let e="",t="";e=r<server_now_ts||o<Hero.infos.level?`
                    <span>${this.label("buyable")}</span>
                    <p class="market-warning">${this.label("marketRestocked")}</p>
                `:s?({aff:a,xp:s}=s,`
                    <span>${this.label("buyable")}</span>
                    <ul class="summary-grid upgrade-costs">
                        <li>
                            <span hh_title="${this.label("books")}">
                                <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design/ic_books_gray.svg)"></span>
                                <span class="cost-value">
                                    ${this.label("canBeBought",{item:`${Da.nThousand(s.sc.value)} ${GT.design.XP} (${s.sc.count})`,amount:`<span cur="soft_currency"> ${Da.nThousand(s.sc.cost)}</span>`})}<br>
                                    ${this.label("canBeBought",{item:`${Da.nThousand(s.hc.value)} ${GT.design.XP} (${s.hc.count})`,amount:`<span cur="hard_currency"> ${Da.nThousand(s.hc.cost)}</span>`})}
                                </span>
                            </span>
                        </li>
                        <li>
                            <span hh_title="${this.label("gifts")}">
                                <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design/ic_gifts_gray.svg)"></span>
                                <span class="cost-value">
                                    ${this.label("canBeBought",{item:`${Da.nThousand(a.sc.value)} ${GT.design.Aff} (${a.sc.count})`,amount:`<span cur="soft_currency"> ${Da.nThousand(a.sc.cost)}</span>`})}<br>
                                    ${this.label("canBeBought",{item:`${Da.nThousand(a.hc.value)} ${GT.design.Aff} (${a.hc.count})`,amount:`<span cur="hard_currency"> ${Da.nThousand(a.hc.cost)}</span>`})}
                                </span>
                            </span>
                        </li>
                    </ul>
                    <p class="restock-info">
                        ${this.label("marketRestock",{time:new Date(1e3*r).toLocaleString(Da.getLang()),level:o+1})}
                    </p>
                `):`
                    <span>${this.label("buyable")}</span>
                    <p class="market-warning">${this.label("visitMarket")}</p>
                `,t=n?({xp:o,aff:n}=n,`
                    <span>${this.label("sellable")}</span>
                    <ul class="summary-grid upgrade-costs">
                        <li>
                            <span hh_title="${this.label("books")}">
                                <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design/ic_books_gray.svg)"></span>
                                <span class="cost-value">
                                    ${Da.nThousand(o.value)} ${GT.design.XP} (${o.count})<br>
                                    ${this.label("canBeSold",{sc:`<span cur="soft_currency"> ${Da.nThousand(o.cost)}</span>`})}
                                </span>
                            </span>
                        </li>
                        <li>
                            <span hh_title="${this.label("gifts")}">
                                <span class="affection-label" style="background-image:url(${T.getCDNHost()}/design/ic_gifts_gray.svg)"></span>
                                <span class="cost-value">
                                    ${Da.nThousand(n.value)} ${GT.design.Aff} (${n.count})<br>
                                    ${this.label("canBeSold",{sc:`<span cur="soft_currency"> ${Da.nThousand(n.cost)}</span>`})}
                                </span>
                            </span>
                        </li>
                    </ul>
                    <ul class="summary-grid gems-stock">
                        ${si.map(e=>`<li><span hh_title="${GT.design[`${e}_gem`]}"><span class="gem-icon" style="background-image: url(${T.getCDNHost()}/pictures/design/gems/${e}.png)"></span><span>${Da.nThousand(parseInt(player_gems_amount[e].amount),10)}</span></span></li>`).join("")}
                    </ul>
                `):`
                    <span>${this.label("sellable")}</span>
                    <p class="market-warning">${this.label("visitMarket")}</p>
                `,i=t+e}else i=`
                <p class="market-warning">${this.label("visitMarket")}</p>
            `;return`
            <div class="summary-block market-summary">
                <h1>${this.label("market")}</h1>
                ${i}
            </div>
        `}attachToPage(e){const t=rs('<div class="harem-info-panel-toggle clubGirl_mix_icn"></div>'),a=rs('<div class="harem-info-overlay-bg"></div>');rs("#harem_left").append(t).append(e).append(a),t.click(()=>{e.hasClass("visible")?(e.removeClass("visible"),a.removeClass("visible")):(e.addClass("visible"),a.addClass("visible"))}),a.click(()=>{e.removeClass("visible"),a.removeClass("visible")})}attachWikiLink(e,t){if(!T.isCxH()){var a=girlsDataList[e],e=T.getWikiLink(a.name,Da.getLang());if(!a.own){const i=t.find(".WikiLinkDialogbox > a");i.length?i.attr("href",e):t.find(".middle_part.missing_girl .dialog-box").append(`<div class="WikiLinkDialogbox"><a href="${e}" target="_blank">${this.label("wikiPage",{name:a.name})}</a></div>`)}if(a.own){const s=t.find(".WikiLink a");s.length?s.attr("href",e):t.find(".middle_part h3").wrap(`<div class="WikiLink"><a href="${e}" target="_blank"></a></div>`)}}}attachSceneCostsAndStats(e,t){const a=t.find("a.later");if(a.length){const r=girlsDataList[e];a.each((e,t)=>{const a=rs(t);var i=a.index(),s=r["rarity"],n=Qi[s].totalAff(i+1)-r.Affection.cur,{sc:t,hc:s}=Qi[s].steps[i],i=T.isNutakuKobans()?1/6:1,i=`
                <div class="scene-costs-tooltip">
                    ${Da.nThousand(n)} ${GT.design.Aff}<br>
                    ${this.label("or",{left:`<span cur="soft_currency"> ${Da.nThousand(t)}</span><br>`,right:`<span cur="hard_currency"> ${Da.nThousand(Math.ceil(s*i))}</span>`})}
                </div>
            `.replace(/(\n| {4})/g,"");a.attr("hh_title",i)})}}onGirlSelectionChanged(e,t){this.attachWikiLink(e,t),this.attachSceneCostsAndStats(e,t)}run(){!this.hasRun&&this.shouldRun()&&(ns.use(),T.defer(()=>{this.aggregateStats(),this.attachToPage(this.buildStatsDisplay());var e=()=>{const e=rs("#harem_right [girl]");var t;e.length&&(t=e.attr("girl"),this.currentGirlId!==t&&(this.currentGirlId=t,this.onGirlSelectionChanged(t,e)))};new MutationObserver(e).observe(rs("#harem_right")[0],{childList:!0}),e()}),this.hasRun=!0)}};var ps=nl(72),us={};ps.Z&&ps.Z.locals&&(us.locals=ps.Z.locals);var hs,ms=0,gs={};gs.styleTagTransform=be(),gs.setAttributes=l(),gs.insert=ve().bind(null,"head"),gs.domAPI=fe(),gs.insertStyleElement=he(),us.use=function(e){return gs.options=e||{},ms++||(hs=me()(ps.Z,gs)),us},us.unuse=function(){0<ms&&!--ms&&(hs(),hs=null)};const fs=us,bs="league",vs=[4,15,30];const ys=class extends B{constructor(){super({baseKey:bs,label:Da.getModuleLabel("config",bs),default:!0,subSettings:[{key:"board",label:Da.getModuleLabel("config",`${bs}_board`),default:!0},{key:"promo",label:Da.getModuleLabel("config",`${bs}_promo`),default:!0}]}),this.label=Da.getModuleLabel.bind(this,bs),this.aggregates={challengesDone:0,challengesPossible:0,challengesTotal:0,playersTotal:0,levelRange:{min:0,max:0,median:0},playerRank:0,playerScore:0,tops:{},demotions:{},demoteThreshold:0,avg:0,scoreExpected:0},this.possibleChallengesTooltip=""}shouldRun(){return T.isCurrentPage("tower-of-fame")}run({board:e,promo:t}){!this.hasRun&&this.shouldRun()&&(fs.use(),T.defer(()=>{this.injectCSSVars(),this.aggregateData(),this.displaySummary({board:e,promo:t}),this.manageHideFoughtOpponents(),this.manageTableAnnotations()}),this.hasRun=!0)}injectCSSVars(){ue.registerVar("legendary-bg",`url("${T.getCDNHost()}/legendary.png")`)}aggregateData(){const{leagues_list:e,season_end_at:t,Hero:a}=window;var i=e.length;this.aggregates.playersTotal=i;const r={},o=i-14,l=i-15;this.aggregates.demoteThreshold=o;const c=[...vs,...vs.map(e=>e+1)],d=[];e.forEach(({nb_challenges_played:e,level:t,place:a,class:i,html:s})=>{const n=$(s.replace(/[\n\t]/g,""));d.push(parseInt(t,10));t=Da.parseLocaleRoundedInt(n.eq(4).text());r[a]=t,c.includes(a)&&(this.aggregates.tops[a]=t),o===a?this.aggregates.demotions.demote=t:l===a&&(this.aggregates.demotions.nonDemote=t),i&&i.includes("personal_highlight")?(this.aggregates.playerRank=a,this.aggregates.playerScore=t):this.aggregates.challengesDone+=parseInt(e,10)});var s=parseInt(Math.floor(t/60),10),n=a.energies.challenge.amount!==a.energies.challenge.max_amount?Math.floor((s+(35-a.energies.challenge.next_refresh_ts/60))/35)+parseInt(a.energies.challenge.amount,10):Math.floor(s/35)+parseInt(a.energies.challenge.amount,10);this.aggregates.challengesPossible=n,d.sort((e,t)=>e-t);var p=Math.floor(d.length/2);this.aggregates.levelRange={min:Math.min(...d),max:Math.max(...d),median:d.length%2?d[p]:(d[p-1]+d[p])/2};var{challengesDone:u,playerScore:s}=this.aggregates,n=3*(i-1);this.aggregates.challengesTotal=n;var p=0!==u?s/u:0,i=Math.round(100*p)/100,u=Math.floor(p*n),p={points:s,avg:i},n=(T.lsGet(f.LEAGUE_SCORE)||{points:0,avg:0})["points"];n<s&&T.lsSet(f.LEAGUE_SCORE,p),this.aggregates.avg=i,this.aggregates.scoreExpected=u}displaySummary({board:i,promo:s}){const{challengesDone:e,challengesPossible:t,challengesTotal:a,playerScore:n,playerRank:r,tops:o,demotions:l,demoteThreshold:c,avg:d,scoreExpected:p}=this.aggregates;let u="",h="";if(i&&(u=vs.map(e=>{var{diff:t,score:a,symbol:i,labelKey:s}=((e,t,a,i,s)=>{let n="",r,o,l;return l=e<=a?(o=s,r=t-s,r&&(n="-"),"stayInTop"):(o=i+1,r=o-t,n="+","notInTop"),{symbol:n,diff:r,score:o,labelKey:l}})(r,n,e,o[e],o[e+1]);return`<span class="minTop${e}" hh_title="${this.label(s,{points:Da.nThousand(a),top:e})}"><span class="scriptLeagueInfoIcon top${e}" />${i}${Da.nThousand(t)}</span>`}).join("")),s){var m=window["league_tag"],{demote:g,nonDemote:f}=l,i=1<m,s=m<9,b=0===n,m=r<=15,g=i&&(b||n<=g);let e,t,a;i&&(g?b?(e=this.label("willDemoteZero"),t=this.label("toNotDemote")):e=this.label("willDemote",{points:f}):e=this.label("toDemote",{players:c-r})),s&&(m?b||(a=this.label("toStay",{players:16-r})):a=this.label("willStay",{points:o[15]}));b=[a,t,e].filter(e=>e).map(e=>`<p>${e}</p>`).join("");h=`
                <span class="promotionInfo" hh_title="${b}">
                    <img src="${T.getCDNHost()}/leagues/ic_rankup.png" style="height: 15px; width: 12px; margin-left: 6px; margin-bottom: 0px;">
                </span>
            `}b=a-e;this.possibleChallengesTooltip=`${this.label("challengesRegen",{challenges:t})}<br/>${this.label("challengesLeft",{challenges:b})}`;b=`
            <div class="scriptLeagueInfo">
                <span class="averageScore" hh_title="${this.label("averageScore",{average:Da.nThousand(d)})}<br/>${this.label("scoreExpected",{score:Da.nThousand(p)})}"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOG1tIiBoZWlnaHQ9IjhtbSIgdmlld0JveD0iMCAwIDggOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxnIGFyaWEtbGFiZWw9IngiIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4yNzI1MTE7ZmlsbDojZmZmIj48cGF0aCBkPSJNIDcuMDM5NTA1OCw3LjUyNzEyNjggSCA0LjQyMzQwOTcgViA2Ljk2MDMwNiBIIDUuMTQyODM2MiBMIDMuOTExMDkwOSw1LjI3MDc0NCAyLjY3OTM0NTcsNi45NjAzMDYgSCAzLjQwOTY3MjUgViA3LjUyNzEyNjggSCAxLjI2MjI5MzcgViA2Ljk2MDMwNiBIIDIuMDE0NDIxMyBMIDMuNTczMTc4NSw0LjgxMjkyNzEgMS44NTA5MTUzLDIuNDM2NjM5OSBIIDEuMTUzMjg5NyBWIDEuODY5ODE5MSBIIDMuNjgyMTgyNSBWIDIuNDM2NjM5OSBIIDMuMDA2MzU3NyBsIDEuMTg4MTQzNiwxLjYzNTA2IDEuMTg4MTQzNywtMS42MzUwNiBIIDQuNjE5NjE3IFYgMS44Njk4MTkxIGggMi4xODAwOCBWIDIuNDM2NjM5OSBIIDYuMDQ3NTY5NCBMIDQuNTMyNDEzOCw0LjUyOTUxNjcgNi4yOTgyNzg2LDYuOTYwMzA2IGggMC43NDEyMjcyIHoiLz48L2c+PHBhdGggc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6MC41MDM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgZD0ibSAxLjE1OTc0NTIsMC44MDk3MjA5NCBoIDUuNjQ3Ii8+PC9nPjwvc3ZnPgo=" style="height: 15px; width: 16px; margin-left: 2px; margin-bottom: 0px;">${Da.nThousand(d)}</span>
                <span class="possibleChallenges" hh_title="${this.possibleChallengesTooltip}"><img src="${T.getCDNHost()}/league_points.png" style="height: 15px; width: 16px; margin-left: 6px; margin-bottom: 0px;">${t}/${b}</span>
                ${u}
                ${h}
            </div>
        `;$("div.league_end_in").append(b)}manageHideFoughtOpponents(){function e(){let e=document.getElementsByClassName("leadTable")[0];if(e){let t=e.getElementsByTagName("tr");for(let e=0;e<t.length;e++)try{const a=$(t[e]).attr("sorting_id");"3"===leagues_list.find(({id_player:e})=>e===a).nb_challenges_played&&(t[e].style.display="none")}catch(e){}}}let t=T.lsGet(f.FOUGHT_OPPONENTS_HIDDEN);$(".league_end_in").append('<button id="beaten_opponents" class=""><span id="hide_beaten"></span></button>');const a=()=>{var e=this.label("showFoughtOpponents");$("#hide_beaten").html(`<img alt="${e}" hh_title="${e}" src="${T.getCDNHost()}/quest/ic_eyeopen.svg">`)},i=()=>{var e=this.label("hideFoughtOpponents");$("#hide_beaten").html(`<img alt="${e}" hh_title="${e}" src="${T.getCDNHost()}/quest/ic_eyeclosed.svg">`)};t?(e(),a()):i();let s=document.querySelector("#beaten_opponents");var n;s.addEventListener("click",function(){t?(function(){const e=document.getElementsByClassName("leadTable")[0];if(e){const t=e.getElementsByTagName("tr");for(let e=0;e<t.length;e++)try{const a=$(t[e]).attr("sorting_id");"3"===leagues_list.find(({id_player:e})=>e===a).nb_challenges_played&&(t[e].style.display="")}catch(e){}}}(),i()):(e(),a()),t=!t,T.lsSet(f.FOUGHT_OPPONENTS_HIDDEN,t)});for(n of document.querySelectorAll("span[sort_by]"))n.addEventListener("click",function(){t&&e(),$(document).trigger("league:table-sorted")})}manageTableAnnotations(){const t=()=>{var e=playerLeaguesData.id_fighter;let a;try{a=T.lsGet(f.LEAGUE_POINT_HISTORY)[e].points}catch(e){a=[]}for(let t=0;t<3;t++){let e=$(".result")[t];""!==e.innerText&&(e.innerText=a[t]||"?")}var s=T.lsGet(f.LEAGUE_RESULTS)||{};const n=T.lsGet(f.LEAGUE_POINT_HISTORY)||{};let r=!1;for(let t=0;t<this.aggregates.playersTotal;t++){let a=$(".leagues_table .lead_table_view tbody.leadTable tr:nth-child("+(t+1)+")"),i=a.attr("sorting_id"),e=s[i];if(e&&(0===a.find(".classLeague").length&&a.find(".square-avatar-wrapper").append($('<div class="classLeague"></div>')),e.themeIcons)){const l=a.find(".classLeague");l.empty(),e.themeIcons.forEach(e=>{l.append(`<img class="theme-icon" src="${e}"/>`)})}if(!a.hasClass("personal_highlight")){let t;const c=leagues_list.find(({id_player:e})=>e===i);try{t=n[i].points,"3"===c.nb_challenges_played&&3<t.length&&(t=function(a){console.log("resolving scores",a);const i={4:[0,1,3],5:[0,3,4],6:[3,4,5]};var e=a.filter((e,t)=>i[a.length].includes(t));return console.log("resolved to:",e),e}(t),n[i].points=t,r=!0)}catch{t=[]}let e="";var o="1"===T.lsGetRaw(f.TABLE_SHOW_INDIVIDUAL);e=o?[0,1,2].map(e=>e<parseInt(c.nb_challenges_played)?t[e]||"?":"-").join("/"):`${c.nb_challenges_played}/3`,a.hasClass("selected-player-leagues")||(a[0].children[3].innerText=e)}}r&&T.lsSet(f.LEAGUE_POINT_HISTORY,n)},l=()=>{var e,t=T.lsGet(f.LEAGUE_RESULTS)||{},a=$("#leagues_middle .leadTable tr").length,i=a-1;T.lsSet(f.LEAGUE_PLAYERS,i);let s=0;for(let e=0;e<a;e++)s+=parseInt(leagues_list[e].nb_challenges_played);let n=0,r=0;for(e in t)n+=t[e].victories,r+=t[e].defeats;var o=3*i-s,l=s-n-r;T.lsSet(f.LEAGUE_UNKNOWN,l);var{min:c,max:d,median:p}=this.aggregates.levelRange,u=`
                <hr/>
                <span id="leagueStats"><u>${this.label("currentLeague")}</u>
                <table>
                    <tbody>
                        <tr><td>${this.label("victories")} :</td><td><em>${n}</em>/<em>${3*i}</em></td></tr>
                        <tr><td>${this.label("defeats")} :</td><td><em>${r}</em>/<em>${3*i}</em></td></tr>
                        <tr><td>${this.label("unknown")} :</td><td><em>${l}</em>/<em>${3*i}</em></td></tr>
                        <tr><td>${this.label("notPlayed")} :</td><td><em>${o}</em>/<em>${3*i}</em></td></tr>
                        <tr><td>${this.label("levelRange")} :</td><td><em>${c}</em><em>${p}</em><em>${d}</em></td></tr>
                    </tbody>
                </table>
                </span>`,h=T.lsGet(f.LEAGUE_RESULTS_OLD)||{},l=T.lsGet(f.LEAGUE_PLAYERS_OLD)||0,o=T.lsGet(f.LEAGUE_UNKNOWN_OLD)||0,i=T.lsGet(f.LEAGUE_SCORE_OLD)||{},c=T.lsGet(f.LEAGUE_TIME_OLD)||0;let m="";if(0<c){let e=0,t=0;var g,p=i.points||0,d=i.avg||0;for(g in h)e+=h[g].victories,t+=h[g].defeats;i=3*l-e-t-o,o={year:"numeric",month:"short",day:"numeric"},o=new Date(1e3*c).toLocaleDateString(Da.getLang(),o);m=`
                    <hr/>
                    <span id="oldLeagueStats">
                        ${this.label("leagueFinished",{date:`<em>${o}</em>`})}
                        <table>
                            <tbody>
                                <tr><td>${this.label("victories")} :</td><td><em>${e}</em>/<em>${3*l}</em></td></tr>
                                <tr><td>${this.label("defeats")} :</td><td><em>${t}</em>/<em>${3*l}</em></td></tr>
                                <tr><td>${this.label("notPlayed")} :</td><td><em>${i}</em>/<em>${3*l}</em></td></tr>
                                <tr><td>${this.label("opponents")} :</td><td><em>${l}</em></td></tr>
                                <tr><td>${this.label("leaguePoints")} :</td><td><em>${Da.nThousand(p)}</em></td></tr>
                                <tr><td>${this.label("avg")} :</td><td><em>${Da.nThousand(d)}</em></td></tr>
                            </tbody>
                        </table>
                    </span>`}u=`${this.possibleChallengesTooltip}${u}${m}`;$(".possibleChallenges").attr("hh_title",u)},e=()=>{let e=T.lsGet(f.LEAGUE_RESULTS)||{};var t=`${playerLeaguesData.id_fighter}`,a=playerLeaguesData.class;let i=$("#leagues_middle .selected-player-leagues .theme-container img");i.length||(i=$("#leagues_right .team-theme"));var s=i.map((e,t)=>$(t).attr("src")).toArray();let n=window.match_history[t];var r=n.filter(e=>"won"===e).length,o=n.filter(e=>"lost"===e).length;e[t]={victories:r,defeats:o,class:a,themeIcons:s},T.lsSet(f.LEAGUE_RESULTS,e),l()};e(),t();$(document).on("league:table-sorted",()=>{t()});const a=T.lsGetRaw(f.TABLE_SHOW_INDIVIDUAL)||"0",i=[{label:"22/21/-",value:"1"},{label:"2/3",value:"0"}].map(e=>T.$(`
            <label>
                <input type="radio" name="leagueTableShowIndividual" value="${e.value}" ${e.value===a?"checked":""} />
                <span>${e.label}</span>
            </label>
        `).change(e=>{T.lsSetRaw(f.TABLE_SHOW_INDIVIDUAL,e.target.value),t()})),s=$('<div class="individualDisplaySwitch"></div>');i.forEach((e,t)=>{0<t&&s.append("&middot;"),s.append(e)}),$(".league_end_in").append(s),$(document).on("league:player-selected",()=>{e(),t()})}};var _s=nl(476),xs={};_s.Z&&_s.Z.locals&&(xs.locals=_s.Z.locals);var ws,ks=0,$s={};$s.styleTagTransform=be(),$s.setAttributes=l(),$s.insert=ve().bind(null,"head"),$s.domAPI=fe(),$s.insertStyleElement=he(),xs.use=function(e){return $s.options=e||{},ks++||(ws=me()(_s.Z,$s)),xs},xs.unuse=function(){0<ks&&!--ks&&(ws(),ws=null)};const Ss=xs,Ts={chance:{darkness:"light",light:"psychic",psychic:"darkness"},egoDamage:{fire:"nature",nature:"stone",stone:"sun",sun:"water",water:"fire"}};class Cs{static calculateDominationBonuses(e,t){const i={player:{ego:0,attack:0,chance:0},opponent:{ego:0,attack:0,chance:0}};return[{a:e,b:t,k:"player"},{a:t,b:e,k:"opponent"}].forEach(({a:e,b:t,k:a})=>{e.forEach(e=>{Ts.egoDamage[e]&&t.includes(Ts.egoDamage[e])&&(i[a].ego+=.1,i[a].attack+=.1),Ts.chance[e]&&t.includes(Ts.chance[e])&&(i[a].chance+=.2)})}),i}static countElementsInTeam(e){return e.reduce((e,t)=>(e[t]++,e),{fire:0,stone:0,sun:0,water:0,nature:0,darkness:0,light:0,psychic:0})}static findBonusFromSynergies(e,t,a,i){var{bonus_multiplier:s,team_bonus_per_girl:e}=e.find(({element:{type:e}})=>e===t);return s+(a?i[t]*e:0)}static calculateSynergiesFromTeamMemberElements(e,t){var a=Cs.countElementsInTeam(e),e=T.getGirlDictionary().size||800,e=Math.min(e/8,100);return{critDamage:(t?0:.0035*e)+.1*a.fire,critChance:(t?0:7e-4*e)+.02*a.stone,healOnHit:(t?0:.001*e)+.03*a.water}}static calculateThemeFromElements(e){e=Cs.countElementsInTeam(e);const a=[];return Object.entries(e).forEach(([e,t])=>{3<=t&&a.push(e)}),a}static calculateCritChanceShare(e,t){return.3*e/(e+t)}}const Ms=Cs;window.HHPlusPlus.SimHelpers=Cs;class Ls{constructor({highPrecisionMode:e}){this.highPrecisionMode=e}extract(){var{playerLeaguesData:e,heroLeaguesData:t,caracs_per_opponent:a}=window,{chance:i,damage:s,defense:n,remaining_ego:r}=a[e.id_fighter];const o=t["team"];let l=o.theme_elements,c=o.synergies;l||(l=[],g=Ms.countElementsInTeam([0,1,2,3,4,5,6].map(e=>o.girls[e].element_data.type)),Object.entries(g).forEach(([e,t])=>{3<=t&&l.push({type:e})})),c=c||JSON.parse($("#leagues_left .hexa .icon-area").attr("synergy-data"));var d=l.map(({type:e})=>e),p=c,u={critDamage:Ms.findBonusFromSynergies(p,"fire"),critChance:Ms.findBonusFromSynergies(p,"stone"),healOnHit:Ms.findBonusFromSynergies(p,"water")},{chance:h,damage:m,defense:a,total_ego:t,nickname:g}=e;const f=e["team"],b=[];[0,1,2,3,4,5,6].forEach(e=>{e=f.girls[e];e&&e.element&&b.push(e.element)});p=f.theme_elements.map(({type:e})=>e);const v=f.synergies;e=v.every(({team_girls_count:e})=>!e);let y;e&&(y=b.reduce((e,t)=>(e[t]++,e),{fire:0,stone:0,sun:0,water:0,nature:0,darkness:0,light:0,psychic:0}));e={critDamage:Ms.findBonusFromSynergies(v,"fire",e,y),critChance:Ms.findBonusFromSynergies(v,"stone",e,y),healOnHit:Ms.findBonusFromSynergies(v,"water",e,y)},p=Ms.calculateDominationBonuses(d,p);return{player:{hp:r,dmg:s-a,critchance:Ms.calculateCritChanceShare(i,h)+p.player.chance+u.critChance,bonuses:u},opponent:{hp:t,dmg:m-n,critchance:Ms.calculateCritChanceShare(h,i)+p.opponent.chance+e.critChance,name:g,bonuses:e}}}display(e){var t=window["GT"],{points:a,win:i,scoreClass:e}=e;let s="<table class='probabilityTable'>",n=0;var r,o=["#fff","#fff","#fff","#ff2f2f","#fe3c25","#fb4719","#f95107","#f65b00","#f26400","#ed6c00","#e97400","#e37c00","#de8400","#d88b00","#d19100","#ca9800","#c39e00","#bba400","#b3aa00","#aab000","#a1b500","#97ba00","#8cbf00","#81c400","#74c900","#66cd00"];for(let e=25;3<=e;e--)a[e]&&(r=15<=e,s+=`<tr style='color:${r?o[25]:o[3]};' data-tint='${r?"w":"l"}'><td>${e}</td><td>${(100*a[e]).toFixed(2)}%</td></tr>`,n+=e*a[e]);s+=`<tr class='${e}'><td>${t.design.leagues_won_letter}</td><td>${(100*i).toFixed(2)}%</td></tr>`,s+="</table>",$(".matchRating").remove();i=$(`<div class="matchRating" style="color:${o[Math.round(n)]};" generic-tooltip="${s}">E[X]:<br/>${Da.nRounding(n,this.highPrecisionMode?2:1,0)}</div>`);$("#leagues_right .average-lvl").wrap('<div class="gridWrapper"></div>').after(i),$(".lead_table_default > td:nth-child(1) > div:nth-child(1) > div:nth-child(2) .level").append(i)}}const Es=Ls;window.HHPlusPlus.League=Ls;class Is{constructor({player:e,opponent:t,highPrecisionMode:a,logging:i}){this.player=e,this.opponent=t,this.simRuns=a?5e4:1e4,this.logging=i}async run(){const e={points:{},win:0,loss:0,avgTurns:0,scoreClass:""};this.player.critMultiplier=2+this.player.bonuses.critDamage,this.opponent.critMultiplier=2+this.opponent.bonuses.critDamage;let a=0,i=0,s=0;const n={};let r=0;var t=Array(this.simRuns).fill(null).map(async()=>this.simulateBattle({...this.player},{...this.opponent}));const o=await Promise.all(t);return o.forEach(({points:e,turns:t})=>{n[e]=(n[e]||0)+1,15<=e?i++:s++,r+=t,a++}),e.points=Object.entries(n).map(([e,t])=>({[e]:t/a})).reduce((e,t)=>Object.assign(e,t),{}),e.win=i/a,e.loss=s/a,e.avgTurns=r/a,e.scoreClass=.9<e.win?"plus":e.win<.5?"minus":"close",this.logging&&console.log(`Ran ${a} simulations against ${this.opponent.name}, won ${100*e.win}% of simulated fights, average turns: ${e.avgTurns}`),e}async simulateBattle(t,a){let i;var s=t.hp,n=a.hp;let r=0;for(;r<50;){r++;let e=t.dmg;Math.random()<t.critchance&&(e=t.dmg*t.critMultiplier);var o=Math.min(s-t.hp,e*t.bonuses.healOnHit);if(a.hp-=e,t.hp+=o,a.hp<=0){i=15+Math.ceil(t.hp/s*10);break}if(e=a.dmg,Math.random()<a.critchance&&(e=a.dmg*a.critMultiplier),o=Math.min(n-a.hp,e*a.bonuses.healOnHit),t.hp-=e,a.hp+=o,t.hp<=0){i=3+Math.ceil((n-a.hp)/n*10);break}}return{points:i,turns:r}}}const As=Is;window.HHPlusPlus.Simulator=Is;const Rs=class{constructor(e){this.idOpponent=e}extract(){var e=window["caracs_per_opponent"];const t=$("#season-arena .battle_hero"),a=$("#season-arena .opponents_arena .season_arena_opponent_container:nth-child("+(2*this.idOpponent+1)+")");var{total_ego:i,remaining_ego:s,damage:n,defense:r,chance:o}=e[a.attr("data-opponent")],l=i||s,c=t.find(".hero_team .icon-area").attr("synergy-data"),d=JSON.parse(c);const p=t.find(".hero_team .team-member img").map((e,t)=>$(t).data("new-girl-tooltip")).toArray();var u=p.map(({element_data:e})=>e.type),h=Ms.calculateThemeFromElements(u),m={critDamage:Ms.findBonusFromSynergies(d,"fire"),critChance:Ms.findBonusFromSynergies(d,"stone"),healOnHit:Ms.findBonusFromSynergies(d,"water")},e=parseInt(a.find(".hero_stats div:nth-child(2) div:nth-child(1) span:nth-child(2)").text().replace(/[^0-9]/gi,""),10),i=parseInt(a.find(".hero_stats div:nth-child(1) div:nth-child(2) span:nth-child(2)").text().replace(/[^0-9]/gi,""),10),s=parseInt(a.find(".hero_stats div:nth-child(1) div:nth-child(1) span:nth-child(2)").text().replace(/[^0-9]/gi,""),10),c=parseInt(a.find(".hero_stats div:nth-child(2) div:nth-child(2) span:nth-child(2)").text().replace(/[^0-9]/gi,""),10);const g=a.find(".hero_team .team-member img").map((e,t)=>$(t).data("new-girl-tooltip")).toArray();u=g.map(({element:e})=>e),d=Ms.calculateThemeFromElements(u),u=Ms.calculateSynergiesFromTeamMemberElements(u),d=Ms.calculateDominationBonuses(h,d);return{player:{hp:l,dmg:n-i,critchance:Ms.calculateCritChanceShare(o,c)+d.player.chance+m.critChance,bonuses:m},opponent:{hp:e,dmg:s-r,critchance:Ms.calculateCritChanceShare(c,o)+d.opponent.chance+u.critChance,name:$(".season_arena_opponent_container:nth-child("+(2*this.idOpponent+1)+") > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > div:nth-child(1)").text(),bonuses:u}}}display(e){const t=$("#season-arena .opponents_arena .season_arena_opponent_container:nth-child("+(2*this.idOpponent+1)+")");let a=t.find(".gridWrapper");a.length||(t.find(".average-lvl").wrap('<div class="gridWrapper"></div>'),a=t.find(".gridWrapper")),a.find(".matchRating").remove(),a.append(`<span class="matchRating ${e.scoreClass}">${Da.nRounding(100*e.win,2,-1)}%</span>`)}};const Ps=class{extract(){var e=$("#pre-battle #player-panel .stat"),t=Da.parseLocaleRoundedInt(e[0].innerText),a=Da.parseLocaleRoundedInt(e[1].innerText),i=Da.parseLocaleRoundedInt(e[2].innerText),s=Da.parseLocaleRoundedInt(e[3].innerText);const n=$("#player-panel");var r=n.find(".icon-area").attr("synergy-data"),o=JSON.parse(r);const l=n.find(".team-member img").map((e,t)=>$(t).data("new-girl-tooltip")).toArray();var c=l.map(({element_data:e})=>e.type),d=Ms.calculateThemeFromElements(c),p={critDamage:Ms.findBonusFromSynergies(o,"fire"),critChance:Ms.findBonusFromSynergies(o,"stone"),healOnHit:Ms.findBonusFromSynergies(o,"water")},u=$("#pre-battle #opponent-panel .stat"),h=Da.parseLocaleRoundedInt(u[0].innerText),e=Da.parseLocaleRoundedInt(u[1].innerText),r=Da.parseLocaleRoundedInt(u[2].innerText),c=Da.parseLocaleRoundedInt(u[3].innerText);const m=$("#opponent-panel"),g=m.find(".team-member img").map((e,t)=>$(t).data("new-girl-tooltip")).toArray();o=g.map(({element:e})=>e),u=Ms.calculateThemeFromElements(o),o=Ms.calculateSynergiesFromTeamMemberElements(o,!0),u=Ms.calculateDominationBonuses(d,u);return{player:{hp:a,dmg:t-r,critchance:Ms.calculateCritChanceShare(s,c)+u.player.chance+p.critChance,bonuses:p},opponent:{hp:e,dmg:h-i,critchance:Ms.calculateCritChanceShare(c,s)+u.opponent.chance+o.critChance,name:$("#opponent-panel .hero-name-container").text(),bonuses:o}}}display(e){$("#opponent-panel .average-lvl").wrap('<div class="gridWrapper"></div>').after(`<div class="matchRating ${e.scoreClass}">${Da.nRounding(100*e.win,2,-1)}%</div>`)}},Ds="simFight";const Ns=class extends B{constructor(){super({baseKey:Ds,label:Da.getModuleLabel("config",Ds),default:!0,subSettings:[{key:"logging",label:Da.getModuleLabel("config",`${Ds}_logging`),default:!1},{key:"highPrecisionMode",label:Da.getModuleLabel("config",`${Ds}_highPrecisionMode`),default:!1}]}),this.label=Da.getModuleLabel.bind(this,Ds),this.simManagers=[],this.logging=!1,this.highPrecisionMode=!1}shouldRun(){return["pre-battle","tower-of-fame","season-arena"].some(e=>T.isCurrentPage(e))}run({logging:e,highPrecisionMode:t}){!this.hasRun&&this.shouldRun()&&(this.logging=e,this.highPrecisionMode=t,Ss.use(),T.defer(()=>{T.isCurrentPage("tower-of-fame")?this.simManagers=[new Es({highPrecisionMode:t})]:T.isCurrentPage("season-arena")?this.simManagers=[new Rs(1),new Rs(2),new Rs(3)]:T.isCurrentPage("pre-battle")&&(this.simManagers=[new Ps]),this.runManagedSim(),T.isCurrentPage("tower-of-fame")&&new MutationObserver(()=>this.runManagedSim()).observe(document.getElementById("leagues_right"),{childList:!0})}),this.hasRun=!0)}async runManagedSim(){await Promise.all(this.simManagers.map(async e=>{var{player:t,opponent:a}=e.extract(),{logging:i,highPrecisionMode:s}=this;const n=new As({player:t,opponent:a,highPrecisionMode:s,logging:i});i=await n.run();e.display(i)}))}};var Gs=nl(73),Hs={};Gs.Z&&Gs.Z.locals&&(Hs.locals=Gs.Z.locals);var js,Os=0,Bs={};Bs.styleTagTransform=be(),Bs.setAttributes=l(),Bs.insert=ve().bind(null,"head"),Bs.domAPI=fe(),Bs.insertStyleElement=he(),Hs.use=function(e){return Bs.options=e||{},Os++||(js=me()(Gs.Z,Bs)),Hs},Hs.unuse=function(){0<Os&&!--Os&&(js(),js=null)};const zs=Hs,Fs="teamsFilter";const Us=class extends B{constructor(){super({baseKey:Fs,label:Da.getModuleLabel("config",Fs),default:!0}),this.label=Da.getModuleLabel.bind(this,Fs),this.all=Da.getModuleLabel("common","all")}shouldRun(){return T.isCurrentPage("edit-team")}run(){!this.hasRun&&this.shouldRun()&&(zs.use(),T.defer(()=>{this.injectCSSVars(),this.updateFilterGirlData(),$("h3.panel-title").before('<button id="arena_filter" class="blue_button_L"><span class="filter_mix_icn"></span></button>'),$("h3.panel-title").after(this.createFilterBox()),this.createFilterEvents()}),this.hasRun=!0)}injectCSSVars(){ue.registerVar("filter-icon",`url('${ii}')`)}updateFilterGirlData(){this.arenaGirls=$(".harem-panel-girls div.harem-girl-container"),this.girlsData=$.map(this.arenaGirls,function(e){return JSON.parse($(e).attr("data-new-girl-tooltip")||$(e).attr("new-girl-tooltip-data"))})}createFilterEvents(){$("#arena_filter").on("click",()=>{var e;void 0!==this.arenaGirls&&void 0!==this.girlsData&&(e=$("#arena_filter_box").css("display"),$("#arena_filter_box").css("display","none"===e?"block":"none"))});var e=()=>{this.filterGirls()};$("#filter_class").on("change",e),$("#filter_element").on("change",e),$("#filter_rarity").on("change",e),$("#filter_name").get(0).oninput=e,$("#filter_blessed_attributes").on("change",e),$("#filter_aff_category").on("change",e),$("#filter_aff_lvl").on("change",e)}filterGirls(){let u=$("#filter_class").get(0).selectedIndex,h=$("#filter_element").get(0).value,m=$("#filter_rarity").get(0).value;var e=$("#filter_name").get(0).value;let g=new RegExp(e,"i"),f=$("#filter_blessed_attributes").get(0).value,b=$("#filter_aff_category").get(0).value,v=$("#filter_aff_lvl").get(0).value,a=$.map(this.girlsData,(e,t)=>{var a=e.class===`${u}`||0===u,{elementData:i,element_data:s}=e,n=(i||s).type===h||"all"===h,r=e.rarity===m||"all"===m;const{Name:o,name:l}=e;var c=-1<(o||l).search(g);let d;switch(f){case"blessed_attributes":d=!!e.blessed_attributes;break;case"non_blessed_attributes":d=!e.blessed_attributes;break;case"all":d="all"===f}const p=$(e.graded2);i=`${p.length}`,s=`${p.filter("g:not(.grey):not(.green)").length}`,i=i===b||"all"===b,s=s===v||"all"===v;return a&&n&&r&&c&&d&&i&&s?t:null});$.each(this.arenaGirls,function(e,t){$(t).css("display",-1<$.inArray(e,a)?"flex":"none")}),$(".panel-body").getNiceScroll().resize()}createFilterBox(){var e='<div id="arena_filter_box" class="form-wrapper" style="display: none;">';return e+='<div class="form-control"><div class="input-group"><label class="head-group" for="filter_name">'+this.label("searchedName")+'</label><input type="text" autocomplete="off" id="filter_name" placeholder="'+this.label("girlName")+'" icon="search"></div></div>',e+='<div class="form-control"><div class="select-group"><label class="head-group" for="filter_class">'+this.label("searchedClass")+'</label><select name="filter_class" id="filter_class" icon="down-arrow"><option value="all" selected="selected">'+this.all+'</option><option value="hardcore">'+GT.caracs[1]+'</option><option value="charm">'+GT.caracs[2]+'</option><option value="knowhow">'+GT.caracs[3]+"</option></select></div></div>",e+='<div class="form-control"><div class="select-group"><label class="head-group" for="filter_element">'+this.label("searchedElement")+'</label><select name="filter_element" id="filter_element" icon="down-arrow"><option value="all" selected="selected">'+this.all+"</option>"+["fire","nature","stone","sun","water","darkness","light","psychic"].map(e=>`<option value="${e}">${GT.design[`${e}_flavor_element`]}</option>`).join("")+"</select></div></div>",e+='<div class="form-control"><div class="select-group"><label class="head-group" for="filter_rarity">'+this.label("searchedRarity")+'</label><select name="filter_rarity" id="filter_rarity" icon="down-arrow"><option value="all" selected="selected">'+this.all+"</option>"+["starting","common","rare","epic","legendary","mythic"].map(e=>`<option value="${e}">${GT.design[`girls_rarity_${e}`]}</option>`).join("")+"</select></div></div>",e+='<div class="form-control"><div class="select-group"><label class="head-group" for="filter_aff_category">'+this.label("searchedAffCategory")+'</label><select name="filter_aff_category" id="filter_aff_category" icon="down-arrow"><option value="all" selected="selected">'+this.all+'</option><option value="1">'+this.label("grade1")+'</option><option value="3">'+this.label("grade3")+'</option><option value="5">'+this.label("grade5")+'</option><option value="6">'+this.label("grade6")+"</option></select></div></div>",e+='<div class="form-control"><div class="select-group"><label class="head-group" for="filter_aff_lvl">'+this.label("searchedAffLevel")+'</label><select name="filter_aff_lvl" id="filter_aff_lvl" icon="down-arrow"><option value="all" selected="selected">'+this.all+'</option><option value="0">'+this.label("grade0")+'</option><option value="1">'+this.label("grade1")+'</option><option value="2">'+this.label("grade2")+'</option><option value="3">'+this.label("grade3")+'</option><option value="4">'+this.label("grade4")+'</option><option value="5">'+this.label("grade5")+'</option><option value="6">'+this.label("grade6")+"</option></select></div></div>",e+='<div class="form-control"><div class="select-group"><label class="head-group" for="filter_blessed_attributes">'+this.label("searchedBlessedAttributes")+'</label><select name="filter_blessed_attributes" id="filter_blessed_attributes" icon="down-arrow"><option value="all" selected="selected">'+this.all+'</option><option value="blessed_attributes">'+this.label("blessedAttributes")+'</option><option value="non_blessed_attributes">'+this.label("nonBlessedAttributes")+"</option></select></div></div>",e+="</div>"}};var Zs=nl(171),qs={};Zs.Z&&Zs.Z.locals&&(qs.locals=Zs.Z.locals);var Vs,Ws=0,Ks={};Ks.styleTagTransform=be(),Ks.setAttributes=l(),Ks.insert=ve().bind(null,"head"),Ks.domAPI=fe(),Ks.insertStyleElement=he(),qs.use=function(e){return Ks.options=e||{},Ws++||(Vs=me()(Zs.Z,Ks)),qs},qs.unuse=function(){0<Ws&&!--Ws&&(Vs(),Vs=null)};const Ys=qs,Xs=T["$"],Js="champions";const Qs=class extends B{constructor(){super({baseKey:Js,label:Da.getModuleLabel("config",Js),default:!0}),this.label=Da.getModuleLabel.bind(this,Js)}shouldRun(){return["champions/","clubs","club-champion"].some(e=>T.isCurrentPage(e))}run(){!this.hasRun&&this.shouldRun()&&(Ys.use(),T.defer(()=>{T.isCurrentPage("clubs")&&(this.addChampionInfoOnClubsPage(),this.fixChampRestTimer()),(T.isCurrentPage("champions/")||T.isCurrentPage("club-champion"))&&(this.poseMatching(),this.showTicketsWhileResting(),this.fasterSkipButton())}),this.hasRun=!0)}addChampionInfoOnClubsPage(){const{clubChampionsData:a,membersList:e,server_now_ts:i,HHTimers:s}=window;if(a&&a.fight.active&&a.fight.participants.length){const{champion:{bar:t},fight:{participants:o,start_time:l},timers:c}=a,d=o.length,p=parseInt(t.max);o.forEach(({id_member:e,challenge_impression_done:t})=>{var a=parseInt(t),i=a/p,s=(s=i,t=d,Math.round(.6*Math.sqrt(t))+Math.round(100*s)),s=Xs(`
                <div>${Da.nThousand(a)}</div>
                <div>${Da.nRounding(100*i,2,0)}% / <span class="shard"></span> x ${s}</div>
            `);Xs(`#club_champions_body_table tbody [sorting_id=${e}] td.impression`).empty().append(s)}),Xs("#club_champions_body_table").prepend(`<div class="script-participant-count">${this.label("participants",{participants:d,members:e.length})}</div>`);const u=o.map(({id_member:e})=>e),h=e.filter(({id_member:e})=>!u.includes(e));var n=()=>{h.forEach(({id_member:e})=>{Xs(`#members [sorting_id=${e}]`).addClass("non-participant")})};n(),new MutationObserver(n).observe(document.getElementById("members"),{childList:!0,subtree:!0});const m=Xs(".club_champions_bar");m.attr("style",m.attr("style").replace(",","."));const g=Xs(".club_champions_timer_fight");if(g.length){const f=window["format_time_short"];var r=`<span class="script-round-duration-time">${f(i-l)}</span>`,n=Xs('<span class="dumy-timer-target" style="display:none!important;"></span>');g.append("<br/>").append(`<span class="script-round-duration">${this.label("clubChampDuration",{duration:r})}</span>`).append(n);const b=g.find(".script-round-duration"),v=b.find(".script-round-duration-time");r=a.timers.championFight-i;let t;t=s.initDecTimer(n,r,()=>{},()=>{var e;t&&(e=s.timers[t].remainingTime,v.text(f(a.timers.championFight-e-a.fight.start_time)))})}if(Xs(".btn_skip_team_cooldown").hide(),Xs(".btn_skip_champion_cooldown").length||Xs(".challenge_container").show(),c.teamRest){const y=()=>Object.values(s.timers).find(({$elm:e})=>e&&".team_rest_timer"===e.selector);let e=y();const _=()=>{e.remainingTime=parseInt(c.teamRest)-i,e.update()};if(e)_();else{const x=new MutationObserver(()=>{e=y(),e&&(x.disconnect(),_())});x.observe(Xs(".team_rest_timer .text > span")[0],{childList:!0})}}}}fixChampRestTimer(){const{clubChampionsData:e,server_now_ts:t,HHTimers:a}=window;if(e&&!e.fight.active){const i=e["timers"];if(i.championRest){const s=()=>Object.values(a.timers).find(({$elm:e})=>e&&".champion_rest_timer"===e.selector);let e=s();const n=()=>{e.remainingTime=parseInt(i.championRest)-t,e.update()};if(e)n();else{const r=new MutationObserver(()=>{e=s(),e&&(r.disconnect(),n())});r.observe(Xs(".champion_rest_timer .text > span")[0],{childList:!0})}}}}poseMatching(){const o=window["championData"];var{canDraft:e,champion:t}=o;if(e){const a=t["poses"],l=a.map(e=>`${e}`),c=[...l,...l],r=()=>{const r=Xs(".champions-middle__girl-selection"),e=o["team"];e.forEach(({id_girl:e,figure:t},a)=>{var i=l.includes(t),t=c[a]===t;const s=r.find(`[id_girl=${e}]`);let n=s.find(".script-pose-match");n.length||(n=Xs('<span class="script-pose-match"></span>'),s.append(n)),t?(n.addClass("green-tick-icon"),n.removeClass("empty")):i&&(n.addClass("green-tick-icon"),n.addClass("empty"))})};r(),new MutationObserver(r).observe(Xs("#contains_all>section")[0],{childList:!0}),T.onAjaxResponse(/action=team_draft/,e=>{var e=e["teamArray"];window.championData.team=e}),T.onAjaxResponse(/action=team_reorder/,(e,t)=>{if(e.success){const a=new URLSearchParams(t.data),i=a.getAll("team_order[]"),s=o["team"],n=[];i.forEach(t=>{n.push(s.find(({id_girl:e})=>e===t))}),window.championData.team=n,r()}})}}showTicketsWhileResting(){var e=()=>{var e;Xs(".champions-bottom__ticket-amount").length||(e=window["championData"],Xs(".champions-bottom__rest").css({width:"280px"}).before(`<div class="champions-bottom__ticket-amount"><span cur="ticket">x ${e.champion.currentTickets}</span></div>`))};e(),new MutationObserver(e).observe(Xs("#contains_all>section")[0],{childList:!0})}fasterSkipButton(){T.onAjaxResponse(/class=TeamBattle/i,()=>{const e=new MutationObserver(()=>{Xs("button.skip-button").length&&(Xs("button.skip-button").show(),e.disconnect())});e.observe(Xs("#contains_all > section")[0],{childList:!0})})}};var en=nl(520),tn={};en.Z&&en.Z.locals&&(tn.locals=en.Z.locals);var an,sn=0,nn={};nn.styleTagTransform=be(),nn.setAttributes=l(),nn.insert=ve().bind(null,"head"),nn.domAPI=fe(),nn.insertStyleElement=he(),tn.use=function(e){return nn.options=e||{},sn++||(an=me()(en.Z,nn)),tn},tn.unuse=function(){0<sn&&!--sn&&(an(),an=null)};const rn=tn,on=()=>{const e=T.getGirlDictionary();if(!e)return 0;let a=0;return e.forEach(e=>{var{shards:t,grade:e}=e;100===t&&1<e&&a++}),a};const ln=new class{get pantheon(){return!T.isCxH()&&15<=window.Hero.infos.level}get leagues(){return 20<=window.Hero.infos.level}get seasons(){var{Hero:{infos:{questing:{id_quest:e,id_world:t}}}}=window;return 1<t||4<e}get pop(){var{Hero:{infos:{questing:{id_world:e}}}}=window;return!T.isCxH()&&3<=e}get champs(){var{Hero:{infos:{questing:{id_quest:e}}}}=window;return!(T.isCxH()&&e<3060||!T.isCxH()&&e<320)&&10<=on()}get clubs(){return!T.isCxH()&&15<=on()}},cn=T["$"],dn="resourceBars",pn={1:"green",.5:"yellow",.2:"red"};const un=class extends B{constructor(){super({baseKey:dn,label:Da.getModuleLabel("config",dn),default:!0}),this.label=Da.getModuleLabel.bind(this,dn),this.activeBoosters={}}shouldRun(){return!0}run(){!this.hasRun&&this.shouldRun()&&(rn.use(),T.defer(()=>{this.injectCSSVars(),this.betterXP(),this.betterMoney(),this.forceTimerInterval(),this.addEnergyBarShortcut(),this.initTooltips(),this.addAdditionalBars(),this.addPoPTimer(),this.addBoosterStatus(),this.overrideGlitter();const e=new MutationObserver(()=>{this.betterXP()});e.observe(cn("[hero=xp]")[0],{childList:!0});const t=new MutationObserver(()=>{this.betterMoney()});t.observe(cn("[hero=soft_currency]")[0],{childList:!0});const a=window["TooltipManager"],i=a.init.bind(a);a.init=()=>{i(),this.initTooltips()}}),this.hasRun=!0)}injectCSSVars(){ue.registerVar("challenge-token-icon",`url("${T.getCDNHost()}/league_points.png")`)}initTooltips(){const{is_mobile:e,is_tablet:t,TooltipManager:n,Tooltip:r}=window,a=e&&e()||t&&t();Object.entries({quest:"hudEnergy_mix_icn",fight:"hudBattlePts_mix_icn",kiss:"hudKiss_mix_icn",challenge:"hudChallenge_mix_icn",worship:"hudWorship_mix_icn"}).forEach(([s,e])=>{e=`header .energy_counter .${e}`;cn("body").off("touchstart",e),cn("body").off("touchend",e),cn("body").off("touchcancel",e),cn("body").off("mouseenter",e),cn("body").off("mouseleave",e),n.initTooltipType(a,e,!1,e=>{let t;var a;t=Hero.energies[s].amount>=Hero.energies[s].max_amount?`<span class="orange">${GT.design.Full}</span>`:(a=Hero.c[s].getTotalRemainingTime(),i=Math.round((new Date).getTime()/1e3),i=`<span class="orange">${new Date(1e3*(i+a)).toLocaleTimeString(Da.getLang(),{hour:"2-digit",minute:"2-digit"})}</span>`,`${`${GT.design.full_in}<span class="orange" rel="timer">${format_time_short(a)}</span>`}<br/>${this.label("fullAt",{time:i})}`);var i=new r(cn(e),"",t);n.initNewTooltip(e,i)})})}betterXP(){const e=cn("[rel=xp] .bar-wrapper .over");this.$xpContainer||(this.$xpContainer=cn('<span class="scriptXPContainer"></span>'),e.append(this.$xpContainer));var{level:t,left:a,cur:i,max:s}=Hero.infos.Xp;let n,r=GT.design.Max;t<HH_MAX_LEVEL&&(n=this.label("xp",{xp:Da.nThousand(a)}),r=Da.nThousand(s)),this.$xpContainer.text(`${Da.nThousand(i)} / ${r}${n?` (${n})`:""}`),e.addClass("hideDefault")}betterMoney(){this.$moneyContainer||(this.$moneyContainer=cn('<span class="scriptMoneyContainer"></span>'),cn("[hero=soft_currency]").after(this.$moneyContainer));var e=Hero.infos.soft_currency,t=Da.nThousand(e);1e6<=e?(e=Da.nRounding(e,3,0),this.$moneyContainer.text(e).attr("hh_title",t)):this.$moneyContainer.text(cn("[hero=soft_currency]").text()).attr("hh_title",t)}forceTimerInterval(){HHTimers.thresholdSec=86400,HHTimers.thresholdTenSec=64800;var e=[...HHTimers.timersListMin,...HHTimers.timersListTenSec];HHTimers.timersListMin=[],HHTimers.timersListTenSec=[],HHTimers.timersListSec.push(...e)}addEnergyBarShortcut(){let e;const t=Hero.infos.questing.current_url;var a=T.lsGet(f.SIDEQUEST_STATUS);e=t.includes("quest")?t:a&&a.energySpendAvailable&&a.continueLink?a.continueLink:a&&a.energySpendAvailable?"/side-quests.html":"/champions-help.html",cn(".energy_counter[type=quest] .bar-wrapper").wrap(`<a href="${e}"></a>`)}addAdditionalBars(){let p=cn("header .energy_counter[type=fight]");[{type:"kiss",feature:"seasons",iconClass:"hudKiss_mix_icn",shortcutLink:"/season-arena.html"},{type:"challenge",feature:"leagues",iconClass:"hudChallenge_mix_icn",shortcutLink:"/tower-of-fame.html"},{type:"worship",feature:"pantheon",iconClass:"hudWorship_mix_icn",shortcutLink:"/pantheon.html"}].forEach(({type:t,feature:e,iconClass:a,shortcutLink:i})=>{if(!ln[e]){var s=cn(`<div class="script-bar-spacer" type="${t}" id="canvas_${t}_energy"></div>`);return p.after(s),void(p=s)}var n,{amount:r,max_amount:o,seconds_per_point:l,next_refresh_ts:c}=Hero.energies[t],s=cn(([{type:n,timeForSinglePoint:e,timeOnLoad:s,iconClass:a,currentVal:i,max:l,shortcutLink:c}]=[{type:t,iconClass:a,shortcutLink:i,currentVal:r,max:o,timeForSinglePoint:l,timeOnLoad:c}],`
        <div class="energy_counter" type="${n}" id="canvas_${n}_energy">
            <div class="energy_counter_bar">
                <div class="energy_counter_icon"><span class="${a}"></span></div>
                <a href="${c}">
                    <div class="bar-wrapper">
                        <div class="bar red" style="width:${100*Math.min(i,l)/l}%"></div>
                        <div class="over">
                            <div class="energy_counter_amount">
                                <span energy>${i}</span>/<span rel="max">${l}</span>
                            </div>
                            <span rel="count_txt" timeforsinglepoint="${e}" ${l<=i?'style="display:none;"':`timeonload="${s}"`}>
                                ${GT.design.more_in} <span rel="count"></span>
                            </span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    `));if(p.after(s),p=s,r<o){Hero.c||(Hero.c={});const d=Object.values(HHTimers.timers).find(e=>e.type===t);let e;d&&(e=d.onDestroy,d.onDestroy=()=>{},d.destroy()),Hero.c[t]=HHTimers.initEnergyTimer(cn(`.energy_counter[type="${t}"]`)),e&&(Hero.c[t].onDestroy=e),"challenge"!==t||T.isCurrentPage("tower-of-fame")||(window.hasMultipleLeagueBattles=!1)}})}addPoPTimer(){if(ln.pop){var s=T.lsGet(f.TRACKED_TIMES);let e=0,t=1,a;s&&s.pop&&(e=Math.max(s.pop-server_now_ts,0),t=s.popDuration,a=`<span class=&quot;orange&quot;>${new Date(1e3*s.pop).toLocaleTimeString(Da.getLang(),{hour:"2-digit",minute:"2-digit"})}</span>`);var n=0<e;let i=100;n&&(i=100*(t-e)/t);const r=cn(`
            <a class="script-pop-timer" href="/activities.html?tab=pop">
                <div class="hh_bar finish_in_bar" ${n?`generic-tooltip="${this.label("readyAt",{time:a})}"`:""}>
                    <div class="backbar borderbar">
                        <div class="frontbar ${n?"pinkbar":"bluebar"}" style="width: ${i}%"></div>
                    </div>
                    <div class="text">${n?this.label("popsIn",{time:`<span>${window.format_time_short(e)}</span>`}):this.label("popsReady")}</div>
                </div>
            </a>
        `);cn("header .currency").before(r),0<e&&(n={show:s=()=>{},hide:s,selector:""},s=window.is_mobile_size,window.is_mobile_size=()=>!1,HHTimers.initBarTimer(t,e,n,{barElm:r.find(".frontbar"),textElm:r.find("div.text>span")},()=>{r.find(".text").text(this.label("popsReady")),r.find(".pinkbar").addClass("bluebar").removeClass("pinkbar"),window.notificationData&&window.notificationData.activities&&(window.notificationData.activities.push("reward"),window.displayNotifications())}),window.is_mobile_size=s)}}addBoosterStatus(){const t=T.lsGet(f.BOOSTER_STATUS)||{normal:[],mythic:[]};t.normal=t.normal.filter(({endAt:e})=>e>server_now_ts),Object.keys(t).forEach(e=>{t[e].length<3&&(t[e]=[...t[e],...Array(3-t[e].length).fill({empty:!0})])});const m=cn('<a class="script-booster-status" href="/shop.html?type=booster"></a>'),r=e=>{var{empty:t,id_item:a,identifier:i,rarity:s,endAt:n}=e;if(t)return'<div class="slot empty"></div>';e.expiry=n-server_now_ts;n=new Date(1e3*n).toLocaleTimeString(Da.getLang(),{hour:"2-digit",minute:"2-digit"}).replace(/(\d)/g,e=>`${e}<i></i>`);return cn(`
                <div class="slot ${s}" id_item="${a}" data-d="${JSON.stringify(e).replace(/"/g,"&quot;")}" additional-tooltip-info="${JSON.stringify({additionalText:`<span class="script-tooltip"></span>${this.label("endAt",{time:n})}`}).replace(/"/g,"&quot;")}">
                    <img src="${T.getCDNHost()}/pictures/items/${i}.png"/>
                </div>`)},o=e=>{var{empty:t,id_item:a,identifier:i}=e;return t?'<div class="slot mythic empty"></div>':cn(`
                <div class="slot mythic" id_item="${a}" data-d="${JSON.stringify(e).replace(/"/g,"&quot;")}" additional-tooltip-info="${JSON.stringify({additionalText:'<span class="script-tooltip"></span>'}).replace(/"/g,"&quot;")}">
                    <img src="${T.getCDNHost()}/pictures/items/${i}.png"/>
                </div>
            `)},g=(e,r,t)=>{const a=Math.min(e/r,1);var i=2*Math.min(a,.5),s=2*Math.max(a-.5,0);let o="";0<a&&Object.entries(pn).forEach(([e,t])=>{a<=e&&(o=t)});const l=cn(`
                <div class="circular-progress">
                    <div class="circle">
                        <div class="circle-bar left">
                            <div class="progress ${o}" style="transform: rotate(${180*s}deg)"></div>
                        </div>
                        <div class="circle-bar right">
                            <div class="progress ${o}" style="transform: rotate(${180*i}deg)"></div>
                        </div>
                        ${t?'<div class="dummy-timer-target" style="display: none;"></div>':""}
                    </div>
                </div>
            `);if(t){let n;n=HHTimers.initDecTimer(l.find(".dummy-timer-target"),e,()=>{l.find(".slot").attr("class","slot empty").empty().attr("data-d","").attr("tooltip-id","").attr("id_item",""),l.find(".progress").css("transform","rotate(0deg)")},()=>{if(n){const a=HHTimers.timers[n].remainingTime/r;var e=2*Math.min(a,.5),t=2*Math.max(a-.5,0);0<a&&Object.entries(pn).forEach(([e,t])=>{a<=e&&(o=t)});const i=l.find(".left .progress"),s=l.find(".right .progress");i.css("transform",`rotate(${180*t}deg)`).attr("class",`progress ${o}`),s.css("transform",`rotate(${180*e}deg)`).attr("class",`progress ${o}`)}})}return l},l=(e,t,a)=>{var{empty:i,rarity:s,id_m_i:n,usages:r,usages_remaining:o,duration:l,endAt:c}=t,t=e(t);let d=0,p=1,u=!1;s="mythic"===s;i||(s?(d=o,p=r):(d=c-server_now_ts,p=l,u=!0));const h=g(d,p,u);h.prepend(t),a?m.find(`.circular-progress:has(.empty${s?".mythic":":not(.mythic)"})`).first().replaceWith(h):m.append(h),!i&&s&&([n]=n,this.activeBoosters[n]=h)};t.normal.forEach(e=>{l(r,e)}),t.mythic.forEach(e=>{l(o,e)}),cn("header .currency").before(m),cn(document).on("boosters:equipped",(e,{id_item:t,id_m_i:a,isMythic:i})=>{const s=T.lsGet(f.BOOSTER_STATUS)||{normal:[],mythic:[]};var n=s[i?"mythic":"normal"].find(e=>e.id_item===t&&e.id_m_i.includes(a));n?m.find(`.slot.empty${i?".mythic":":not(.mythic)"}`).length?l(i?o:r,n,!0):console.log("somehow equipped a new equip but have no empty slot????"):console.log("can't find data in LS for new booster with idmi",a,"and itemid",t)}),cn(document).on("boosters:updated-mythic",()=>{const e=T.lsGet(f.BOOSTER_STATUS)||{normal:[],mythic:[]},a={};e.mythic.forEach(e=>a[e.id_m_i[0]]=e),Object.entries(this.activeBoosters).forEach(([e,t])=>{var i=a[e];if(i){var{usages:s,usages_remaining:e}=i;const n=Math.min(e/s,1);e=2*Math.min(n,.5),s=2*Math.max(n-.5,0);let a="green";0<n&&Object.entries(pn).forEach(([e,t])=>{n<=e&&(a=t)});const r=t.find(".left .progress"),o=t.find(".right .progress");r.css("transform",`rotate(${180*s}deg)`).attr("class",`progress ${a}`),o.css("transform",`rotate(${180*e}deg)`).attr("class",`progress ${a}`);const l=t.find(".slot");l.attr("data-d",JSON.stringify(i)),l.data("d",i)}else t.find(".slot").attr("class","slot mythic empty").empty().attr("data-d","").attr("tooltip-id","").attr("id_item",""),t.find(".progress").css("transform","rotate(0deg)")})}),new MutationObserver(()=>{cn(".hh_tooltip_new:has(.script-tooltip)").addClass("script-booster-status-item")}).observe(document.body,{childList:!0})}overrideGlitter(){const{is_mobile_size:n,star_glitter:r}=window;window.glitter_me=e=>{let t,a,i,s;switch(e){case"soft_currency":s=(i=n()?(t="780px",a="14px",100):(t="800px",a="6px",90),30);break;case"hard_currency":s=(i=n()?(t="780px",a="38px",100):(t="800px",a="20px",90),30);break;case"energy_quest":s=n()?(t="240px",a="10px",i=80,60):(t="150px",a="8px",i=90,40);break;case"energy_battle":s=n()?(t="340px",a="10px",i=80,60):(t="270px",a="8px",i=90,40);break;case"xp":s=(n(),t="0px",a="0px",i=1040,14);break;case"affection":t="680px",a="260px",i=140,s=40;break;case"xp_shop":t="680px",a="240px",i=140,s=40;break;default:return}new r(t,a,i,s)}}};var hn=nl(279),mn={};hn.Z&&hn.Z.locals&&(mn.locals=hn.Z.locals);var gn,fn=0,bn={};bn.styleTagTransform=be(),bn.setAttributes=l(),bn.insert=ve().bind(null,"head"),bn.domAPI=fe(),bn.insertStyleElement=he(),mn.use=function(e){return bn.options=e||{},fn++||(gn=me()(hn.Z,bn)),mn},mn.unuse=function(){0<fn&&!--fn&&(gn(),gn=null)};const vn=mn,yn=T["$"],_n="homeScreen";const xn=class extends B{constructor(){super({baseKey:_n,label:Da.getModuleLabel("config",_n),default:!0}),this.label=Da.getModuleLabel.bind(this,_n)}shouldRun(){return T.isCurrentPage("home")}run(){!this.hasRun&&this.shouldRun()&&(vn.use(),T.defer(()=>{this.injectCSSVars(),this.addTimers(),this.addShortcuts(),this.fixMissionsTimer(),this.forceActivitiesTab()}),this.hasRun=!0)}injectCSSVars(){ue.registerVar("pantheon-icon",'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjQ4cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4cHgiIGZpbGw9IiNGRkZGRkYiPjxnPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIvPjwvZz48Zz48Zz48cmVjdCBoZWlnaHQ9IjciIHdpZHRoPSIzIiB4PSI0IiB5PSIxMCIvPjxyZWN0IGhlaWdodD0iNyIgd2lkdGg9IjMiIHg9IjEwLjUiIHk9IjEwIi8+PHJlY3QgaGVpZ2h0PSIzIiB3aWR0aD0iMjAiIHg9IjIiIHk9IjE5Ii8+PHJlY3QgaGVpZ2h0PSI3IiB3aWR0aD0iMyIgeD0iMTciIHk9IjEwIi8+PHBvbHlnb24gcG9pbnRzPSIxMiwxIDIsNiAyLDggMjIsOCAyMiw2Ii8+PC9nPjwvZz48L3N2Zz4=")'),ue.registerVar("champions-icon",`url("${T.getCDNHost()}/design/menu/ic_champions.svg")`)}addTimers(){var e=T.lsGet(f.MARKET_INFO);e&&(t=e["refreshTime"],t>server_now_ts&&(i=yn('<div class="script-home-timer"></div>'),yn("[rel=shop] > .position > span").append(i),HHTimers.initDecTimer(i,t-server_now_ts,()=>{window.notificationData.shop.push("action"),window.displayNotifications()})));var t,a,i=T.lsGet(f.TRACKED_TIMES);i&&(i.gp&&i.gp>server_now_ts&&(t=yn('<div class="script-home-timer"></div>'),yn("[rel=pachinko] > .position > span").append(t),HHTimers.initDecTimer(t,i.gp-server_now_ts,()=>{window.notificationData.pachinko.push("action"),window.displayNotifications()})),i.champ&&i.champ>server_now_ts&&(a=yn('<div class="script-home-timer"></div>'),yn("[rel=sex-god-path] > .position > span").append(a),HHTimers.initDecTimer(a,i.champ-server_now_ts,()=>{window.notificationData["sex-god-path"].push("action"),window.displayNotifications()})),i.clubChamp&&i.clubChamp>server_now_ts&&(a=yn('<div class="script-home-timer"></div>'),yn("[rel=clubs] > .position > span").append(a),HHTimers.initDecTimer(a,i.clubChamp-server_now_ts,()=>{window.notificationData.clubs.push("action"),window.displayNotifications()})))}addShortcuts(){var e=(e,t,a,i)=>`<a class="round_blue_button script-home-shortcut script-home-shortcut-${e}" href="${t}" hh_title="${a}"><div class="${i}"></div></a>`;if(window.Chat_vars&&window.Chat_vars.CLUB_ID){const i=yn('<div class="script-home-shortcut-container"></div>');yn("a[rel=clubs] .position").prepend(i),i.append(e("club-champ","/club-champion.html",this.label("clubChamp"),"clubChampions_flat_icn"))}var{champs:t,pantheon:a}=ln;if(t||a){const s=yn('<div class="script-home-shortcut-container"></div>');yn('a[rel="sex-god-path"] .position').prepend(s),t&&s.append(e("champs","/champions-map.html",GT.design.Champions,"champions_flat_icn")),a&&s.append(e("pantheon","/pantheon.html",GT.design.pantheon,"pantheon_flat_icn"))}}fixMissionsTimer(){var r=window["missions_datas"];if(r){var{duration:o,remaining_time:l,next_missions:r}=r;const c=["#home_missions_bar1","#home_missions_bar2"],d=t=>{const e=Object.values(HHTimers.timers).find(e=>e.$elm&&e.$elm.selector===t);e&&(e.$elm.hide(),e.destroy())};c.forEach(d),new MutationObserver(()=>{c.forEach(d)}).observe(document.getElementById("homepage"),{childList:!0});const p=this.label("missionsReady");let e=p,t=!1,a=100,i=1,s=0,n=!0;l?(e=this.label("completeIn"),t=!0,a=100*(o-l)/o,i=o,s=l):r&&(e=this.label("newMissionsIn"),t=!0,a=100*(86400-r)/86400,i=86400,s=r,n=!1);const u=yn(`
            <div id="home_missions_bar-script">
                <div class="hh_bar finish_in_bar">
                    <div class="backbar borderbar">
                        <div class="frontbar ${t?"pinkbar":"bluebar"}" style="width: ${a}%"></div>
                    </div>
                    <div class="text">${e}<span></span></div>
                </div>
            </div>
        `);yn("[rel=activities]").after(u),t&&(r={show:l=()=>{},hide:l,selector:""},l=window.is_mobile_size,window.is_mobile_size=()=>!1,HHTimers.initBarTimer(i,s,r,{barElm:u.find(".frontbar"),textElm:u.find("div.text>span")},()=>{u.find(".text").text(p),u.find(".pinkbar").addClass("bluebar").removeClass("pinkbar"),n&&(window.notificationData.activities.push("reward"),window.displayNotifications())}),window.is_mobile_size=l)}}forceActivitiesTab(){yn("a[rel=activities]").attr("href","/activities.html?tab=missions")}};var wn=nl(40),kn={};wn.Z&&wn.Z.locals&&(kn.locals=wn.Z.locals);var $n,Sn=0,Tn={};Tn.styleTagTransform=be(),Tn.setAttributes=l(),Tn.insert=ve().bind(null,"head"),Tn.domAPI=fe(),Tn.insertStyleElement=he(),kn.use=function(e){return Tn.options=e||{},Sn++||($n=me()(wn.Z,Tn)),kn},kn.unuse=function(){0<Sn&&!--Sn&&($n(),$n=null)};const Cn=kn,Mn="popSort",Ln=["13","14","15","7","8","9","4","5","6","16","17","18","22","23","24","19","20","21","10","11","12"];const En=class extends B{constructor(){super({baseKey:Mn,label:Da.getModuleLabel("config",Mn),default:!0}),this.label=Da.getModuleLabel.bind(this,Mn),this.sortedPopIds=[]}shouldRun(){return T.isCurrentPage("activities")}run(){!this.hasRun&&this.shouldRun()&&(Cn.use(),T.defer(()=>{if(window.pop_data){this.sortPoPs();var e=window["location"];const t=new URLSearchParams(e.search),a=t.get("index");a&&(this.addQuickNav(a),this.displayGirlClasses(a),new MutationObserver(()=>{this.displayGirlClasses(a)}).observe($(".pop_right_part .grid_view")[0],{childList:!0}))}}),this.hasRun=!0)}sortPoPs(){var t,e=window["pop_data"],e=Object.keys(e);const a=(t=e,Ln.filter(e=>t.includes(e)));this.sortedPopIds=a;let i=$(".pop_thumb_container:has([pop_id=3])");a.forEach(e=>{e=$(`.pop_thumb_container:has([pop_id=${e}])`);i.after(e),i=e})}addQuickNav(a){if(a){const i=window["pop_data"];const s=[...["1","2","3"].filter(e=>!i[e].locked),...this.sortedPopIds];a=s.indexOf(a);let e=a-1;e<0&&(e+=s.length);let t=a+1;t>=s.length&&(t-=s.length);const n=[{name:"prev",id:s[e]},{name:"next",id:s[t]}],r=$('<div class="pop-quick-nav"></div>');n.forEach(({name:e,id:t})=>{r.append(`<a href="/activities.html?tab=pop&index=${t}" class="back_button"><span class="pop-quick-nav-${e} townForward_flat_icn"></span></a>`)}),$(".pop_right_part").append(r)}}displayGirlClasses(t){if(t){const{pop_data:a,pop_hero_girls:i}=window;const{status:s,girls:n}=a[t];let e=n;"can_start"!==s&&(e=n.filter(({assigned:e})=>e===t));const r=$(".pop_right_part .grid_view");e.forEach(({id_girl:e})=>{var t=i[e]["class"];const a=r.find(`[girl=${e}]`);a.append(`<span class="script-girl-class" carac="${t}"></span>`)})}}};var In=nl(59),An={};In.Z&&In.Z.locals&&(An.locals=In.Z.locals);var Rn,Pn=0,Dn={};Dn.styleTagTransform=be(),Dn.setAttributes=l(),Dn.insert=ve().bind(null,"head"),Dn.domAPI=fe(),Dn.insertStyleElement=he(),An.use=function(e){return Dn.options=e||{},Pn++||(Rn=me()(In.Z,Dn)),An},An.unuse=function(){0<Pn&&!--Pn&&(Rn(),Rn=null)};const Nn=An,Gn="seasonStats";const Hn=class extends B{constructor(){super({baseKey:Gn,label:Da.getModuleLabel("config",Gn),default:!0}),this.label=Da.getModuleLabel.bind(this,Gn)}shouldRun(){return T.isCurrentPage("season.html")||T.isCurrentPage("season-arena")}run(){!this.hasRun&&this.shouldRun()&&(Nn.use(),T.defer(()=>{var e,t,a,i,s=T.lsGet(f.SEASON_STATS);s&&({fights:i,victories:e,losses:t,won_mojo:a,lost_mojo:s}=s,i=`
            <span class="scriptSeasonStatsTooltip" style="visibility: visible;">
                <table>
                    <tbody>
                        <tr><td>${this.label("fights")} :</td><td>${i}</td></tr>
                        <tr><td>${this.label("victories")} :</td><td>${e}</td></tr>
                        <tr><td>${this.label("defeats")} :</td><td>${t}</td></tr>
                    </tbody>
                </table>
                <hr/>
                <table>
                    <tbody>
                        <tr><td>${this.label("mojoWon")} :</td><td>${a}</td></tr>
                        <tr><td>${this.label("mojoLost")} :</td><td>${s}</td></tr>
                    </tbody>
                </table>
                <hr/>
                <table>
                    <tbody>
                        <tr><td>${this.label("mojoWonAvg")} :</td><td>${Da.nRounding(a/Math.max(e,1),2,-1)}</td></tr>
                        <tr><td>${this.label("mojoLostAvg")} :</td><td>${Da.nRounding(s/Math.max(t,1),2,-1)}</td></tr>
                        <tr><td>${this.label("mojoAvg")} :</td><td>${Da.nRounding((a-s)/Math.max(i,1),2,-1)}</td></tr>
                    </tbody>
                </table>
            </span>
        `.replace(/( {4}|\n)/g,""),i=$('<span class="scriptSeasonStats">Stats</span>').attr("hh_title",i),(T.isCurrentPage("season.html")?$("div#seasons_tab_title"):$(".hero .hero_details .center_y")).append(i))}),this.hasRun=!0)}};var jn=nl(774),On={};jn.Z&&jn.Z.locals&&(On.locals=jn.Z.locals);var Bn,zn=0,Fn={};Fn.styleTagTransform=be(),Fn.setAttributes=l(),Fn.insert=ve().bind(null,"head"),Fn.domAPI=fe(),Fn.insertStyleElement=he(),On.use=function(e){return Fn.options=e||{},zn++||(Bn=me()(jn.Z,Fn)),On},On.unuse=function(){0<zn&&!--zn&&(Bn(),Bn=null)};const Un=On,Zn="pachinkoNames";const qn=class extends B{constructor(){super({baseKey:Zn,label:Da.getModuleLabel("config",Zn),default:!0}),this.label=Da.getModuleLabel.bind(this,Zn)}shouldRun(){return T.isCurrentPage("pachinko")}run(){!this.hasRun&&this.shouldRun()&&(Un.use(),T.defer(()=>{const i=T.getGirlDictionary();this.girlLists={},pachinkoDef.forEach(({type:e,content:t})=>{const a=t&&t.rewards&&t.rewards.girl_shards&&t.rewards.girl_shards.plain_data||[];t=a.map(({id_girl:e})=>i.get(e));this.girlLists[e]=t});const e=()=>{const e=new MutationObserver(()=>this.applyPanel());e.observe($(".playing-zone")[0],{attributes:!0}),this.applyPanel()};if($(".playing-zone").length)e();else{const t=new MutationObserver(()=>{$(".playing-zone").length&&(t.disconnect(),e())});t.observe($("#pachinko_whole")[0],{childList:!0})}}),this.hasRun=!0)}applyPanel(){var e=$(".playing-zone").attr("type-panel");const t=this.girlLists[e],a=T.isCxH(),i=T.$(`
            <div class="availableGirls rarity-styling">
                <div class="scrollArea">
                    ${t.length?this.label("availableGirls"):""}
                    ${t.map(e=>e?`<${a?"span":`a href="${T.getWikiLink(e.name)}" target="_blank"`} class="availableGirl ${e.rarity}-text">${e.name.replace(" ","")}</${a?"span":"a"}>`:'<span class="unknownGirl">Unknown</a>').join(", ")}
                </div>
            </div>
        `);$(".game-rewards").before(i),i.niceScroll(".scrollArea",{bouncescroll:!1}),i.find(".nicescroll-rails-vr").css("right","5px")}};var Vn=nl(673),Wn={};Vn.Z&&Vn.Z.locals&&(Wn.locals=Vn.Z.locals);var Kn,Yn=0,Xn={};Xn.styleTagTransform=be(),Xn.setAttributes=l(),Xn.insert=ve().bind(null,"head"),Xn.domAPI=fe(),Xn.insertStyleElement=he(),Wn.use=function(e){return Xn.options=e||{},Yn++||(Kn=me()(Vn.Z,Xn)),Wn},Wn.unuse=function(){0<Yn&&!--Yn&&(Kn(),Kn=null)};const Jn=Wn,Qn="contestSummary";const er=class extends B{constructor(){super({baseKey:Qn,label:Da.getModuleLabel("config",Qn),default:!0}),this.label=Da.getModuleLabel.bind(this,Qn)}shouldRun(){return T.isCurrentPage("activities")}run(){!this.hasRun&&this.shouldRun()&&(Jn.use(),T.defer(()=>{this.displayRewardSums();const e=new MutationObserver(e=>{for(const t of e)"childList"===t.type&&this.displayRewardSums()});e.observe($(".left_part .scroll_area")[0],{attributes:!1,childList:!0,subtree:!1})}),this.hasRun=!0)}displayRewardSums(){const e=$(".over_bunny.over_panel"),a=$(".contest_header.ended .slot, .contest_header.ended .shards_girl_ico");let i={};function s(e){try{return Da.parseLocaleRoundedInt(e.getElementsByTagName("p")[0].innerText)}catch(e){return 1}}for(let t=0;t<a.length;t++){var n=a[t].children[0].attributes.getNamedItem("src"),n=`${a[t].className}${a[t].children[0].className}${n?n.value:""}`;try{i[n].amount+=s(a[t])}catch(e){i[n]={div:a[t].cloneNode(!0),amount:s(a[t])}}}this.$rewardsDisplay||(this.$rewardsDisplay=$('<div class="scriptRewardsDisplay"></div>'),e.append(this.$rewardsDisplay)),this.$rewardsDisplay.html(""),this.$rewardsDisplay.append(`<h3>${this.label("totalRewards",{contests:$(".contest .contest_header.ended").length})}</h3>`);for(const t in i){let e=i[t].div;try{e.getElementsByTagName("p")[0].remove()}catch(e){}e.innerHTML+=`<p>${e.className.includes("slot")?"":"X"}${Da.nRounding(i[t].amount,1,-1)}</p>`,e.className+=" reward_sum",e.className.includes("slot")||e.children[1].setAttribute("shards",`${Da.nRounding(i[t].amount,1,-1)}`),this.$rewardsDisplay.append(i[t].div)}this.$rewardsDisplay.append(`<br><br>${this.label("contestsWarning")}`)}},tr="battleEndstate";const ar=class extends B{constructor(){super({baseKey:tr,label:Da.getModuleLabel("config",tr),default:!0})}shouldRun(){return T.isCurrentPage("battle")&&!T.isCurrentPage("pre-battle")}run(){!this.hasRun&&this.shouldRun()&&(T.onAjaxResponse(/action=do_(league|season|troll|pantheon|boss_bang)_battles/i,e=>{T.isCurrentPage("troll-battle")&&~location.search.search(/number_of_battles=\d+/i)&&(a=parseInt(location.search.match(/number_of_battles=(\d+)/i)[1],10),$.isNumeric(a)&&Hero.update("energy_fight",-1*a,!0));var t=e.rounds;const f=$(".new-battle-player .new-battle-hero-ego-value").data("initialEgo"),b=$(".new-battle-opponent .new-battle-hero-ego-value").data("initialEgo");let v=0,y=0;var a=t.length;if(2<=a){e=[t[a-2],t[a-1]];y=e[1].opponent_hit?e[1].hero_hit?(v=t[a-1].opponent_hit.defender.remaining_ego,t[a-1].hero_hit.defender.remaining_ego):(v=e[1].opponent_hit.defender.remaining_ego,e[0].hero_hit.defender.remaining_ego):(v=e[0].opponent_hit.defender.remaining_ego,e[1].hero_hit.defender.remaining_ego)}else{if(1!==a)throw new Error("incorrect amount of rounds");y=t[0].opponent_hit?t[0].hero_hit?(v=t[0].opponent_hit.defender.remaining_ego,t[0].hero_hit.defender.remaining_ego):(v=t[0].opponent_hit.defender.remaining_ego,b):(v=f,t[0].hero_hit.defender.remaining_ego)}$("#new-battle-skip-btn").on("click",function(){var e=$(".new-battle-player .new-battle-hero-ego-initial-bar"),t=$(".new-battle-player .new-battle-hero-ego-damage-bar"),a=$(".new-battle-opponent .new-battle-hero-ego-initial-bar"),i=$(".new-battle-opponent .new-battle-hero-ego-damage-bar");const s=$(".new-battle-player .new-battle-hero-ego-value"),n=$(".new-battle-opponent .new-battle-hero-ego-value"),r=$(".new-battle-opponent .new-battle-hero-damage-taken-text"),o=$(".new-battle-player .new-battle-hero-damage-taken-text"),l=$(".new-battle-hero-container .new-battle-hero-critical-text");r.css("opacity","0"),o.css("opacity","0"),l.css("opacity","0");var c=s.text().split(GT.ego)[1].replace(/[, ]/g,"");let d=f;$.isNumeric(c)&&(d=parseInt(c));c=n.text().split(GT.ego)[1].replace(/[, ]/g,"");let p=b;$.isNumeric(c)&&(p=parseInt(c));const u=p-y,h=d-v;r.text(u.toString()),o.text(h.toString());const m=v<=0?0:v/f*100,g=y<=0?0:y/b*100;t=[{e:e,p:{width:m.toFixed(2)+"%"},o:{duration:200}},{e:t,p:{width:m.toFixed(2)+"%"},o:{duration:200}},{e:r,p:{opacity:[0,1],translateY:-20,translateZ:0},o:{duration:300,sequenceQueue:!1,complete:function(e){s.text(GT.ego+" "+v.toString()),$(e).velocity({translateY:0},0)}}}],i=[{e:a,p:{width:g.toFixed(2)+"%"},o:{duration:200}},{e:i,p:{width:g.toFixed(2)+"%"},o:{duration:200}},{e:o,p:{opacity:[0,1],translateY:-20,translateZ:0},o:{duration:300,sequenceQueue:!1,complete:function(e){n.text(GT.ego+" "+y.toString()),$(e).velocity({translateY:0},0)}}}];$(".velocity-animating").velocity("stop",!0),newBattles.setRounds([]),$.Velocity.RunSequence(t),$.Velocity.RunSequence(i)}),$("#new-battle-skip-btn").show()}),this.hasRun=!0)}};var ir=nl(995),sr={};ir.Z&&ir.Z.locals&&(sr.locals=ir.Z.locals);var nr,rr=0,or={};or.styleTagTransform=be(),or.setAttributes=l(),or.insert=ve().bind(null,"head"),or.domAPI=fe(),or.insertStyleElement=he(),sr.use=function(e){return or.options=e||{},rr++||(nr=me()(ir.Z,or)),sr},sr.unuse=function(){0<rr&&!--rr&&(nr(),nr=null)};const lr=sr,cr="gemStock";const dr=class extends B{constructor(){super({baseKey:cr,label:Da.getModuleLabel("config",cr),default:!0}),this.label=Da.getModuleLabel.bind(this,cr)}shouldRun(){return T.isCurrentPage("shop")||T.isCurrentPage("harem")&&!T.isCurrentPage("hero")}buildGemsTable(){const e=Object.keys(ni);return`
        <table class="gemStock-table">
            <tbody>
                ${e.map(e=>`
                    <tr>
                        <td><img src="${T.getCDNHost()}/pictures/design/gems/${e}.png"></td>
                        <td>${Da.nThousand(+player_gems_amount[e].amount)}</td>
                    </tr>
                `).join("")}
            </tody>
        </table>
    `.replace(/(\n| {4})/g,"")}buildGemsStockElem(){return $('<div class="gemStock"></div>').attr("hh_title",this.buildGemsTable())}run(){!this.hasRun&&this.shouldRun()&&(lr.use(),T.defer(()=>{this.injectCSSVars();var e=this.buildGemsStockElem();let t;t=T.isCurrentPage("shop")?$("#shops_right #girls_list"):$("#harem_whole #harem_right"),t.prepend(e)}),this.hasRun=!0)}injectCSSVars(){ue.registerVar("gem-stock-icon",`url('${T.getCDNHost()}/pictures/design/gems/all.png')`)}},pr="staticBackground";const ur=class extends B{constructor(){super({baseKey:pr,label:Da.getModuleLabel("config",pr),default:!0})}run(){this.hasRun||(T.defer(()=>{"map"!==$("body[ page ]").attr("page")&&($("#bg_all").replaceWith($("#bg_all").clone()),$("#bg_all > div > img").not($("#bg_all > div > img")[Math.floor(Math.random()*$("#bg_all > div > img").length)]).remove(),$("#bg_all > div > img").css("opacity","1"),$("#bg_all > div > img").css("display","block"))}),this.hasRun=!0)}};var hr=nl(573),mr={};hr.Z&&hr.Z.locals&&(mr.locals=hr.Z.locals);var gr,fr=0,br={};br.styleTagTransform=be(),br.setAttributes=l(),br.insert=ve().bind(null,"head"),br.domAPI=fe(),br.insertStyleElement=he(),mr.use=function(e){return br.options=e||{},fr++||(gr=me()(hr.Z,br)),mr},mr.unuse=function(){0<fr&&!--fr&&(gr(),gr=null)};const vr=mr,yr="rewardShards",_r=/(?<id>[0-9]+)\/ico[0-9]-[0-9]+x.[a-z]+(\?v=[0-9]+)?$/i,xr=e=>{e=e.match(_r);if(e&&e.groups){var{groups:{id:e}}=e;return e}},wr=({shards:e,name:t,className:a})=>`<div class="script-shard-count ${a||""}" shards="${e}" name="${t}"><span class="shard"></span> ${e}</div>`;const kr=class extends B{constructor(){super({baseKey:yr,label:Da.getModuleLabel("config",yr),default:!0}),this.label=Da.getModuleLabel.bind(this,yr)}shouldRun(){return["pre-battle","clubs","pachinko","season-arena","tower-of-fame"].some(e=>T.isCurrentPage(e))}run(){!this.hasRun&&this.shouldRun()&&(vr.use(),T.defer(()=>{T.isCurrentPage("pre-battle")&&this.displayOnPreBattle(),T.isCurrentPage("clubs")&&this.displayOnClubChampion(),T.isCurrentPage("pachinko")&&this.displayOnPachinko(),T.isCurrentPage("season-arena")&&this.displayOnSeason(),T.isCurrentPage("tower-of-fame")&&this.displayOnLeague()}),this.hasRun=!0)}displayOnPreBattle(){const s=T.getGirlDictionary(),e=$(".girls_reward");if(e.length){const t=e=>{const t=e.find(".girl_ico");t.each((e,a)=>{const i=$(a),t=i.find("img");if(t.length){a=t.attr("src"),a=xr(a);if(a){a=s.get(a);let e,t;a?{name:e,shards:t}=a:t=0,i.append(wr({name:e,shards:t}))}}})};$(".slot_girl_shards .girl_ico").length?t(e):new MutationObserver(()=>{$(".slot_girl_shards .girl_ico").length&&t(e)}).observe(e.find("[data-reward-display]")[0],{childList:!0}),new MutationObserver(()=>{$(".rewards_tooltip .girl_ico").length&&t($(".rewards_tooltip"))}).observe(document.body,{childList:!0})}}displayOnClubChampion(){const a=window["clubChampionsData"];if(a&&a.reward.shards){const e=()=>{var{previous_value:e,name:t}=a.reward.shards[0];$(".reward_wrap .shards_girl_ico").append(wr({shards:e,name:t}))};if($(".reward_wrap .shards_girl_ico").length)e();else{const t=new MutationObserver(()=>{$(".reward_wrap .shards_girl_ico").length&&(e(),t.disconnect())});t.observe($(".reward_wrap")[0],{childList:!0})}}}displayOnPachinko(){new MutationObserver(()=>{$(".rewards_tooltip .girl_ico").length&&(()=>{const s=T.getGirlDictionary();$(".rewards_tooltip .girl_ico").each((e,a)=>{const i=$(a),t=i.find("img");if(t.length){a=t.attr("src"),a=xr(a);if(a){a=s.get(a);let e,t;a?{name:e,shards:t}=a:t=0,i.append(wr({name:e,shards:t}))}}})})()}).observe(document.body,{childList:!0})}displayOnSeason(){const e=()=>{const s=T.getGirlDictionary();$(".arena-rewards-list .slot_girl_shards .girl_ico").each((e,a)=>{const i=$(a),t=i.find("img");if(t.length){a=t.attr("src"),a=xr(a);if(a){a=s.get(a);let e,t;a?{name:e,shards:t}=a:t=0,i.append(wr({name:e,shards:t})),i.parents(".arena-rewards-list").addClass("script-has-girl-reward")}}})};if($(".arena-rewards-list .slot_girl_shards .girl_ico").length)e();else if($(".arena-rewards-list .slot_girl_shards").length){const t=new MutationObserver(()=>{$(".arena-rewards-list .slot_girl_shards .girl_ico").length&&(e(),t.disconnect())});t.observe($(".arena-rewards-list .slot_girl_shards")[0],{childList:!0})}else if($(".arena-rewards-list .girls_reward [data-reward-display]").length){const a=new MutationObserver(()=>{$(".arena-rewards-list .slot_girl_shards .girl_ico").length&&(e(),a.disconnect())});a.observe($(".arena-rewards-list .girls_reward [data-reward-display]")[0],{childList:!0})}}displayOnLeague(){const e=()=>{const a=T.getGirlDictionary(),i=$(".leagues_girl_reward_container .girl_ico");if(i.length){const e=i.find("img");if(e.length){var s=e.attr("src"),s=xr(s);if(s){s=a.get(s);let e,t;s?{name:e,shards:t}=s:t=0,i.find(".script-shard-count").remove(),i.append(wr({name:e,shards:t}))}}}};if($(".leagues_girl_reward_container .girl_ico").length)e();else{const t=new MutationObserver(()=>{$(".leagues_girl_reward_container .girl_ico").length&&(e(),t.disconnect())});t.observe($(".leagues_middle_header")[0],{childList:!0})}$(document).on("girl-dictionary:updated",e)}};var $r=nl(613),Sr={};$r.Z&&$r.Z.locals&&(Sr.locals=$r.Z.locals);var Tr,Cr=0,Mr={};Mr.styleTagTransform=be(),Mr.setAttributes=l(),Mr.insert=ve().bind(null,"head"),Mr.domAPI=fe(),Mr.insertStyleElement=he(),Sr.use=function(e){return Mr.options=e||{},Cr++||(Tr=me()($r.Z,Mr)),Sr},Sr.unuse=function(){0<Cr&&!--Cr&&(Tr(),Tr=null)};const Lr=Sr,Er="leaderboardFix";const Ir=class extends B{constructor(){super({baseKey:Er,label:Da.getModuleLabel("config",Er),default:!0}),this.label=Da.getModuleLabel.bind(this,Er)}shouldRun(){return["season.html","path-of-valor"].some(e=>T.isCurrentPage(e))}run(){!this.hasRun&&this.shouldRun()&&(Lr.use(),T.defer(()=>{T.isCurrentPage("season.html")?this.fixSeasonLeaderboard():T.isCurrentPage("path-of-valor")&&this.fixPoVLeaderboard()}),this.hasRun=!0)}fixSeasonLeaderboard(){const e=window["leaderboard_data"];var t=e.find(({is_hero:e})=>e);if(t){const a=$("#leaderboard_list .leaderboard_row").eq(t.index).clone();a.addClass("script-player-row");const i=$('<div class="script-player-row-container"></div>');i.append(a),$("#leaderboard_holder").append(i)}}fixPoVLeaderboard(){const a=new MutationObserver(()=>{a.disconnect();const e=$("#leaderboard_list .leaderboard_row.hero-row").clone();e.addClass("script-player-row");const t=$('<div class="script-player-row-container"></div>');t.append(e),$("#leaderboard_holder").append(t)});a.observe(document.getElementById("leaderboard_list"),{childList:!0})}};var Ar=nl(636),Rr={};Ar.Z&&Ar.Z.locals&&(Rr.locals=Ar.Z.locals);var Pr,Dr=0,Nr={};Nr.styleTagTransform=be(),Nr.setAttributes=l(),Nr.insert=ve().bind(null,"head"),Nr.domAPI=fe(),Nr.insertStyleElement=he(),Rr.use=function(e){return Nr.options=e||{},Dr++||(Pr=me()(Ar.Z,Nr)),Rr},Rr.unuse=function(){0<Dr&&!--Dr&&(Pr(),Pr=null)};const Gr=Rr,Hr="hideClaimedRewards";const jr=class extends B{constructor(){super({baseKey:Hr,label:Da.getModuleLabel("config",Hr),default:!0}),this.label=Da.getModuleLabel.bind(this,Hr)}shouldRun(){return["path-of-valor","season.html","event.html"].some(e=>T.isCurrentPage(e))}run(){!this.hasRun&&this.shouldRun()&&(Gr.use(),T.defer(()=>{T.isCurrentPage("path-of-valor")?this.pov():T.isCurrentPage("season.html")?this.season():T.isCurrentPage("event.html")&&this.poa()}),this.hasRun=!0)}pov(){const e=$(".pov-tier:not(.unclaimed):has(.claimed-slot)");var a=$(".pov-tier.unclaimed"),i=e.length,t=a.length;if(0!==i){e.addClass("script-hide-claimed");const r=$(".pov-progress-bar .pov-progress-bar-current"),o=r.attr("style");if(o){var s,n=/height: ?(?<existingLength>[0-9.a-z]+);?/,a=o.match(n);let t;if(a&&a.groups&&(t=a.groups.existingLength),t){let e=t;t.endsWith("px")?(s=parseInt(t),e=Math.round(s-62.4*i)+"px"):t.endsWith("rem")&&(s=parseFloat(t),e=s-3.9*i+"rem"),r.attr("style",o.replace(n,`height:${e};`))}}$(".pov-progress-bar-section").stop(!0).animate({scrollTop:Math.max(0,62.4*t-150)},100)}}season(){const l=e=>{const t=$(".rewards_pair"),{season_tiers:s,season_has_pass:n,season_tier:r}=window;let o=0;t.each((e,t)=>{var{free_reward_picked:a,pass_reward_picked:i,tier:e}=s[e];"1"!==a||n&&"1"!==i?parseInt(e)<=r&&o++:$(t).addClass("script-hide-claimed")});var a=69.6*t.filter(":visible").length;const i=$(".rewards_seasons_row"),l=$(".rewards_container_seasons");i.css("width",`${a}px`),l.getNiceScroll().resize(),e&&(e=69.6*o,l.getNiceScroll(0).doScrollLeft(Math.max(0,e-600),200))},e=$(".rewards_container_seasons");if(e.length&&e.getNiceScroll(0).doScrollLeft)l(!0);else{const t=new MutationObserver(()=>{const e=$(".rewards_container_seasons");e.length&&e.getNiceScroll(0).doScrollLeft&&(t.disconnect(),l(!0))});t.observe(document.getElementById("seasons_tab_container"),{childList:!0,subtree:!0})}T.onAjaxResponse(/action=claim/,(e,t)=>{const a=new URLSearchParams(t.data),i=a.get("key");t=i.match(/(?<type>free|pass)_(?<tier>[0-9]+)/);let s,n;t&&t.groups&&({type:s,tier:n}=t.groups);const r=window["season_tiers"],o=r.find(({tier:e})=>n===e);o&&(o[`${s}_reward_picked`]="1"),l(!1)})}poa(){if($('a.active[href*="?tab=path_event_"]').length){const s=window["bonusRewardsUnlocked"],e=()=>{$(".nc-poa-reward-pair").each((e,t)=>{const a=$(t).find(".nc-poa-free-reward"),i=$(t).find(".nc-poa-locked-reward");!a.hasClass("claimed")||!i.hasClass("claimed")&&s||$(t).addClass("script-hide-claimed")})},t=()=>{$(".scroll-area").getNiceScroll().resize()};e(),t();const a=()=>{$(".script-hide-claimed").length?$(".nc-poa-reward-pair").removeClass("script-hide-claimed"):e(),t()};$("#poa-content .girls").click(()=>{a()})}}},Or="disableDragDrop";const Br=class extends B{constructor(){super({baseKey:Or,label:Da.getModuleLabel("config",Or),default:!0}),this.label=Da.getModuleLabel.bind(this,Or)}shouldRun(){return T.isCurrentPage("shop")}run(){!this.hasRun&&this.shouldRun()&&(T.defer(()=>{var e=()=>{const e=$(".ui-draggable");e.length&&e.draggable("destroy")};e(),new MutationObserver(e).observe(document.getElementById("shops"),{attributes:!0,attributeFilter:["class"],subtree:!0})}),this.hasRun=!0)}},zr="autoRefresh";const Fr=class extends B{constructor(){super({baseKey:zr,label:Da.getModuleLabel("config",zr),default:!1})}shouldRun(){return!0}run(){!this.hasRun&&this.shouldRun()&&(setTimeout(()=>{window.location.reload()},6e5),this.hasRun=!0)}},Ur=["","begincity","gemskingdom","ninjavillage","invadedkingdom","juysea","admittance","magicforest","hamelintown","plainofrituals","heroesuniversity","ninjasacredlands","splatters","digisekai","stairway","training","weresquidisland"],Zr=Ur,qr=["","begincitycxh","heroacademy","newcenabum","ontheprowl","bushexplorations","thespy"],Vr="villainBreadcrumbs",Wr=(e,t)=>`<a class="back" href="${e}">${t}<span class="mapArrowBack_flat_icn"></span></a>`;const Kr=class extends B{constructor(){super({baseKey:Vr,label:Da.getModuleLabel("config",Vr),default:!0}),this.label=Da.getModuleLabel.bind(this,Vr),this.villainLabel=Da.getModuleLabel.bind(this,"villain")}shouldRun(){return T.isCurrentPage("troll-pre-battle")}run(){!this.hasRun&&this.shouldRun()&&(T.defer(()=>{const e=Na[T.getGameKey()];var t=r[T.getGameKey()];const a=new URLSearchParams(window.location.search);var i=a.get("id_opponent");const s=parseInt(i)+1;i=t[s],t=e.find(({world:e})=>e===s);const n=[Wr("/home.html",this.label("town")),Wr("/map.html",this.label("adventure")),Wr(`/world/${s}`,this.label(i)),`<span>${this.villainLabel(t.key)}</span>`];t=n.join("<span>></span>");$("#breadcrumbs").html(t)}),this.hasRun=!0)}};var ye=class extends ye{constructor(e){super({group:"st",...e}),this.styles=e.styles}run(){this.shouldRun()&&!this.hasRun&&(this.styles.use(),this.hasRun=!0)}tearDown(){this.styles.unuse()}},Yr=nl(433),Xr={};Yr.Z&&Yr.Z.locals&&(Xr.locals=Yr.Z.locals);var Jr,Qr=0,eo={};eo.styleTagTransform=be(),eo.setAttributes=l(),eo.insert=ve().bind(null,"head"),eo.domAPI=fe(),eo.insertStyleElement=he(),Xr.use=function(e){return eo.options=e||{},Qr++||(Jr=me()(Yr.Z,eo)),Xr},Xr.unuse=function(){0<Qr&&!--Qr&&(Jr(),Jr=null)};const to=Xr;const ao=class extends ye{constructor(){super({configSchema:{baseKey:"missionsBackground",default:!0,label:Da.getModuleLabel("stConfig","missionsBackground")},styles:to})}shouldRun(){return T.isCurrentPage("activities")}};var io=nl(348),so={};io.Z&&io.Z.locals&&(so.locals=io.Z.locals);var no,ro=0,oo={};oo.styleTagTransform=be(),oo.setAttributes=l(),oo.insert=ve().bind(null,"head"),oo.domAPI=fe(),oo.insertStyleElement=he(),so.use=function(e){return oo.options=e||{},ro++||(no=me()(io.Z,oo)),so},so.unuse=function(){0<ro&&!--ro&&(no(),no=null)};const lo=so;const co=class extends ye{constructor(){super({configSchema:{baseKey:"collectMoneyAnimation",default:!0,label:Da.getModuleLabel("stConfig","collectMoneyAnimation")},styles:lo})}shouldRun(){return T.isCurrentPage("harem")}};var po=nl(255),uo={};po.Z&&po.Z.locals&&(uo.locals=po.Z.locals);var ho,mo=0,go={};go.styleTagTransform=be(),go.setAttributes=l(),go.insert=ve().bind(null,"head"),go.domAPI=fe(),go.insertStyleElement=he(),uo.use=function(e){return go.options=e||{},mo++||(ho=me()(po.Z,go)),uo},uo.unuse=function(){0<mo&&!--mo&&(ho(),ho=null)};const fo=uo,bo="mobileBattle";const vo=class extends ye{constructor(){super({configSchema:{baseKey:bo,label:Da.getModuleLabel("stConfig",bo),default:!0},styles:fo}),this.label=Da.getModuleLabel.bind(this,bo)}shouldRun(){return T.isCurrentPage("battle")}};var yo=nl(738),_o={};yo.Z&&yo.Z.locals&&(_o.locals=yo.Z.locals);var xo,wo=0,ko={};ko.styleTagTransform=be(),ko.setAttributes=l(),ko.insert=ve().bind(null,"head"),ko.domAPI=fe(),ko.insertStyleElement=he(),_o.use=function(e){return ko.options=e||{},wo++||(xo=me()(yo.Z,ko)),_o},_o.unuse=function(){0<wo&&!--wo&&(xo(),xo=null)};const $o=_o,So="darkMobileLeague";const To=class extends ye{constructor(){super({configSchema:{baseKey:So,label:Da.getModuleLabel("stConfig",So),default:!0},styles:$o})}shouldRun(){return T.isCurrentPage("tower-of-fame")}};var Co=nl(527),Mo={};Co.Z&&Co.Z.locals&&(Mo.locals=Co.Z.locals);var Lo,Eo=0,Io={};Io.styleTagTransform=be(),Io.setAttributes=l(),Io.insert=ve().bind(null,"head"),Io.domAPI=fe(),Io.insertStyleElement=he(),Mo.use=function(e){return Io.options=e||{},Eo++||(Lo=me()(Co.Z,Io)),Mo},Mo.unuse=function(){0<Eo&&!--Eo&&(Lo(),Lo=null)};const Ao=Mo,Ro="hideRotateDevice";const Po=class extends ye{constructor(){super({configSchema:{baseKey:Ro,label:Da.getModuleLabel("stConfig",Ro),default:!0},styles:Ao})}shouldRun(){return!0}};var Do=nl(893),No={};Do.Z&&Do.Z.locals&&(No.locals=Do.Z.locals);var Go,Ho=0,jo={};jo.styleTagTransform=be(),jo.setAttributes=l(),jo.insert=ve().bind(null,"head"),jo.domAPI=fe(),jo.insertStyleElement=he(),No.use=function(e){return jo.options=e||{},Ho++||(Go=me()(Do.Z,jo)),No},No.unuse=function(){0<Ho&&!--Ho&&(Go(),Go=null)};const Oo=No,Bo="salaryTimers";const zo=class extends ye{constructor(){super({configSchema:{baseKey:Bo,label:Da.getModuleLabel("stConfig",Bo),default:!0},styles:Oo})}shouldRun(){return T.isCurrentPage("harem")}};var Fo=nl(136),Uo={};Fo.Z&&Fo.Z.locals&&(Uo.locals=Fo.Z.locals);var Zo,qo=0,Vo={};Vo.styleTagTransform=be(),Vo.setAttributes=l(),Vo.insert=ve().bind(null,"head"),Vo.domAPI=fe(),Vo.insertStyleElement=he(),Uo.use=function(e){return Vo.options=e||{},qo++||(Zo=me()(Fo.Z,Vo)),Uo},Uo.unuse=function(){0<qo&&!--qo&&(Zo(),Zo=null)};const Wo=Uo,Ko="moveSkipButton";const Yo=class extends ye{constructor(){super({configSchema:{baseKey:Ko,label:Da.getModuleLabel("stConfig",Ko),default:!0},styles:Wo})}shouldRun(){return!0}};var Xo=nl(786),Jo={};Xo.Z&&Xo.Z.locals&&(Jo.locals=Xo.Z.locals);var Qo,el=0,tl={};tl.styleTagTransform=be(),tl.setAttributes=l(),tl.insert=ve().bind(null,"head"),tl.domAPI=fe(),tl.insertStyleElement=he(),Jo.use=function(e){return tl.options=e||{},el++||(Qo=me()(Xo.Z,tl)),Jo},Jo.unuse=function(){0<el&&!--el&&(Qo(),Qo=null)};const al=Jo,il="poseAspectRatio";const sl=class extends ye{constructor(){super({configSchema:{baseKey:il,label:Da.getModuleLabel("stConfig",il),default:!0},styles:al})}shouldRun(){return!0}};$?"/"===location.pathname&&(location.hostname.includes("www")||location.hostname.includes("test"))||("/integrations/"===location.pathname&&location.hostname.includes("nutaku")?location.replace(`${location.origin}/home.html`):(()=>{const e=new Ce;E.collect(),I.collect(),R.collect(),N.collect(),W.collect(),X.collect(),ae.collect(),ne.collect(),re.collect(),le.collect(),e.registerGroup({key:"core",name:`${T.getGameKey()}++ Core`}),e.registerModule(new Za),e.registerModule(new ti),e.registerModule(new gi),e.registerModule(new Ii),e.registerModule(new Bi),e.registerModule(new Yi),e.registerModule(new ds),e.registerModule(new ys),e.registerModule(new Ns),e.registerModule(new Us),e.registerModule(new Qs),e.registerModule(new un),e.registerModule(new xn),T.isCxH()||e.registerModule(new En),e.registerModule(new Hn),e.registerModule(new qn),e.registerModule(new er),e.registerModule(new ar),e.registerModule(new dr),e.registerModule(new ur),e.registerModule(new kr),e.registerModule(new Ir),e.registerModule(new jr),e.registerModule(new Br),e.registerModule(new Fr),e.registerModule(new Kr),e.registerGroup({key:"st",name:"Style Tweaks",iconEl:"<div></div>"}),e.registerModule(new ao),e.registerModule(new co),e.registerModule(new vo),e.registerModule(new To),e.registerModule(new Po),T.isCxH()&&e.registerModule(new zo),e.registerModule(new Yo),e.registerModule(new sl),e.loadConfig(),e.runModules(),T.runDeferred(),window.hhPlusPlusConfig={registerGroup:e.registerGroup.bind(e),registerModule:e.registerModule.bind(e),runModules:e.runModules.bind(e),loadConfig:e.loadConfig.bind(e)}})()):console.log("HH++ WARNING: No jQuery found. Probably an error page. Ending the script here")})()})();